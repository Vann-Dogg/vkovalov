webpackHotUpdate("static/development/pages/_app.js",{

/***/ "./node_modules/particles-bg/dist/index.es.js":
/*!****************************************************!*\
  !*** ./node_modules/particles-bg/dist/index.es.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var raf_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raf-manager */ \"./node_modules/raf-manager/build/RAFManager.min.js\");\n/* harmony import */ var raf_manager__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(raf_manager__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var proton_engine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! proton-engine */ \"./node_modules/proton-engine/build/proton.min.js\");\n/* harmony import */ var proton_engine__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(proton_engine__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n// Code source from here, thanks author\n// https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\nvar Rand = function () {\n    function Rand() {\n        classCallCheck(this, Rand);\n\n        this.list = [];\n    }\n\n    createClass(Rand, [{\n        key: \"set\",\n        value: function set$$1(probability, target) {\n            this.list.push({\n                probability: probability,\n                target: target,\n                a: 0,\n                b: 1\n            });\n\n            this.calculation();\n        }\n    }, {\n        key: \"calculation\",\n        value: function calculation() {\n            var total = 0;\n            for (var i = 0; i < this.list.length; i++) {\n                total += this.list[i].probability;\n            }\n\n            for (var _i = 0; _i < this.list.length; _i++) {\n                var obj = this.list[_i];\n                var val = obj.probability / total;\n\n                obj.a = _i === 0 ? 0 : this.list[_i - 1].b;\n                obj.b = obj.a + val;\n            }\n        }\n    }, {\n        key: \"getResult\",\n        value: function getResult() {\n            var val = Math.random();\n            for (var i = 0; i < this.list.length; i++) {\n                var obj = this.list[i];\n\n                if (val <= obj.b && val > obj.a) {\n                    return obj.target;\n                }\n            }\n\n            return this.list[0].target;\n        }\n    }]);\n    return Rand;\n}();\n\nvar Canvas = function (_React$Component) {\n  inherits(Canvas, _React$Component);\n\n  function Canvas(props) {\n    classCallCheck(this, Canvas);\n\n    var _this = possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, props));\n\n    _this._id = 0;\n    _this.size = { width: 0, height: 0 };\n    _this.canvasRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();\n    return _this;\n  }\n\n  createClass(Canvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.initCanvas();\n        _this2.resize = _this2.resize.bind(_this2);\n        window.addEventListener(\"resize\", _this2.resize);\n      }, 100);\n\n      var canvas = this.canvasRef.current;\n      this.props.onCanvasDidMount && this.props.onCanvasDidMount(canvas);\n    }\n  }, {\n    key: \"initCanvas\",\n    value: function initCanvas() {\n      var canvas = this.canvasRef.current;\n      if (this.props.globalCompositeOperation) {\n        var context = canvas.getContext(\"2d\");\n        context.globalCompositeOperation = this.props.globalCompositeOperation;\n      }\n\n      var _setCanvasSize = this.setCanvasSize(canvas),\n          width = _setCanvasSize.width,\n          height = _setCanvasSize.height;\n\n      this.heartbeatDetectionCanvasSize(canvas);\n      this.props.onCanvasInited(canvas, width, height);\n    }\n  }, {\n    key: \"heartbeatDetectionCanvasSize\",\n    value: function heartbeatDetectionCanvasSize(canvas) {\n      var _this3 = this;\n\n      this._id = setInterval(function () {\n        if (_this3.canvasRef.current) {\n          var newHeight = _this3.canvasRef.current.clientHeight;\n          if (newHeight !== _this3.size.height) {\n            var _setCanvasSize2 = _this3.setCanvasSize(canvas),\n                width = _setCanvasSize2.width,\n                height = _setCanvasSize2.height;\n\n            _this3.props.onResize && _this3.props.onResize(width, height);\n          }\n        }\n      }, 1000 / 10);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        window.removeEventListener(\"resize\", this.resize);\n        clearInterval(this._id);\n      } catch (e) {}\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var canvas = this.canvasRef.current;\n\n      var _setCanvasSize3 = this.setCanvasSize(canvas),\n          width = _setCanvasSize3.width,\n          height = _setCanvasSize3.height;\n\n      this.props.onResize && this.props.onResize(width, height);\n    }\n  }, {\n    key: \"setCanvasSize\",\n    value: function setCanvasSize(canvas) {\n      var width = this.canvasRef.current.clientWidth;\n      var height = this.canvasRef.current.clientHeight;\n\n      this.size.width = width;\n      this.size.height = height;\n      canvas.width = width;\n      canvas.height = height;\n      return { width: width, height: height };\n    }\n  }, {\n    key: \"handleWaypointEnter\",\n    value: function handleWaypointEnter() {\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.start();\n    }\n  }, {\n    key: \"handleWaypointLeave\",\n    value: function handleWaypointLeave() {\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.stop();\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var style = { width: \"100%\", height: \"100%\" };\n\n      if (this.props.bg) {\n        style = Object.assign(style, {\n          position: \"absolute\",\n          zIndex: -1,\n          top: 0,\n          left: 0\n        });\n      }\n      return style;\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      this.props.onMouseDown && this.props.onMouseDown(e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"canvas\", {\n        ref: this.canvasRef,\n        onMouseDown: this.handleMouseDown.bind(this),\n        style: this.getStyle()\n      });\n    }\n  }]);\n  return Canvas;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nfunction hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : {};\n}\n\nfunction getColor(color, a) {\n    var c = void 0;\n    if (color) {\n        c = hexToRgb(color);\n        return \"rgba(\" + c.r + \",\" + c.g + \",\" + c.b + \", \" + a + \")\";\n    } else {\n        return null;\n    }\n}\n\nvar Ball = function (_React$Component) {\n  inherits(Ball, _React$Component);\n\n  function Ball(props) {\n    classCallCheck(this, Ball);\n\n    var _this = possibleConstructorReturn(this, (Ball.__proto__ || Object.getPrototypeOf(Ball)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Ball, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.createMiniEmitter(canvas);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(this.props.num) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(4, 9), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0.8, 1.3));\n\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(1, 50));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Life(5, 6));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(5, 8), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(30, 70), \"polar\"));\n\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(1, 0));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color([\"#36aaf3\", \"#fd769c\", \"#94ff22\", \"#ffa545\", \"#ffffff\"]));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Scale(0.7, 1));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Gravity(3));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Collision(emitter));\n      emitter.addBehaviour(this.customDeadBehaviour(canvas));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height), \"bound\"));\n\n      emitter.p.x = Math.min(500, Math.max(canvas.width / 2 - 400, 50));\n      emitter.p.y = canvas.height / 2 + 50;\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.2) || \"rgba(255, 255, 255, 0.2)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n\n      return {\n        initialize: function initialize(particle) {},\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.p.y + particle.radius >= canvas.height) {\n            if (particle.radius > 9) {\n              _this3.miniEmitteing(particle);\n              particle.dead = true;\n            }\n          }\n        }\n      };\n    }\n  }, {\n    key: \"createMiniEmitter\",\n    value: function createMiniEmitter(canvas) {\n      var miniEmitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      miniEmitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(3, 6), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(1, 2));\n\n      miniEmitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      miniEmitter.radiusInitialize = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius();\n      miniEmitter.addInitialize(miniEmitter.radiusInitialize);\n      miniEmitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Life(0.5, 1));\n      miniEmitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.V(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(1.5, 3), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0, 70, true), \"polar\"));\n\n      miniEmitter.colorBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(\"#ffffff\");\n      miniEmitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(1, 0));\n      miniEmitter.addBehaviour(miniEmitter.colorBehaviour);\n      miniEmitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Gravity(4));\n      miniEmitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Collision(miniEmitter));\n      miniEmitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height), \"bound\"));\n      this.proton.addEmitter(miniEmitter);\n\n      this.miniEmitter = miniEmitter;\n    }\n  }, {\n    key: \"miniEmitteing\",\n    value: function miniEmitteing(particle) {\n      var miniEmitter = this.miniEmitter;\n      miniEmitter.radiusInitialize.reset(particle.radius * 0.05, particle.radius * 0.2);\n      miniEmitter.colorBehaviour.reset(particle.color);\n      miniEmitter.p.x = particle.p.x;\n      miniEmitter.p.y = particle.p.y;\n      miniEmitter.emit(\"once\");\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Ball;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Color = function (_React$Component) {\n  inherits(Color, _React$Component);\n\n  function Color(props) {\n    classCallCheck(this, Color);\n\n    var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Color, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(this.props.num) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(5, 8), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0.1, 0.25));\n\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(20, 200));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Life(2, 4));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, width, height)));\n\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(0, 1, Infinity, proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.easeOutCubic));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Scale(1, 0, Infinity, proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.easeOutCubic));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(this.colors, \"random\"));\n\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Color;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Color$1 = function (_React$Component) {\n    inherits(Color, _React$Component);\n\n    function Color(props) {\n        classCallCheck(this, Color);\n\n        var _this = possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).call(this, props));\n\n        _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n        _this.renderProton = _this.renderProton.bind(_this);\n        return _this;\n    }\n\n    createClass(Color, [{\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n            try {\n                raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n                this.proton.destroy();\n            } catch (e) {}\n        }\n    }, {\n        key: \"onCanvasInited\",\n        value: function onCanvasInited(canvas, width, height) {\n            this.createProton(canvas, width, height);\n            raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n        }\n    }, {\n        key: \"onResize\",\n        value: function onResize(width, height) {\n            this.crossZoneBehaviour.zone.width = width;\n            this.crossZoneBehaviour.zone.height = height;\n            this.proton.renderers[0].resize(width, height);        }\n    }, {\n        key: \"getProp\",\n        value: function getProp(key, defaultVal) {\n            var config = this.props.config || {};\n            var val = config[key] || defaultVal;\n            if (Array.isArray(val)) {\n                return new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(val[0], val[1]);\n            } else {\n                return val;\n            }\n        }\n    }, {\n        key: \"getArrProp\",\n        value: function getArrProp(key, defaultVal) {\n            var config = this.props.config || {};\n            var val = config[key] || defaultVal;\n            if (!val) return null;\n\n            if (Array.isArray(val)) {\n                return val;\n            } else {\n                return [val, val];\n            }\n        }\n    }, {\n        key: \"createProton\",\n        value: function createProton(canvas, width, height) {\n            var num = this.getProp(\"num\", [5, 8]);\n            var rps = this.getProp(\"rps\", [0.1, 0.2]);\n            var mass = this.getProp(\"mass\", 1);\n            var radius = this.getProp(\"radius\", [10, 30]);\n            var life = this.getProp(\"life\", [2, 3]);\n            var body = this.getProp(\"body\");\n            var position = this.getProp(\"position\");\n            var v = this.getProp(\"v\", [2, 3]);\n            var tha = this.getProp(\"tha\", [-15, 15]);\n            var alpha = this.getArrProp(\"alpha\");\n            var scale = this.getArrProp(\"scale\");\n            var color = this.getArrProp(\"color\");\n            var cross = this.getProp(\"cross\", \"dead\");\n            var random = this.getProp(\"random\");\n            var rotate = this.getArrProp(\"rotate\");\n            var g = this.getProp(\"g\");\n            var f = this.getArrProp(\"f\");\n            var emitterV = this.getProp(\"emitter\");\n\n            this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n            var emitter = void 0;\n            if (emitterV === \"follow\") {\n                emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.FollowEmitter();\n            } else {\n                emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n            }\n            emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(num, rps);\n\n            emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(mass));\n            emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(radius));\n            emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Life(life));\n            emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(v, tha, \"polar\"));\n            if (body) emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Body(body));\n\n            var pos = void 0;\n            if (position === \"all\" || position === \"screen\") {\n                pos = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height));\n            } else if ((typeof position === \"undefined\" ? \"undefined\" : _typeof(position)) === \"object\") {\n                pos = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(position.x, position.y, position.width, position.height));\n            } else {\n                emitter.p.x = canvas.width / 2;\n                emitter.p.y = canvas.height / 2;\n            }\n\n            emitter.addInitialize(pos);\n\n            /// behaviour\n            var alphaB = alpha ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(alpha[0], alpha[1]) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(0, 1);\n            var scaleB = scale ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Scale(scale[0], scale[1]) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Scale(1, 0.2);\n            var colorB = color ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(color[0], color[1]) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(this.colors);\n\n            emitter.addBehaviour(alphaB);\n            emitter.addBehaviour(scaleB);\n            if (!body) emitter.addBehaviour(colorB);\n\n            if (rotate) {\n                if (rotate[0] === true || rotate[0] === \"rotate\") {\n                    emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rotate());\n                } else {\n                    emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rotate(rotate[0], rotate[1]));\n                }\n            }\n\n            var zone = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height);\n            var crossZoneBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(zone, cross);\n            emitter.addBehaviour(crossZoneBehaviour);\n\n            random && emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RandomDrift(random, random, 0.05));\n            g && emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.G(g));\n            f && emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.F(f[0], f[1]));\n\n            emitter.emit();\n            this.proton.addEmitter(emitter);\n\n            var renderer = this.createRenderer(canvas);\n            this.proton.addRenderer(renderer);\n\n            this.emitter = emitter;\n            this.crossZoneBehaviour = crossZoneBehaviour;\n        }\n    }, {\n        key: \"createRenderer\",\n        value: function createRenderer(canvas) {\n            var width = canvas.width;\n            var height = canvas.height;\n            var context = canvas.getContext(\"2d\");\n            var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n\n            var onUpdate = this.getProp(\"onUpdate\");\n            if (onUpdate) {\n                renderer.onProtonUpdate = function () {\n                    onUpdate(context, width, height);\n                };\n            }\n\n            var onParticleCreated = this.getProp(\"onParticleCreated\");\n            if (onParticleCreated) {\n                renderer.onParticleCreated = function (particle) {\n                    onParticleCreated(context, particle);\n                };\n            }\n\n            var onParticleUpdate = this.getProp(\"onParticleUpdate\");\n            if (onParticleUpdate) {\n                renderer.onParticleUpdate = function (particle) {\n                    onParticleUpdate(context, particle);\n                };\n            }\n\n            return renderer;\n        }\n    }, {\n        key: \"renderProton\",\n        value: function renderProton() {\n            this.proton && this.proton.update();\n        }\n    }, {\n        key: \"handleMouseDown\",\n        value: function handleMouseDown(e) {\n            var onMouseDown = this.getProp(\"onMouseDown\");\n            if (onMouseDown) {\n                onMouseDown(e);\n            }\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var globalCompositeOperation = this.props.globalCompositeOperation || this.props.operation || \"source-over\";\n\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, {\n                bg: this.props.bg,\n                onMouseDown: this.handleMouseDown.bind(this),\n                globalCompositeOperation: globalCompositeOperation,\n                onCanvasInited: this.onCanvasInited.bind(this),\n                onResize: this.onResize.bind(this)\n            });\n        }\n    }]);\n    return Color;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Lines = function (_React$Component) {\n  inherits(Lines, _React$Component);\n\n  function Lines(props) {\n    classCallCheck(this, Lines);\n\n    var _this = possibleConstructorReturn(this, (Lines.__proto__ || Object.getPrototypeOf(Lines)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Lines, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? this.props.num : 250);\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(4));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(1.5), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0, 360), \"polar\"));\n      var mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n\n      var attractionBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Attraction(mouseObj, 0, 0);\n      var crossZoneBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RandomDrift(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = function () {\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Lines;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Thick = function (_React$Component) {\n  inherits(Thick, _React$Component);\n\n  function Thick(props) {\n    classCallCheck(this, Thick);\n\n    var _this = possibleConstructorReturn(this, (Thick.__proto__ || Object.getPrototypeOf(Thick)).call(this, props));\n\n    _this.hue = 0;\n    _this.index = 0;\n    _this.colorTemplate = \"hsla(hue,80%,50%, 0.75)\";\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Thick, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {\n      if (this.props.color) {\n        canvas.style.backgroundColor = this.props.color;\n      }\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.canvas = canvas;\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? this.props.num : 150);\n\n      // Initialize\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(8));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.V(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0.1, 0.5), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CircleZone(canvas.width / 2, canvas.height / 2, 100)));\n\n      // Behaviour\n      var crossZoneBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      this.repulsion = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Repulsion({\n        x: canvas.width / 2,\n        y: canvas.height / 2 - 100\n      }, 3, 300);\n\n      this.attraction = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Attraction({\n        x: canvas.width / 2,\n        y: canvas.height / 2\n      }, 3, 200);\n      emitter.addBehaviour(this.attraction, this.repulsion);\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(\"random\"));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RandomDrift(20, 15, 0.15));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function () {\n        _this2.hue += 1;\n        context.fillStyle = getColor(_this2.props.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.begin = proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.MathUtil.randomAToB(1, 120);\n        particle.data.tha = proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.MathUtil.randomAToB(0, Math.PI * 2);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        var hue = particle.data.begin + _this2.hue;\n        particle.color = _this2.colorTemplate.replace(\"hue\", hue % 360);\n\n        var ratio = 3 / 4;\n        var radius = particle.radius * (1 - ratio) * Math.cos(particle.data.tha += 0.01) + particle.radius * ratio;\n\n        context.beginPath();\n        context.fillStyle = particle.color;\n        context.arc(particle.p.x, particle.p.y, radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var canvas = this.canvas;\n      this.proton.update();\n      if (this.index % 200 === 0) {\n        this.attraction.targetPosition.x = Math.random() * canvas.width;\n        this.attraction.targetPosition.y = Math.random() * canvas.height;\n\n        this.repulsion.targetPosition.x = Math.random() * canvas.width;\n        this.repulsion.targetPosition.y = Math.random() * canvas.height;\n      }\n\n      this.index++;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Thick;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Square = function (_React$Component) {\n  inherits(Square, _React$Component);\n\n  function Square(props) {\n    classCallCheck(this, Square);\n\n    var _this = possibleConstructorReturn(this, (Square.__proto__ || Object.getPrototypeOf(Square)).call(this, props));\n\n    _this.colors = [\"#fad390\", \"#81ecec\", \"#ffffff\", \"#badc58\", \"#f9ca24\", \"#FEA47F\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Square, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      var dis = 150;\n      this.crossZoneBehaviour.zone.width = width + 2 * dis;\n      this.crossZoneBehaviour.zone.height = height + 2 * dis;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? this.props.num : 50);\n      emitter.damping = 0;\n\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(4, 70));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(2, 10), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0), \"polar\"));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.LineZone(0, canvas.height, canvas.width, canvas.height)));\n\n      var dis = 150;\n      var crossZoneBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0 - dis, 0 - dis, canvas.width + 2 * dis, canvas.height + 2 * dis), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.getSpan(0.1, 0.55)));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(this.colors));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n\n      this.crossZoneBehaviour = crossZoneBehaviour;\n      emitter.preEmit(2);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CustomRenderer();\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        var w = particle.radius || 60;\n        var h = proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.MathUtil.randomAToB(100, 200, \"int\");\n        particle.data.w = w;\n        particle.data.h = h;\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        var w = particle.data.w;\n        var h = particle.data.h;\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n\n        context.beginPath();\n        context.rect(particle.p.x - w / 2, particle.p.y - h / 2, w, h);\n\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"lighter\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Square;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Cobweb = function (_React$Component) {\n  inherits(Cobweb, _React$Component);\n\n  function Cobweb(props) {\n    classCallCheck(this, Cobweb);\n\n    var _this = possibleConstructorReturn(this, (Cobweb.__proto__ || Object.getPrototypeOf(Cobweb)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Cobweb, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(this.props.num) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(100), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0.05, 0.2));\n\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(1, 4));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Life(Infinity));\n\n      var pointZone = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, width, height));\n      emitter.addInitialize(pointZone);\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0.3, 0.6), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0, 360), \"polar\"));\n\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.getSpan(0.2, 0.9)));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(this.props.color || \"#333\"));\n      this.crossZoneBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, width, height), \"cross\");\n      emitter.addBehaviour(this.crossZoneBehaviour);\n\n      emitter.emit(\"once\");\n      emitter.damping = 0;\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas, emitter));\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas, emitter) {\n      var _this2 = this;\n\n      var context = canvas.getContext(\"2d\");\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n      var R = 140;\n\n      renderer.onProtonUpdateAfter = function () {\n        var particles = emitter.particles;\n\n        for (var i = 0; i < particles.length; i++) {\n          for (var j = i + 1; j < particles.length; j++) {\n            var pA = particles[i];\n            var pB = particles[j];\n            var dis = pA.p.distanceTo(pB.p);\n\n            if (dis < R) {\n              var alpha = (1 - dis / R) * 0.5;\n              context.strokeStyle = getColor(_this2.props.color, alpha) || \"rgba(3, 3, 3, \" + alpha + \")\";\n              context.beginPath();\n              context.moveTo(pA.p.x, pA.p.y);\n              context.lineTo(pB.p.x, pB.p.y);\n              context.closePath();\n              context.stroke();\n            }\n          }\n        }\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Cobweb;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Circle = function (_React$Component) {\n  inherits(Circle, _React$Component);\n\n  function Circle(props) {\n    classCallCheck(this, Circle);\n\n    var _this = possibleConstructorReturn(this, (Circle.__proto__ || Object.getPrototypeOf(Circle)).call(this, props));\n\n    _this.colors = [\"#74b9ff\", \"#e84393\", \"#6c5ce7\", \"#00b894\", \"#fdcb6e\", \"#006266\", \"#1B1464\"];\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Circle, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num || 20);\n      emitter.damping = 0.008;\n\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(30, 600));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0.5), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height)));\n\n      var crossZoneBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height), \"cross\");\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.getSpan(0.35, 0.55)));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(this.getColor()));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RandomDrift(50, 50, 0.5));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      var c = this.colors;\n      if (this.props.color) {\n        if (Array.isArray(this.props.color)) {\n          c = this.props.color;\n        } else {\n          c = [this.props.color];\n        }\n      }\n\n      return c;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darken\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Circle;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Tadpole = function (_React$Component) {\n  inherits(Tadpole, _React$Component);\n\n  function Tadpole(props) {\n    classCallCheck(this, Tadpole);\n\n    var _this = possibleConstructorReturn(this, (Tadpole.__proto__ || Object.getPrototypeOf(Tadpole)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Tadpole, [{\n    key: \"onCanvasDidMount\",\n    value: function onCanvasDidMount(canvas) {}\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      this.renderProton();\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize(width, height) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    }\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? this.props.num : 50);\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(5, 9));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(1.5), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, width, height)));\n\n      var mouseInfo = {\n        x: width / 2,\n        y: height / 2\n      };\n\n      var attractionBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Attraction(mouseInfo, 0, 0);\n      var crossZoneBehaviour = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height), \"bound\");\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(this.props.color || \"#bbb\"));\n      //emitter.addBehaviour(new Proton.Alpha(new Proton.Span(0.5, 1)));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RandomDrift(15, 15, 0.05));\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var jointCount = 10;\n      var delayTime = 8;\n      var context = canvas.getContext(\"2d\");\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.points = [];\n        particle.data.index = 0;\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        drawTadpoleTail(particle);\n        if (particle.data.index % delayTime === 0) fillPointsData(particle);\n        drawTadpoleHead(particle);\n        particle.data.index++;\n      };\n\n      var fillPointsData = function fillPointsData(particle) {\n        particle.data.points.unshift(particle.p.y);\n        particle.data.points.unshift(particle.p.x);\n\n        if (particle.data.points.length > jointCount) {\n          particle.data.points.pop();\n          particle.data.points.pop();\n        }\n      };\n\n      var drawTadpoleHead = function drawTadpoleHead(particle) {\n        context.fillStyle = particle.color;\n        context.beginPath();\n        context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      var drawTadpoleTail = function drawTadpoleTail(particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n\n        context.moveTo(particle.p.x, particle.p.y);\n\n        var l = particle.data.points.length;\n        for (var i = 0; i < l; i += 2) {\n          var x = particle.data.points[i];\n          var y = particle.data.points[i + 1];\n\n          context.lineWidth = linearEvaluation(i, l);\n          context.lineTo(x, y);\n          context.stroke();\n        }\n      };\n\n      var linearEvaluation = function linearEvaluation(i, l) {\n        if (l <= 2) return 1;\n\n        var max = 6;\n        var A = (max - 1) / (2 / l - 1);\n        var B = 1 - A;\n        var X = (i + 2) / l;\n        var val = A * X + B;\n        val = val >> 0;\n\n        return val;\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      var _this2 = this;\n\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(function () {\n        _this2.proton.update();\n        //this.proton.stats.update();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasDidMount: this.onCanvasDidMount.bind(this),\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Tadpole;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar COLOR = [\"#f6b93b\", \"#18dcff\", \"#cd84f1\", \"#ED4C67\", \"#ffffff\", \"#b71540\", \"#32ff7e\", \"#ff3838\"];\n\nvar Polygon = function (_React$Component) {\n  inherits(Polygon, _React$Component);\n\n  function Polygon(props) {\n    classCallCheck(this, Polygon);\n\n    var _this = possibleConstructorReturn(this, (Polygon.__proto__ || Object.getPrototypeOf(Polygon)).call(this, props));\n\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Polygon, [{\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas);\n      this.createEmitter({\n        canvas: canvas,\n        x: width / 2,\n        y: height / 2,\n        mainEmitter: true,\n        zone: \"bound\"\n      });\n\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n      var renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createRenderer\",\n    value: function createRenderer(canvas) {\n      var context = canvas.getContext(\"2d\");\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CustomRenderer();\n\n      renderer.onProtonUpdate = function () {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = function (particle) {\n        particle.data.count = proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.MathUtil.randomAToB(3, 10, true);\n      };\n\n      renderer.onParticleUpdate = function (particle) {\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n\n        context.beginPath();\n        drawPolygon(particle, particle.data.count);\n\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      renderer.onParticleDead = function (particle) {};\n\n      var drawPolygon = function drawPolygon(particle, count) {\n        if (count >= 7) {\n          context.arc(particle.p.x, particle.p.y, particle.radius, 0, Math.PI * 2, true);\n        } else {\n          var radius = particle.radius;\n\n          for (var i = 0; i <= count; i++) {\n            var x = particle.p.x + radius * Math.cos(Math.PI / 180 * 360 / count * i);\n            var y = particle.p.y + radius * Math.sin(Math.PI / 180 * 360 / count * i);\n\n            if (i === 0) context.moveTo(x, y);else context.lineTo(x, y);\n          }\n        }\n      };\n\n      return renderer;\n    }\n  }, {\n    key: \"createEmitter\",\n    value: function createEmitter(_ref) {\n      var mainEmitter = _ref.mainEmitter,\n          canvas = _ref.canvas,\n          x = _ref.x,\n          y = _ref.y,\n          radius = _ref.radius,\n          _ref$color = _ref.color,\n          color = _ref$color === undefined ? COLOR : _ref$color,\n          _ref$zone = _ref.zone,\n          zone = _ref$zone === undefined ? \"dead\" : _ref$zone,\n          _ref$once = _ref.once,\n          once = _ref$once === undefined ? \"all\" : _ref$once,\n          _ref$alpha = _ref.alpha,\n          alpha = _ref$alpha === undefined ? 0.85 : _ref$alpha,\n          _ref$gravity = _ref.gravity,\n          gravity = _ref$gravity === undefined ? 3.5 : _ref$gravity;\n\n      var emitter = this.proton.pool.get(proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter);\n\n      if (!emitter.completed) {\n        emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(this.props.num) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(4, 9), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(1.6, 2.2));\n\n        var radiusInit = mainEmitter ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(10, 110) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(3, radius);\n        emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n        emitter.addInitialize(radiusInit);\n        emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Life(3, 6));\n        emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(4, 6), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(-90, 90), \"polar\"));\n\n        emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(alpha, 0.2));\n        emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(color));\n        emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Scale(1, 0.3));\n        emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rotate());\n        emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Gravity(gravity));\n\n        emitter.addBehaviour(this.customDeadBehaviour(canvas));\n        emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CrossZone(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.RectZone(0, 0, canvas.width, canvas.height), zone));\n      }\n\n      emitter.p.x = x;\n      emitter.p.y = y;\n      if (once === \"once\") emitter.emit(\"once\");else emitter.emit();\n\n      this.proton.addEmitter(emitter);\n      //this.expireEmitter(emitter);\n    }\n  }, {\n    key: \"expireEmitter\",\n    value: function expireEmitter(emitter) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        emitter.completed = true;\n        _this2.proton.pool.expire(emitter);\n        _this2.proton.removeEmitter(emitter);\n      }, 500);\n    }\n  }, {\n    key: \"customDeadBehaviour\",\n    value: function customDeadBehaviour(canvas) {\n      var _this3 = this;\n\n      return {\n        initialize: function initialize(particle) {\n          particle.data = particle.data || {};\n          particle.data.oldRadius = particle.radius;\n          particle.data.emitterCount = 0;\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          if (particle.radius < 5) return;\n          if (particle.data.emitterCount >= 2) return;\n\n          if (particle.radius <= 1 / 3 * particle.data.oldRadius) {\n            particle.data.emitterCount++;\n            _this3.createEmitter({\n              canvas: canvas,\n              x: particle.p.x,\n              y: particle.p.y,\n              radius: particle.radius * (1 / 2),\n              alpha: 0.5,\n              gravity: 5,\n              color: particle.color,\n              once: \"once\"\n            });\n          }\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"darker\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Polygon;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar Fountain = function (_React$Component) {\n  inherits(Fountain, _React$Component);\n\n  function Fountain(props) {\n    classCallCheck(this, Fountain);\n\n    var _this = possibleConstructorReturn(this, (Fountain.__proto__ || Object.getPrototypeOf(Fountain)).call(this, props));\n\n    _this.colors = [\"#529B88\", \"#CDD180\", \"#FFFA32\", \"#FB6255\", \"#FB4A53\", \"#FF4E50\", \"#F9D423\"];\n    _this.renderProton = _this.renderProton.bind(_this);\n    return _this;\n  }\n\n  createClass(Fountain, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      try {\n        raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.remove(this.renderProton);\n        this.proton.destroy();\n      } catch (e) {}\n    }\n  }, {\n    key: \"onCanvasInited\",\n    value: function onCanvasInited(canvas, width, height) {\n      this.createProton(canvas, width, height);\n      raf_manager__WEBPACK_IMPORTED_MODULE_1___default.a.add(this.renderProton);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {}\n  }, {\n    key: \"createProton\",\n    value: function createProton(canvas, width, height) {\n      this.proton = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a();\n      var emitter = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Emitter();\n      emitter.rate = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Rate(this.props.num ? new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(this.props.num) : new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(4, 8), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0.1, 0.25));\n\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Mass(1));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Radius(20, 200));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Life(2, 4));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Velocity(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(4, 7), new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Span(0, 360), \"polar\"));\n      emitter.addInitialize(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Position(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CircleZone(width / 2, height / 2, 100)));\n\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Alpha(1, 0));\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Scale(0.2, 1));\n      emitter.addBehaviour(this.createCustomBehaviour());\n      emitter.addBehaviour(new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Color(this.colors, \"random\"));\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      var renderer = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.CanvasRenderer(canvas);\n      this.proton.addRenderer(renderer);\n    }\n  }, {\n    key: \"createCustomBehaviour\",\n    value: function createCustomBehaviour() {\n      var f = 10 * 100;\n      return {\n        initialize: function initialize(particle) {\n          particle.f = new proton_engine__WEBPACK_IMPORTED_MODULE_2___default.a.Vector2D(0, 0);\n        },\n        applyBehaviour: function applyBehaviour(particle) {\n          var length = particle.v.length() / 1000;\n          var gradient = particle.v.getGradient();\n          gradient += 3.14 / 2;\n\n          particle.f.x = f * length * Math.cos(gradient);\n          particle.f.y = f * length * Math.sin(gradient);\n          particle.a.add(particle.f);\n        }\n      };\n    }\n  }, {\n    key: \"renderProton\",\n    value: function renderProton() {\n      this.proton && this.proton.update();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Canvas, { bg: this.props.bg,\n        globalCompositeOperation: \"xor\",\n        onCanvasInited: this.onCanvasInited.bind(this),\n        onResize: this.onResize.bind(this)\n      });\n    }\n  }]);\n  return Fountain;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nvar ParticlesBg = function (_Component) {\n  inherits(ParticlesBg, _Component);\n\n  function ParticlesBg(props) {\n    classCallCheck(this, ParticlesBg);\n    return possibleConstructorReturn(this, (ParticlesBg.__proto__ || Object.getPrototypeOf(ParticlesBg)).call(this, props));\n  }\n\n  createClass(ParticlesBg, [{\n    key: \"getRandom\",\n    value: function getRandom() {\n      var _props = this.props,\n          num = _props.num,\n          bg = _props.bg,\n          color = _props.color;\n\n      // Code source from here, thanks author\n      // https://github.com/drawcall/Proton/blob/gh-pages/source/src/utils/Rand.js\n\n      if (!this.random) {\n        this.random = new Rand();\n        this.random.set(0.25, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Color, { num: num, bg: bg, color: color }));\n        this.random.set(0.2, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ball, { num: num, bg: bg, color: color }));\n        this.random.set(0.2, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Lines, { num: num, bg: bg, color: color }));\n        this.random.set(0.16, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Thick, { num: num, bg: bg, color: color }));\n        this.random.set(0.18, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Circle, { num: num, bg: bg, color: color }));\n        this.random.set(0.04, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Cobweb, { num: num, bg: bg, color: color }));\n        this.random.set(0.1, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Polygon, { num: num, bg: bg, color: color }));\n        this.random.set(0.08, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Square, { num: num, bg: bg, color: color }));\n        this.random.set(0.18, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tadpole, { num: num, bg: bg, color: color }));\n        this.random.set(0.15, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fountain, { num: num, bg: bg, color: color }));\n      }\n      return this.random.getResult();\n    }\n  }, {\n    key: \"getBgParticles\",\n    value: function getBgParticles() {\n      var _props2 = this.props,\n          type = _props2.type,\n          num = _props2.num,\n          bg = _props2.bg,\n          color = _props2.color,\n          config = _props2.config;\n\n\n      var particles = void 0;\n      switch (String(type).toLowerCase()) {\n        case \"color\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Color, { num: num, bg: bg, color: color });\n          break;\n        case \"ball\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Ball, { num: num, bg: bg, color: color });\n          break;\n        case \"lines\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Lines, { num: num, bg: bg, color: color });\n          break;\n        case \"thick\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Thick, { num: num, bg: bg, color: color });\n          break;\n        case \"circle\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Circle, { num: num, bg: bg, color: color });\n          break;\n        case \"cobweb\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Cobweb, { num: num, bg: bg, color: color });\n          break;\n        case \"polygon\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Polygon, { num: num, bg: bg, color: color });\n          break;\n        case \"square\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Square, { num: num, bg: bg, color: color });\n          break;\n        case \"tadpole\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tadpole, { num: num, bg: bg, color: color });\n          break;\n        case \"fountain\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Fountain, { num: num, bg: bg, color: color });\n          break;\n        case \"custom\":\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Color$1, { bg: bg, config: config });\n          break;\n        case \"random\":\n          particles = this.getRandom(num);\n          break;\n\n        default:\n          particles = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Color, { num: num, bg: bg, color: color });\n          break;\n      }\n\n      return particles;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var particles = this.getBgParticles();\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n        react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,\n        null,\n        particles\n      );\n    }\n  }]);\n  return ParticlesBg;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ParticlesBg);\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGFydGljbGVzLWJnL2Rpc3QvaW5kZXguZXMuanM/YTczNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF5QztBQUNKO0FBQ0Y7O0FBRW5DO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0JBQXNCO0FBQ2pEO0FBQ0E7O0FBRUEsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzQkFBc0I7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esa0JBQWtCO0FBQ2xCLHNCQUFzQiw0Q0FBSztBQUMzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNLGtEQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNLGtEQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWEsNENBQUs7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxDQUFDLDRDQUFLOztBQUVQO0FBQ0EsOEJBQThCLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtEQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQVU7QUFDbEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0Isb0RBQU07O0FBRTlCLHdCQUF3QixvREFBTTtBQUM5Qix5QkFBeUIsb0RBQU0sMkJBQTJCLG9EQUFNLDRCQUE0QixvREFBTSxpQkFBaUIsb0RBQU07O0FBRXpILGdDQUFnQyxvREFBTTtBQUN0QyxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNO0FBQ3RDLGdDQUFnQyxvREFBTSxjQUFjLG9EQUFNLGlCQUFpQixvREFBTTs7QUFFakYsK0JBQStCLG9EQUFNO0FBQ3JDLCtCQUErQixvREFBTTtBQUNyQywrQkFBK0Isb0RBQU07QUFDckMsK0JBQStCLG9EQUFNO0FBQ3JDLCtCQUErQixvREFBTTtBQUNyQztBQUNBLCtCQUErQixvREFBTSxlQUFlLG9EQUFNOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsb0RBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNEJBQTRCLG9EQUFNO0FBQ2xDLDZCQUE2QixvREFBTSxVQUFVLG9EQUFNLGlCQUFpQixvREFBTTs7QUFFMUUsb0NBQW9DLG9EQUFNO0FBQzFDLHlDQUF5QyxvREFBTTtBQUMvQztBQUNBLG9DQUFvQyxvREFBTTtBQUMxQyxvQ0FBb0Msb0RBQU0sT0FBTyxvREFBTSxtQkFBbUIsb0RBQU07O0FBRWhGLHVDQUF1QyxvREFBTTtBQUM3QyxtQ0FBbUMsb0RBQU07QUFDekM7QUFDQSxtQ0FBbUMsb0RBQU07QUFDekMsbUNBQW1DLG9EQUFNO0FBQ3pDLG1DQUFtQyxvREFBTSxlQUFlLG9EQUFNO0FBQzlEOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDRDQUFLLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDLENBQUMsNENBQUs7O0FBRVA7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVTtBQUNsQjtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtEQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixvREFBTTtBQUM5Qix3QkFBd0Isb0RBQU07QUFDOUIseUJBQXlCLG9EQUFNLDJCQUEyQixvREFBTSw0QkFBNEIsb0RBQU0saUJBQWlCLG9EQUFNOztBQUV6SCxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNO0FBQ3RDLGdDQUFnQyxvREFBTTtBQUN0QyxnQ0FBZ0Msb0RBQU0sY0FBYyxvREFBTTs7QUFFMUQsK0JBQStCLG9EQUFNLHVCQUF1QixvREFBTTtBQUNsRSwrQkFBK0Isb0RBQU0sdUJBQXVCLG9EQUFNO0FBQ2xFLCtCQUErQixvREFBTTs7QUFFckM7QUFDQTs7QUFFQSx5QkFBeUIsb0RBQU07QUFDL0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYSw0Q0FBSyx3QkFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxDQUFDLDRDQUFLOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBVTtBQUMxQjtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFVO0FBQ3RCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG9EQUFNO0FBQ2pDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhCQUE4QixvREFBTTtBQUNwQztBQUNBO0FBQ0EsOEJBQThCLG9EQUFNO0FBQ3BDLGFBQWE7QUFDYiw4QkFBOEIsb0RBQU07QUFDcEM7QUFDQSwrQkFBK0Isb0RBQU07O0FBRXJDLHNDQUFzQyxvREFBTTtBQUM1QyxzQ0FBc0Msb0RBQU07QUFDNUMsc0NBQXNDLG9EQUFNO0FBQzVDLHNDQUFzQyxvREFBTTtBQUM1QyxnREFBZ0Qsb0RBQU07O0FBRXREO0FBQ0E7QUFDQSwwQkFBMEIsb0RBQU0sY0FBYyxvREFBTTtBQUNwRCxhQUFhO0FBQ2IsMEJBQTBCLG9EQUFNLGNBQWMsb0RBQU07QUFDcEQsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFDQUFxQyxvREFBTSxpQ0FBaUMsb0RBQU07QUFDbEYscUNBQXFDLG9EQUFNLGlDQUFpQyxvREFBTTtBQUNsRixxQ0FBcUMsb0RBQU0saUNBQWlDLG9EQUFNOztBQUVsRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZDQUE2QyxvREFBTTtBQUNuRCxpQkFBaUI7QUFDakIsNkNBQTZDLG9EQUFNO0FBQ25EO0FBQ0E7O0FBRUEsMkJBQTJCLG9EQUFNO0FBQ2pDLHlDQUF5QyxvREFBTTtBQUMvQzs7QUFFQSwrQ0FBK0Msb0RBQU07QUFDckQsMENBQTBDLG9EQUFNO0FBQ2hELDBDQUEwQyxvREFBTTs7QUFFaEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9EQUFNOztBQUVyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsNENBQUs7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsQ0FBQyw0Q0FBSzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQVU7QUFDbEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTSxrREFBVTtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixvREFBTTs7QUFFOUIsd0JBQXdCLG9EQUFNO0FBQzlCO0FBQ0EseUJBQXlCLG9EQUFNO0FBQy9CLGdDQUFnQyxvREFBTTtBQUN0QyxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNLGNBQWMsb0RBQU0sZ0JBQWdCLG9EQUFNO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxvREFBTTtBQUMxQyxtQ0FBbUMsb0RBQU0sZUFBZSxvREFBTTtBQUM5RCwrQkFBK0Isb0RBQU07QUFDckM7QUFDQSwrQkFBK0Isb0RBQU07QUFDckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixvREFBTTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYSw0Q0FBSyx3QkFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDLENBQUMsNENBQUs7O0FBRVA7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sa0RBQVU7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQU07O0FBRTlCLHdCQUF3QixvREFBTTtBQUM5QjtBQUNBLHlCQUF5QixvREFBTTs7QUFFL0I7QUFDQSxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNO0FBQ3RDLGdDQUFnQyxvREFBTSxPQUFPLG9EQUFNLHFCQUFxQixvREFBTTtBQUM5RSxnQ0FBZ0Msb0RBQU0sY0FBYyxvREFBTTs7QUFFMUQ7QUFDQSxtQ0FBbUMsb0RBQU0sZUFBZSxvREFBTTtBQUM5RDtBQUNBLDJCQUEyQixvREFBTTtBQUNqQztBQUNBO0FBQ0EsT0FBTzs7QUFFUCw0QkFBNEIsb0RBQU07QUFDbEM7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLCtCQUErQixvREFBTTtBQUNyQywrQkFBK0Isb0RBQU07O0FBRXJDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLG9EQUFNOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEJBQThCLG9EQUFNO0FBQ3BDLDRCQUE0QixvREFBTTtBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFVO0FBQ2xCO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDRDQUFLLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDLENBQUMsNENBQUs7O0FBRVA7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVTtBQUNsQjtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU0sa0RBQVU7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixvREFBTTtBQUM5Qix3QkFBd0Isb0RBQU07QUFDOUIseUJBQXlCLG9EQUFNO0FBQy9COztBQUVBLGdDQUFnQyxvREFBTTtBQUN0QyxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNLGNBQWMsb0RBQU0sa0JBQWtCLG9EQUFNO0FBQ2xGLGdDQUFnQyxvREFBTSxjQUFjLG9EQUFNOztBQUUxRDtBQUNBLG1DQUFtQyxvREFBTSxlQUFlLG9EQUFNO0FBQzlEO0FBQ0EsK0JBQStCLG9EQUFNLE9BQU8sb0RBQU07QUFDbEQsK0JBQStCLG9EQUFNOztBQUVyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFNOztBQUUvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixvREFBTTtBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLG9EQUFNO0FBQzdCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDRDQUFLLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyw0Q0FBSzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxrREFBVTtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtEQUFVO0FBQ2xCO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esd0JBQXdCLG9EQUFNOztBQUU5Qix3QkFBd0Isb0RBQU07QUFDOUIseUJBQXlCLG9EQUFNLDJCQUEyQixvREFBTSw0QkFBNEIsb0RBQU0sZ0JBQWdCLG9EQUFNOztBQUV4SCxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNO0FBQ3RDLGdDQUFnQyxvREFBTTs7QUFFdEMsMEJBQTBCLG9EQUFNLGNBQWMsb0RBQU07QUFDcEQ7QUFDQSxnQ0FBZ0Msb0RBQU0sY0FBYyxvREFBTSxxQkFBcUIsb0RBQU07O0FBRXJGLCtCQUErQixvREFBTSxPQUFPLG9EQUFNO0FBQ2xELCtCQUErQixvREFBTTtBQUNyQyxvQ0FBb0Msb0RBQU0sZUFBZSxvREFBTTtBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QixvREFBTTtBQUMvQjs7QUFFQTtBQUNBOztBQUVBLHVCQUF1QixzQkFBc0I7QUFDN0MsNkJBQTZCLHNCQUFzQjtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWEsNENBQUssd0JBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyw0Q0FBSzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVTtBQUNsQjtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLGtEQUFVO0FBQ2hCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esd0JBQXdCLG9EQUFNOztBQUU5Qix3QkFBd0Isb0RBQU07QUFDOUIseUJBQXlCLG9EQUFNO0FBQy9COztBQUVBLGdDQUFnQyxvREFBTTtBQUN0QyxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNLGNBQWMsb0RBQU0sZ0JBQWdCLG9EQUFNO0FBQ2hGLGdDQUFnQyxvREFBTSxjQUFjLG9EQUFNOztBQUUxRCxtQ0FBbUMsb0RBQU0sZUFBZSxvREFBTTtBQUM5RDtBQUNBLCtCQUErQixvREFBTSxPQUFPLG9EQUFNO0FBQ2xELCtCQUErQixvREFBTTtBQUNyQywrQkFBK0Isb0RBQU07O0FBRXJDO0FBQ0E7O0FBRUEseUJBQXlCLG9EQUFNO0FBQy9COztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDRDQUFLLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDLENBQUMsNENBQUs7O0FBRVA7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHdCQUF3QixvREFBTTs7QUFFOUIsd0JBQXdCLG9EQUFNO0FBQzlCO0FBQ0EseUJBQXlCLG9EQUFNO0FBQy9CLGdDQUFnQyxvREFBTTtBQUN0QyxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNLGNBQWMsb0RBQU0sZ0JBQWdCLG9EQUFNO0FBQ2hGLGdDQUFnQyxvREFBTSxjQUFjLG9EQUFNOztBQUUxRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQ0FBb0Msb0RBQU07QUFDMUMsbUNBQW1DLG9EQUFNLGVBQWUsb0RBQU07QUFDOUQsK0JBQStCLG9EQUFNO0FBQ3JDO0FBQ0E7QUFDQSwrQkFBK0Isb0RBQU07QUFDckM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixvREFBTTs7QUFFL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx1QkFBdUIsT0FBTztBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLGtEQUFVO0FBQ2hCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWEsNENBQUssd0JBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxDQUFDLDRDQUFLOztBQUVQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQLE1BQU0sa0RBQVU7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBVTtBQUNsQjtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixvREFBTTs7QUFFL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOEJBQThCLG9EQUFNO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCLG9EQUFNO0FBQzdCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEseUJBQXlCLFlBQVk7QUFDckM7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5Q0FBeUMsb0RBQU07O0FBRS9DO0FBQ0EsMkJBQTJCLG9EQUFNLDJCQUEyQixvREFBTSw0QkFBNEIsb0RBQU0saUJBQWlCLG9EQUFNOztBQUUzSCwyQ0FBMkMsb0RBQU0sdUJBQXVCLG9EQUFNO0FBQzlFLGtDQUFrQyxvREFBTTtBQUN4QztBQUNBLGtDQUFrQyxvREFBTTtBQUN4QyxrQ0FBa0Msb0RBQU0sY0FBYyxvREFBTSxpQkFBaUIsb0RBQU07O0FBRW5GLGlDQUFpQyxvREFBTTtBQUN2QyxpQ0FBaUMsb0RBQU07QUFDdkMsaUNBQWlDLG9EQUFNO0FBQ3ZDLGlDQUFpQyxvREFBTTtBQUN2QyxpQ0FBaUMsb0RBQU07O0FBRXZDO0FBQ0EsaUNBQWlDLG9EQUFNLGVBQWUsb0RBQU07QUFDNUQ7O0FBRUE7QUFDQTtBQUNBLGdEQUFnRDs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYSw0Q0FBSyx3QkFBd0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxDQUFDLDRDQUFLOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0RBQVU7QUFDbEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTSxrREFBVTtBQUNoQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQU07QUFDOUIsd0JBQXdCLG9EQUFNO0FBQzlCLHlCQUF5QixvREFBTSwyQkFBMkIsb0RBQU0sNEJBQTRCLG9EQUFNLGlCQUFpQixvREFBTTs7QUFFekgsZ0NBQWdDLG9EQUFNO0FBQ3RDLGdDQUFnQyxvREFBTTtBQUN0QyxnQ0FBZ0Msb0RBQU07QUFDdEMsZ0NBQWdDLG9EQUFNLGNBQWMsb0RBQU0saUJBQWlCLG9EQUFNO0FBQ2pGLGdDQUFnQyxvREFBTSxjQUFjLG9EQUFNOztBQUUxRCwrQkFBK0Isb0RBQU07QUFDckMsK0JBQStCLG9EQUFNO0FBQ3JDO0FBQ0EsK0JBQStCLG9EQUFNO0FBQ3JDO0FBQ0E7O0FBRUEseUJBQXlCLG9EQUFNO0FBQy9CO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixvREFBTTtBQUNqQyxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLDRDQUFLLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDLENBQUMsNENBQUs7O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEIsNENBQUssdUJBQXVCLGlDQUFpQztBQUMzRiw2QkFBNkIsNENBQUssc0JBQXNCLGlDQUFpQztBQUN6Riw2QkFBNkIsNENBQUssdUJBQXVCLGlDQUFpQztBQUMxRiw4QkFBOEIsNENBQUssdUJBQXVCLGlDQUFpQztBQUMzRiw4QkFBOEIsNENBQUssd0JBQXdCLGlDQUFpQztBQUM1Riw4QkFBOEIsNENBQUssd0JBQXdCLGlDQUFpQztBQUM1Riw2QkFBNkIsNENBQUsseUJBQXlCLGlDQUFpQztBQUM1Riw4QkFBOEIsNENBQUssd0JBQXdCLGlDQUFpQztBQUM1Riw4QkFBOEIsNENBQUsseUJBQXlCLGlDQUFpQztBQUM3Riw4QkFBOEIsNENBQUssMEJBQTBCLGlDQUFpQztBQUM5RjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFLLHVCQUF1QixpQ0FBaUM7QUFDbkY7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBSyxzQkFBc0IsaUNBQWlDO0FBQ2xGO0FBQ0E7QUFDQSxzQkFBc0IsNENBQUssdUJBQXVCLGlDQUFpQztBQUNuRjtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFLLHVCQUF1QixpQ0FBaUM7QUFDbkY7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBSyx3QkFBd0IsaUNBQWlDO0FBQ3BGO0FBQ0E7QUFDQSxzQkFBc0IsNENBQUssd0JBQXdCLGlDQUFpQztBQUNwRjtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFLLHlCQUF5QixpQ0FBaUM7QUFDckY7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBSyx3QkFBd0IsaUNBQWlDO0FBQ3BGO0FBQ0E7QUFDQSxzQkFBc0IsNENBQUsseUJBQXlCLGlDQUFpQztBQUNyRjtBQUNBO0FBQ0Esc0JBQXNCLDRDQUFLLDBCQUEwQixpQ0FBaUM7QUFDdEY7QUFDQTtBQUNBLHNCQUFzQiw0Q0FBSyx5QkFBeUIseUJBQXlCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLDRDQUFLLHVCQUF1QixpQ0FBaUM7QUFDbkY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNENBQUs7QUFDbEIsUUFBUSw0Q0FBSztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQyxDQUFDLCtDQUFTOztBQUVJLDBFQUFXLEVBQUM7QUFDM0IiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcGFydGljbGVzLWJnL2Rpc3QvaW5kZXguZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJBRk1hbmFnZXIgZnJvbSAncmFmLW1hbmFnZXInO1xuaW1wb3J0IFByb3RvbiBmcm9tICdwcm90b24tZW5naW5lJztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG4vLyBDb2RlIHNvdXJjZSBmcm9tIGhlcmUsIHRoYW5rcyBhdXRob3Jcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kcmF3Y2FsbC9Qcm90b24vYmxvYi9naC1wYWdlcy9zb3VyY2Uvc3JjL3V0aWxzL1JhbmQuanNcbnZhciBSYW5kID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhbmQoKSB7XG4gICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFJhbmQpO1xuXG4gICAgICAgIHRoaXMubGlzdCA9IFtdO1xuICAgIH1cblxuICAgIGNyZWF0ZUNsYXNzKFJhbmQsIFt7XG4gICAgICAgIGtleTogXCJzZXRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldCQkMShwcm9iYWJpbGl0eSwgdGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLmxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgcHJvYmFiaWxpdHk6IHByb2JhYmlsaXR5LFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgICAgICAgIGE6IDAsXG4gICAgICAgICAgICAgICAgYjogMVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImNhbGN1bGF0aW9uXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IHRoaXMubGlzdFtpXS5wcm9iYWJpbGl0eTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMubGlzdC5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gdGhpcy5saXN0W19pXTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gb2JqLnByb2JhYmlsaXR5IC8gdG90YWw7XG5cbiAgICAgICAgICAgICAgICBvYmouYSA9IF9pID09PSAwID8gMCA6IHRoaXMubGlzdFtfaSAtIDFdLmI7XG4gICAgICAgICAgICAgICAgb2JqLmIgPSBvYmouYSArIHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImdldFJlc3VsdFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzdWx0KCkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IE1hdGgucmFuZG9tKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSB0aGlzLmxpc3RbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsIDw9IG9iai5iICYmIHZhbCA+IG9iai5hKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmoudGFyZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdFswXS50YXJnZXQ7XG4gICAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIFJhbmQ7XG59KCk7XG5cbnZhciBDYW52YXMgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBpbmhlcml0cyhDYW52YXMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENhbnZhcyhwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENhbnZhcyk7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYW52YXMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDYW52YXMpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5faWQgPSAwO1xuICAgIF90aGlzLnNpemUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICBfdGhpcy5jYW52YXNSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhDYW52YXMsIFt7XG4gICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuaW5pdENhbnZhcygpO1xuICAgICAgICBfdGhpczIucmVzaXplID0gX3RoaXMyLnJlc2l6ZS5iaW5kKF90aGlzMik7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIF90aGlzMi5yZXNpemUpO1xuICAgICAgfSwgMTAwKTtcblxuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICB0aGlzLnByb3BzLm9uQ2FudmFzRGlkTW91bnQgJiYgdGhpcy5wcm9wcy5vbkNhbnZhc0RpZE1vdW50KGNhbnZhcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluaXRDYW52YXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdENhbnZhcygpIHtcbiAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhc1JlZi5jdXJyZW50O1xuICAgICAgaWYgKHRoaXMucHJvcHMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLnByb3BzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIF9zZXRDYW52YXNTaXplID0gdGhpcy5zZXRDYW52YXNTaXplKGNhbnZhcyksXG4gICAgICAgICAgd2lkdGggPSBfc2V0Q2FudmFzU2l6ZS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBfc2V0Q2FudmFzU2l6ZS5oZWlnaHQ7XG5cbiAgICAgIHRoaXMuaGVhcnRiZWF0RGV0ZWN0aW9uQ2FudmFzU2l6ZShjYW52YXMpO1xuICAgICAgdGhpcy5wcm9wcy5vbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoZWFydGJlYXREZXRlY3Rpb25DYW52YXNTaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhlYXJ0YmVhdERldGVjdGlvbkNhbnZhc1NpemUoY2FudmFzKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdGhpcy5faWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczMuY2FudmFzUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gX3RoaXMzLmNhbnZhc1JlZi5jdXJyZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICBpZiAobmV3SGVpZ2h0ICE9PSBfdGhpczMuc2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHZhciBfc2V0Q2FudmFzU2l6ZTIgPSBfdGhpczMuc2V0Q2FudmFzU2l6ZShjYW52YXMpLFxuICAgICAgICAgICAgICAgIHdpZHRoID0gX3NldENhbnZhc1NpemUyLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodCA9IF9zZXRDYW52YXNTaXplMi5oZWlnaHQ7XG5cbiAgICAgICAgICAgIF90aGlzMy5wcm9wcy5vblJlc2l6ZSAmJiBfdGhpczMucHJvcHMub25SZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCAxMDAwIC8gMTApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pZCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzUmVmLmN1cnJlbnQ7XG5cbiAgICAgIHZhciBfc2V0Q2FudmFzU2l6ZTMgPSB0aGlzLnNldENhbnZhc1NpemUoY2FudmFzKSxcbiAgICAgICAgICB3aWR0aCA9IF9zZXRDYW52YXNTaXplMy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBfc2V0Q2FudmFzU2l6ZTMuaGVpZ2h0O1xuXG4gICAgICB0aGlzLnByb3BzLm9uUmVzaXplICYmIHRoaXMucHJvcHMub25SZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldENhbnZhc1NpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q2FudmFzU2l6ZShjYW52YXMpIHtcbiAgICAgIHZhciB3aWR0aCA9IHRoaXMuY2FudmFzUmVmLmN1cnJlbnQuY2xpZW50V2lkdGg7XG4gICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5jYW52YXNSZWYuY3VycmVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgIHRoaXMuc2l6ZS53aWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5zaXplLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHJldHVybiB7IHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlV2F5cG9pbnRFbnRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVXYXlwb2ludEVudGVyKCkge1xuICAgICAgUkFGTWFuYWdlci5zdGFydCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVXYXlwb2ludExlYXZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVdheXBvaW50TGVhdmUoKSB7XG4gICAgICBSQUZNYW5hZ2VyLnN0b3AoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0U3R5bGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3R5bGUoKSB7XG4gICAgICB2YXIgc3R5bGUgPSB7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiB9O1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5iZykge1xuICAgICAgICBzdHlsZSA9IE9iamVjdC5hc3NpZ24oc3R5bGUsIHtcbiAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgIHpJbmRleDogLTEsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZU1vdXNlRG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbk1vdXNlRG93biAmJiB0aGlzLnByb3BzLm9uTW91c2VEb3duKGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiwge1xuICAgICAgICByZWY6IHRoaXMuY2FudmFzUmVmLFxuICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSxcbiAgICAgICAgc3R5bGU6IHRoaXMuZ2V0U3R5bGUoKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDYW52YXM7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmZ1bmN0aW9uIGhleFRvUmdiKGhleCkge1xuICAgIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgICByZXR1cm4gcmVzdWx0ID8ge1xuICAgICAgICByOiBwYXJzZUludChyZXN1bHRbMV0sIDE2KSxcbiAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgIGI6IHBhcnNlSW50KHJlc3VsdFszXSwgMTYpXG4gICAgfSA6IHt9O1xufVxuXG5mdW5jdGlvbiBnZXRDb2xvcihjb2xvciwgYSkge1xuICAgIHZhciBjID0gdm9pZCAwO1xuICAgIGlmIChjb2xvcikge1xuICAgICAgICBjID0gaGV4VG9SZ2IoY29sb3IpO1xuICAgICAgICByZXR1cm4gXCJyZ2JhKFwiICsgYy5yICsgXCIsXCIgKyBjLmcgKyBcIixcIiArIGMuYiArIFwiLCBcIiArIGEgKyBcIilcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbnZhciBCYWxsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoQmFsbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQmFsbChwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEJhbGwpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQmFsbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEJhbGwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5yZW5kZXJQcm90b24gPSBfdGhpcy5yZW5kZXJQcm90b24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoQmFsbCwgW3tcbiAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DYW52YXNJbml0ZWQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgdGhpcy5jcmVhdGVNaW5pRW1pdHRlcihjYW52YXMpO1xuICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUoKSB7fVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgdGhpcy5wcm90b24gPSBuZXcgUHJvdG9uKCk7XG5cbiAgICAgIHZhciBlbWl0dGVyID0gbmV3IFByb3Rvbi5FbWl0dGVyKCk7XG4gICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gPyBuZXcgUHJvdG9uLlNwYW4odGhpcy5wcm9wcy5udW0pIDogbmV3IFByb3Rvbi5TcGFuKDQsIDkpLCBuZXcgUHJvdG9uLlNwYW4oMC44LCAxLjMpKTtcblxuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoMSwgNTApKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLkxpZmUoNSwgNikpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uVmVsb2NpdHkobmV3IFByb3Rvbi5TcGFuKDUsIDgpLCBuZXcgUHJvdG9uLlNwYW4oMzAsIDcwKSwgXCJwb2xhclwiKSk7XG5cbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoMSwgMCkpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcihbXCIjMzZhYWYzXCIsIFwiI2ZkNzY5Y1wiLCBcIiM5NGZmMjJcIiwgXCIjZmZhNTQ1XCIsIFwiI2ZmZmZmZlwiXSkpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5TY2FsZSgwLjcsIDEpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uR3Jhdml0eSgzKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbGxpc2lvbihlbWl0dGVyKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cih0aGlzLmN1c3RvbURlYWRCZWhhdmlvdXIoY2FudmFzKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNyb3NzWm9uZShuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCksIFwiYm91bmRcIikpO1xuXG4gICAgICBlbWl0dGVyLnAueCA9IE1hdGgubWluKDUwMCwgTWF0aC5tYXgoY2FudmFzLndpZHRoIC8gMiAtIDQwMCwgNTApKTtcbiAgICAgIGVtaXR0ZXIucC55ID0gY2FudmFzLmhlaWdodCAvIDIgKyA1MDtcbiAgICAgIGVtaXR0ZXIuZW1pdCgpO1xuICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTtcblxuICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DYW52YXNSZW5kZXJlcihjYW52YXMpO1xuICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2V0Q29sb3IoX3RoaXMyLnByb3BzLmNvbG9yLCAwLjIpIHx8IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCI7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIH07XG4gICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImN1c3RvbURlYWRCZWhhdmlvdXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3VzdG9tRGVhZEJlaGF2aW91cihjYW52YXMpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHBhcnRpY2xlKSB7fSxcbiAgICAgICAgYXBwbHlCZWhhdmlvdXI6IGZ1bmN0aW9uIGFwcGx5QmVoYXZpb3VyKHBhcnRpY2xlKSB7XG4gICAgICAgICAgaWYgKHBhcnRpY2xlLnAueSArIHBhcnRpY2xlLnJhZGl1cyA+PSBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAocGFydGljbGUucmFkaXVzID4gOSkge1xuICAgICAgICAgICAgICBfdGhpczMubWluaUVtaXR0ZWluZyhwYXJ0aWNsZSk7XG4gICAgICAgICAgICAgIHBhcnRpY2xlLmRlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlTWluaUVtaXR0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTWluaUVtaXR0ZXIoY2FudmFzKSB7XG4gICAgICB2YXIgbWluaUVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIG1pbmlFbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUobmV3IFByb3Rvbi5TcGFuKDMsIDYpLCBuZXcgUHJvdG9uLlNwYW4oMSwgMikpO1xuXG4gICAgICBtaW5pRW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBtaW5pRW1pdHRlci5yYWRpdXNJbml0aWFsaXplID0gbmV3IFByb3Rvbi5SYWRpdXMoKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEluaXRpYWxpemUobWluaUVtaXR0ZXIucmFkaXVzSW5pdGlhbGl6ZSk7XG4gICAgICBtaW5pRW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTGlmZSgwLjUsIDEpKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WKG5ldyBQcm90b24uU3BhbigxLjUsIDMpLCBuZXcgUHJvdG9uLlNwYW4oMCwgNzAsIHRydWUpLCBcInBvbGFyXCIpKTtcblxuICAgICAgbWluaUVtaXR0ZXIuY29sb3JCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNvbG9yKFwiI2ZmZmZmZlwiKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKDEsIDApKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEJlaGF2aW91cihtaW5pRW1pdHRlci5jb2xvckJlaGF2aW91cik7XG4gICAgICBtaW5pRW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5HcmF2aXR5KDQpKTtcbiAgICAgIG1pbmlFbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbGxpc2lvbihtaW5pRW1pdHRlcikpO1xuICAgICAgbWluaUVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgXCJib3VuZFwiKSk7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKG1pbmlFbWl0dGVyKTtcblxuICAgICAgdGhpcy5taW5pRW1pdHRlciA9IG1pbmlFbWl0dGVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtaW5pRW1pdHRlaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1pbmlFbWl0dGVpbmcocGFydGljbGUpIHtcbiAgICAgIHZhciBtaW5pRW1pdHRlciA9IHRoaXMubWluaUVtaXR0ZXI7XG4gICAgICBtaW5pRW1pdHRlci5yYWRpdXNJbml0aWFsaXplLnJlc2V0KHBhcnRpY2xlLnJhZGl1cyAqIDAuMDUsIHBhcnRpY2xlLnJhZGl1cyAqIDAuMik7XG4gICAgICBtaW5pRW1pdHRlci5jb2xvckJlaGF2aW91ci5yZXNldChwYXJ0aWNsZS5jb2xvcik7XG4gICAgICBtaW5pRW1pdHRlci5wLnggPSBwYXJ0aWNsZS5wLng7XG4gICAgICBtaW5pRW1pdHRlci5wLnkgPSBwYXJ0aWNsZS5wLnk7XG4gICAgICBtaW5pRW1pdHRlci5lbWl0KFwib25jZVwiKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclByb3RvbigpIHtcbiAgICAgIHRoaXMucHJvdG9uICYmIHRoaXMucHJvdG9uLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IFwiZGFya2VyXCIsXG4gICAgICAgIG9uQ2FudmFzSW5pdGVkOiB0aGlzLm9uQ2FudmFzSW5pdGVkLmJpbmQodGhpcyksXG4gICAgICAgIG9uUmVzaXplOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQmFsbDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIENvbG9yID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoQ29sb3IsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbG9yKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sb3IpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ29sb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2xvcikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmNvbG9ycyA9IFtcIiM1MjlCODhcIiwgXCIjQ0REMTgwXCIsIFwiI0ZGRkEzMlwiLCBcIiNGQjYyNTVcIiwgXCIjRkI0QTUzXCIsIFwiI0ZGNEU1MFwiLCBcIiNGOUQ0MjNcIl07XG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKENvbG9yLCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DYW52YXNJbml0ZWQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLnByb3BzLm51bSA/IG5ldyBQcm90b24uU3Bhbih0aGlzLnByb3BzLm51bSkgOiBuZXcgUHJvdG9uLlNwYW4oNSwgOCksIG5ldyBQcm90b24uU3BhbigwLjEsIDAuMjUpKTtcblxuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoMjAsIDIwMCkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTGlmZSgyLCA0KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIHdpZHRoLCBoZWlnaHQpKSk7XG5cbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoMCwgMSwgSW5maW5pdHksIFByb3Rvbi5lYXNlT3V0Q3ViaWMpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uU2NhbGUoMSwgMCwgSW5maW5pdHksIFByb3Rvbi5lYXNlT3V0Q3ViaWMpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ29sb3IodGhpcy5jb2xvcnMsIFwicmFuZG9tXCIpKTtcblxuICAgICAgZW1pdHRlci5lbWl0KCk7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpO1xuXG4gICAgICB2YXIgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQcm90b24oKSB7XG4gICAgICB0aGlzLnByb3RvbiAmJiB0aGlzLnByb3Rvbi51cGRhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcywgeyBiZzogdGhpcy5wcm9wcy5iZyxcbiAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiBcImRhcmtlclwiLFxuICAgICAgICBvbkNhbnZhc0luaXRlZDogdGhpcy5vbkNhbnZhc0luaXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICBvblJlc2l6ZTogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENvbG9yO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgQ29sb3IkMSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgaW5oZXJpdHMoQ29sb3IsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQ29sb3IocHJvcHMpIHtcbiAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sb3IpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvbG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29sb3IpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuY29sb3JzID0gW1wiIzUyOUI4OFwiLCBcIiNDREQxODBcIiwgXCIjRkZGQTMyXCIsIFwiI0ZCNjI1NVwiLCBcIiNGQjRBNTNcIiwgXCIjRkY0RTUwXCIsIFwiI0Y5RDQyM1wiXTtcbiAgICAgICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2xhc3MoQ29sb3IsIFt7XG4gICAgICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FudmFzSW5pdGVkKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIFJBRk1hbmFnZXIuYWRkKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7ICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiZ2V0UHJvcFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UHJvcChrZXksIGRlZmF1bHRWYWwpIHtcbiAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLnByb3BzLmNvbmZpZyB8fCB7fTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBjb25maWdba2V5XSB8fCBkZWZhdWx0VmFsO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvdG9uLlNwYW4odmFsWzBdLCB2YWxbMV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwiZ2V0QXJyUHJvcFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXJyUHJvcChrZXksIGRlZmF1bHRWYWwpIHtcbiAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLnByb3BzLmNvbmZpZyB8fCB7fTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBjb25maWdba2V5XSB8fCBkZWZhdWx0VmFsO1xuICAgICAgICAgICAgaWYgKCF2YWwpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2YWwsIHZhbF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjcmVhdGVQcm90b25cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLmdldFByb3AoXCJudW1cIiwgWzUsIDhdKTtcbiAgICAgICAgICAgIHZhciBycHMgPSB0aGlzLmdldFByb3AoXCJycHNcIiwgWzAuMSwgMC4yXSk7XG4gICAgICAgICAgICB2YXIgbWFzcyA9IHRoaXMuZ2V0UHJvcChcIm1hc3NcIiwgMSk7XG4gICAgICAgICAgICB2YXIgcmFkaXVzID0gdGhpcy5nZXRQcm9wKFwicmFkaXVzXCIsIFsxMCwgMzBdKTtcbiAgICAgICAgICAgIHZhciBsaWZlID0gdGhpcy5nZXRQcm9wKFwibGlmZVwiLCBbMiwgM10pO1xuICAgICAgICAgICAgdmFyIGJvZHkgPSB0aGlzLmdldFByb3AoXCJib2R5XCIpO1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRQcm9wKFwicG9zaXRpb25cIik7XG4gICAgICAgICAgICB2YXIgdiA9IHRoaXMuZ2V0UHJvcChcInZcIiwgWzIsIDNdKTtcbiAgICAgICAgICAgIHZhciB0aGEgPSB0aGlzLmdldFByb3AoXCJ0aGFcIiwgWy0xNSwgMTVdKTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHRoaXMuZ2V0QXJyUHJvcChcImFscGhhXCIpO1xuICAgICAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRBcnJQcm9wKFwic2NhbGVcIik7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSB0aGlzLmdldEFyclByb3AoXCJjb2xvclwiKTtcbiAgICAgICAgICAgIHZhciBjcm9zcyA9IHRoaXMuZ2V0UHJvcChcImNyb3NzXCIsIFwiZGVhZFwiKTtcbiAgICAgICAgICAgIHZhciByYW5kb20gPSB0aGlzLmdldFByb3AoXCJyYW5kb21cIik7XG4gICAgICAgICAgICB2YXIgcm90YXRlID0gdGhpcy5nZXRBcnJQcm9wKFwicm90YXRlXCIpO1xuICAgICAgICAgICAgdmFyIGcgPSB0aGlzLmdldFByb3AoXCJnXCIpO1xuICAgICAgICAgICAgdmFyIGYgPSB0aGlzLmdldEFyclByb3AoXCJmXCIpO1xuICAgICAgICAgICAgdmFyIGVtaXR0ZXJWID0gdGhpcy5nZXRQcm9wKFwiZW1pdHRlclwiKTtcblxuICAgICAgICAgICAgdGhpcy5wcm90b24gPSBuZXcgUHJvdG9uKCk7XG4gICAgICAgICAgICB2YXIgZW1pdHRlciA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChlbWl0dGVyViA9PT0gXCJmb2xsb3dcIikge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkZvbGxvd0VtaXR0ZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdHRlci5yYXRlID0gbmV3IFByb3Rvbi5SYXRlKG51bSwgcnBzKTtcblxuICAgICAgICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcyhtYXNzKSk7XG4gICAgICAgICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMocmFkaXVzKSk7XG4gICAgICAgICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5MaWZlKGxpZmUpKTtcbiAgICAgICAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlZlbG9jaXR5KHYsIHRoYSwgXCJwb2xhclwiKSk7XG4gICAgICAgICAgICBpZiAoYm9keSkgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uQm9keShib2R5KSk7XG5cbiAgICAgICAgICAgIHZhciBwb3MgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IFwiYWxsXCIgfHwgcG9zaXRpb24gPT09IFwic2NyZWVuXCIpIHtcbiAgICAgICAgICAgICAgICBwb3MgPSBuZXcgUHJvdG9uLlBvc2l0aW9uKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCh0eXBlb2YgcG9zaXRpb24gPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihwb3NpdGlvbikpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgcG9zID0gbmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLlJlY3Rab25lKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLndpZHRoLCBwb3NpdGlvbi5oZWlnaHQpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5wLnggPSBjYW52YXMud2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIucC55ID0gY2FudmFzLmhlaWdodCAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShwb3MpO1xuXG4gICAgICAgICAgICAvLy8gYmVoYXZpb3VyXG4gICAgICAgICAgICB2YXIgYWxwaGFCID0gYWxwaGEgPyBuZXcgUHJvdG9uLkFscGhhKGFscGhhWzBdLCBhbHBoYVsxXSkgOiBuZXcgUHJvdG9uLkFscGhhKDAsIDEpO1xuICAgICAgICAgICAgdmFyIHNjYWxlQiA9IHNjYWxlID8gbmV3IFByb3Rvbi5TY2FsZShzY2FsZVswXSwgc2NhbGVbMV0pIDogbmV3IFByb3Rvbi5TY2FsZSgxLCAwLjIpO1xuICAgICAgICAgICAgdmFyIGNvbG9yQiA9IGNvbG9yID8gbmV3IFByb3Rvbi5Db2xvcihjb2xvclswXSwgY29sb3JbMV0pIDogbmV3IFByb3Rvbi5Db2xvcih0aGlzLmNvbG9ycyk7XG5cbiAgICAgICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGFscGhhQik7XG4gICAgICAgICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihzY2FsZUIpO1xuICAgICAgICAgICAgaWYgKCFib2R5KSBlbWl0dGVyLmFkZEJlaGF2aW91cihjb2xvckIpO1xuXG4gICAgICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvdGF0ZVswXSA9PT0gdHJ1ZSB8fCByb3RhdGVbMF0gPT09IFwicm90YXRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Sb3RhdGUoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Sb3RhdGUocm90YXRlWzBdLCByb3RhdGVbMV0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB6b25lID0gbmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgdmFyIGNyb3NzWm9uZUJlaGF2aW91ciA9IG5ldyBQcm90b24uQ3Jvc3Nab25lKHpvbmUsIGNyb3NzKTtcbiAgICAgICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7XG5cbiAgICAgICAgICAgIHJhbmRvbSAmJiBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlJhbmRvbURyaWZ0KHJhbmRvbSwgcmFuZG9tLCAwLjA1KSk7XG4gICAgICAgICAgICBnICYmIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uRyhnKSk7XG4gICAgICAgICAgICBmICYmIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uRihmWzBdLCBmWzFdKSk7XG5cbiAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgpO1xuICAgICAgICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTtcblxuICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpO1xuICAgICAgICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIgPSBlbWl0dGVyO1xuICAgICAgICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIgPSBjcm9zc1pvbmVCZWhhdmlvdXI7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjcmVhdGVSZW5kZXJlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY2FudmFzKSB7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ2FudmFzUmVuZGVyZXIoY2FudmFzKTtcblxuICAgICAgICAgICAgdmFyIG9uVXBkYXRlID0gdGhpcy5nZXRQcm9wKFwib25VcGRhdGVcIik7XG4gICAgICAgICAgICBpZiAob25VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5vblByb3RvblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGUoY29udGV4dCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9uUGFydGljbGVDcmVhdGVkID0gdGhpcy5nZXRQcm9wKFwib25QYXJ0aWNsZUNyZWF0ZWRcIik7XG4gICAgICAgICAgICBpZiAob25QYXJ0aWNsZUNyZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5vblBhcnRpY2xlQ3JlYXRlZCA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICAgICAgICAgICAgICBvblBhcnRpY2xlQ3JlYXRlZChjb250ZXh0LCBwYXJ0aWNsZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9uUGFydGljbGVVcGRhdGUgPSB0aGlzLmdldFByb3AoXCJvblBhcnRpY2xlVXBkYXRlXCIpO1xuICAgICAgICAgICAgaWYgKG9uUGFydGljbGVVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5vblBhcnRpY2xlVXBkYXRlID0gZnVuY3Rpb24gKHBhcnRpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUGFydGljbGVVcGRhdGUoY29udGV4dCwgcGFydGljbGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJlcjtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlbmRlclByb3RvblwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgICAgICAgdGhpcy5wcm90b24gJiYgdGhpcy5wcm90b24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVNb3VzZURvd25cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihlKSB7XG4gICAgICAgICAgICB2YXIgb25Nb3VzZURvd24gPSB0aGlzLmdldFByb3AoXCJvbk1vdXNlRG93blwiKTtcbiAgICAgICAgICAgIGlmIChvbk1vdXNlRG93bikge1xuICAgICAgICAgICAgICAgIG9uTW91c2VEb3duKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5wcm9wcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gfHwgdGhpcy5wcm9wcy5vcGVyYXRpb24gfHwgXCJzb3VyY2Utb3ZlclwiO1xuXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYW52YXMsIHtcbiAgICAgICAgICAgICAgICBiZzogdGhpcy5wcm9wcy5iZyxcbiAgICAgICAgICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5oYW5kbGVNb3VzZURvd24uYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICBvbkNhbnZhc0luaXRlZDogdGhpcy5vbkNhbnZhc0luaXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIG9uUmVzaXplOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBDb2xvcjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIExpbmVzID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoTGluZXMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExpbmVzKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgTGluZXMpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTGluZXMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMaW5lcykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnJlbmRlclByb3RvbiA9IF90aGlzLnJlbmRlclByb3Rvbi5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhMaW5lcywgW3tcbiAgICBrZXk6IFwib25DYW52YXNEaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0RpZE1vdW50KGNhbnZhcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29sb3IpIHtcbiAgICAgICAgY2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMucHJvcHMuY29sb3I7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pO1xuICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvbkNhbnZhc0luaXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUud2lkdGggPSB3aWR0aDtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdGhpcy5wcm90b24ucmVuZGVyZXJzWzBdLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuXG4gICAgICB2YXIgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpO1xuICAgICAgZW1pdHRlci5kYW1waW5nID0gMC4wMDg7XG4gICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gPyB0aGlzLnByb3BzLm51bSA6IDI1MCk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cyg0KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oMS41KSwgbmV3IFByb3Rvbi5TcGFuKDAsIDM2MCksIFwicG9sYXJcIikpO1xuICAgICAgdmFyIG1vdXNlT2JqID0ge1xuICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgIHk6IGhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIHZhciBhdHRyYWN0aW9uQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5BdHRyYWN0aW9uKG1vdXNlT2JqLCAwLCAwKTtcbiAgICAgIHZhciBjcm9zc1pvbmVCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNyb3NzWm9uZShuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCksIFwiY3Jvc3NcIik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKFwicmFuZG9tXCIpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGF0dHJhY3Rpb25CZWhhdmlvdXIsIGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlJhbmRvbURyaWZ0KDEwLCAxMCwgMC4wNSkpO1xuICAgICAgZW1pdHRlci5wLnggPSBjYW52YXMud2lkdGggLyAyO1xuICAgICAgZW1pdHRlci5wLnkgPSBjYW52YXMuaGVpZ2h0IC8gMjtcbiAgICAgIGVtaXR0ZXIuZW1pdChcIm9uY2VcIik7XG5cbiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIoZW1pdHRlcik7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcih0aGlzLmNyZWF0ZVJlbmRlcmVyKGNhbnZhcykpO1xuICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIgPSBjcm9zc1pvbmVCZWhhdmlvdXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVJlbmRlcmVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKGNhbnZhcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ2FudmFzUmVuZGVyZXIoY2FudmFzKTtcbiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdldENvbG9yKF90aGlzMi5wcm9wcy5jb2xvciwgMC4wMikgfHwgXCJyZ2JhKDAsIDAsIDAsIDAuMDIpXCI7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIH07XG5cbiAgICAgIHJlbmRlcmVyLm9uUGFydGljbGVVcGRhdGUgPSBmdW5jdGlvbiAocGFydGljbGUpIHtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHBhcnRpY2xlLmNvbG9yO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBhcnRpY2xlLm9sZC5wLngsIHBhcnRpY2xlLm9sZC5wLnkpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhwYXJ0aWNsZS5wLngsIHBhcnRpY2xlLnAueSk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQcm90b24oKSB7XG4gICAgICB0aGlzLnByb3RvbiAmJiB0aGlzLnByb3Rvbi51cGRhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcywgeyBiZzogdGhpcy5wcm9wcy5iZyxcbiAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiBcImRhcmtlclwiLFxuICAgICAgICBvbkNhbnZhc0RpZE1vdW50OiB0aGlzLm9uQ2FudmFzRGlkTW91bnQuYmluZCh0aGlzKSxcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBMaW5lcztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFRoaWNrID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoVGhpY2ssIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRoaWNrKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhpY2spO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGhpY2suX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaGljaykpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmh1ZSA9IDA7XG4gICAgX3RoaXMuaW5kZXggPSAwO1xuICAgIF90aGlzLmNvbG9yVGVtcGxhdGUgPSBcImhzbGEoaHVlLDgwJSw1MCUsIDAuNzUpXCI7XG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFRoaWNrLCBbe1xuICAgIGtleTogXCJvbkNhbnZhc0RpZE1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FudmFzRGlkTW91bnQoY2FudmFzKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jb2xvcikge1xuICAgICAgICBjYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5wcm9wcy5jb2xvcjtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DYW52YXNJbml0ZWQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUud2lkdGggPSB3aWR0aDtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdGhpcy5wcm90b24ucmVuZGVyZXJzWzBdLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuXG4gICAgICB2YXIgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpO1xuICAgICAgZW1pdHRlci5kYW1waW5nID0gMC4wMDg7XG4gICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gPyB0aGlzLnByb3BzLm51bSA6IDE1MCk7XG5cbiAgICAgIC8vIEluaXRpYWxpemVcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLk1hc3MoMSkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUmFkaXVzKDgpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlYobmV3IFByb3Rvbi5TcGFuKDAuMSwgMC41KSwgbmV3IFByb3Rvbi5TcGFuKDAsIDM2MCksIFwicG9sYXJcIikpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUG9zaXRpb24obmV3IFByb3Rvbi5DaXJjbGVab25lKGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyLCAxMDApKSk7XG5cbiAgICAgIC8vIEJlaGF2aW91clxuICAgICAgdmFyIGNyb3NzWm9uZUJlaGF2aW91ciA9IG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgXCJjcm9zc1wiKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICB0aGlzLnJlcHVsc2lvbiA9IG5ldyBQcm90b24uUmVwdWxzaW9uKHtcbiAgICAgICAgeDogY2FudmFzLndpZHRoIC8gMixcbiAgICAgICAgeTogY2FudmFzLmhlaWdodCAvIDIgLSAxMDBcbiAgICAgIH0sIDMsIDMwMCk7XG5cbiAgICAgIHRoaXMuYXR0cmFjdGlvbiA9IG5ldyBQcm90b24uQXR0cmFjdGlvbih7XG4gICAgICAgIHg6IGNhbnZhcy53aWR0aCAvIDIsXG4gICAgICAgIHk6IGNhbnZhcy5oZWlnaHQgLyAyXG4gICAgICB9LCAzLCAyMDApO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIodGhpcy5hdHRyYWN0aW9uLCB0aGlzLnJlcHVsc2lvbik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKFwicmFuZG9tXCIpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uUmFuZG9tRHJpZnQoMjAsIDE1LCAwLjE1KSk7XG5cbiAgICAgIGVtaXR0ZXIuZW1pdChcIm9uY2VcIik7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIodGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpKTtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gY3Jvc3Nab25lQmVoYXZpb3VyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVSZW5kZXJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihjYW52YXMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICB2YXIgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7XG5cbiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuaHVlICs9IDE7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2V0Q29sb3IoX3RoaXMyLnByb3BzLmNvbG9yLCAwLjAyKSB8fCBcInJnYmEoMCwgMCwgMCwgMC4wMilcIjtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZUNyZWF0ZWQgPSBmdW5jdGlvbiAocGFydGljbGUpIHtcbiAgICAgICAgcGFydGljbGUuZGF0YS5iZWdpbiA9IFByb3Rvbi5NYXRoVXRpbC5yYW5kb21BVG9CKDEsIDEyMCk7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEudGhhID0gUHJvdG9uLk1hdGhVdGlsLnJhbmRvbUFUb0IoMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZVVwZGF0ZSA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICB2YXIgaHVlID0gcGFydGljbGUuZGF0YS5iZWdpbiArIF90aGlzMi5odWU7XG4gICAgICAgIHBhcnRpY2xlLmNvbG9yID0gX3RoaXMyLmNvbG9yVGVtcGxhdGUucmVwbGFjZShcImh1ZVwiLCBodWUgJSAzNjApO1xuXG4gICAgICAgIHZhciByYXRpbyA9IDMgLyA0O1xuICAgICAgICB2YXIgcmFkaXVzID0gcGFydGljbGUucmFkaXVzICogKDEgLSByYXRpbykgKiBNYXRoLmNvcyhwYXJ0aWNsZS5kYXRhLnRoYSArPSAwLjAxKSArIHBhcnRpY2xlLnJhZGl1cyAqIHJhdGlvO1xuXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gcGFydGljbGUuY29sb3I7XG4gICAgICAgIGNvbnRleHQuYXJjKHBhcnRpY2xlLnAueCwgcGFydGljbGUucC55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pO1xuICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgdGhpcy5wcm90b24udXBkYXRlKCk7XG4gICAgICBpZiAodGhpcy5pbmRleCAlIDIwMCA9PT0gMCkge1xuICAgICAgICB0aGlzLmF0dHJhY3Rpb24udGFyZ2V0UG9zaXRpb24ueCA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGg7XG4gICAgICAgIHRoaXMuYXR0cmFjdGlvbi50YXJnZXRQb3NpdGlvbi55ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5yZXB1bHNpb24udGFyZ2V0UG9zaXRpb24ueCA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGg7XG4gICAgICAgIHRoaXMucmVwdWxzaW9uLnRhcmdldFBvc2l0aW9uLnkgPSBNYXRoLnJhbmRvbSgpICogY2FudmFzLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbmRleCsrO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBvbkNhbnZhc0RpZE1vdW50OiB0aGlzLm9uQ2FudmFzRGlkTW91bnQuYmluZCh0aGlzKSxcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBUaGljaztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIFNxdWFyZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKFNxdWFyZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3F1YXJlKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgU3F1YXJlKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNxdWFyZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNxdWFyZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmNvbG9ycyA9IFtcIiNmYWQzOTBcIiwgXCIjODFlY2VjXCIsIFwiI2ZmZmZmZlwiLCBcIiNiYWRjNThcIiwgXCIjZjljYTI0XCIsIFwiI0ZFQTQ3RlwiXTtcbiAgICBfdGhpcy5yZW5kZXJQcm90b24gPSBfdGhpcy5yZW5kZXJQcm90b24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU3F1YXJlLCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DYW52YXNEaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0RpZE1vdW50KGNhbnZhcykge31cbiAgfSwge1xuICAgIGtleTogXCJvbkNhbnZhc0luaXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uUmVzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciBkaXMgPSAxNTA7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGggKyAyICogZGlzO1xuICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS5oZWlnaHQgPSBoZWlnaHQgKyAyICogZGlzO1xuICAgICAgdGhpcy5wcm90b24ucmVuZGVyZXJzWzBdLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLnByb3BzLm51bSA/IHRoaXMucHJvcHMubnVtIDogNTApO1xuICAgICAgZW1pdHRlci5kYW1waW5nID0gMDtcblxuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoNCwgNzApKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlZlbG9jaXR5KG5ldyBQcm90b24uU3BhbigyLCAxMCksIG5ldyBQcm90b24uU3BhbigwKSwgXCJwb2xhclwiKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLkxpbmVab25lKDAsIGNhbnZhcy5oZWlnaHQsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkpKTtcblxuICAgICAgdmFyIGRpcyA9IDE1MDtcbiAgICAgIHZhciBjcm9zc1pvbmVCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNyb3NzWm9uZShuZXcgUHJvdG9uLlJlY3Rab25lKDAgLSBkaXMsIDAgLSBkaXMsIGNhbnZhcy53aWR0aCArIDIgKiBkaXMsIGNhbnZhcy5oZWlnaHQgKyAyICogZGlzKSwgXCJjcm9zc1wiKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKFByb3Rvbi5nZXRTcGFuKDAuMSwgMC41NSkpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ29sb3IodGhpcy5jb2xvcnMpKTtcblxuICAgICAgZW1pdHRlci5lbWl0KFwib25jZVwiKTtcbiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIoZW1pdHRlcik7XG4gICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKGNhbnZhcyk7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcihyZW5kZXJlcik7XG5cbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gY3Jvc3Nab25lQmVoYXZpb3VyO1xuICAgICAgZW1pdHRlci5wcmVFbWl0KDIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVSZW5kZXJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihjYW52YXMpIHtcbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ3VzdG9tUmVuZGVyZXIoKTtcblxuICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXJlci5vblBhcnRpY2xlQ3JlYXRlZCA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICB2YXIgdyA9IHBhcnRpY2xlLnJhZGl1cyB8fCA2MDtcbiAgICAgICAgdmFyIGggPSBQcm90b24uTWF0aFV0aWwucmFuZG9tQVRvQigxMDAsIDIwMCwgXCJpbnRcIik7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEudyA9IHc7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEuaCA9IGg7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXJlci5vblBhcnRpY2xlVXBkYXRlID0gZnVuY3Rpb24gKHBhcnRpY2xlKSB7XG4gICAgICAgIHZhciB3ID0gcGFydGljbGUuZGF0YS53O1xuICAgICAgICB2YXIgaCA9IHBhcnRpY2xlLmRhdGEuaDtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBwYXJ0aWNsZS5hbHBoYTtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBwYXJ0aWNsZS5jb2xvcjtcblxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShwYXJ0aWNsZS5wLngsIHBhcnRpY2xlLnAueSk7XG4gICAgICAgIGNvbnRleHQucm90YXRlKFByb3Rvbi5NYXRoVXRpbC5kZWdyZWVUcmFuc2Zvcm0ocGFydGljbGUucm90YXRpb24pKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLXBhcnRpY2xlLnAueCwgLXBhcnRpY2xlLnAueSk7XG5cbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5yZWN0KHBhcnRpY2xlLnAueCAtIHcgLyAyLCBwYXJ0aWNsZS5wLnkgLSBoIC8gMiwgdywgaCk7XG5cbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiByZW5kZXJlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclByb3RvbigpIHtcbiAgICAgIHRoaXMucHJvdG9uICYmIHRoaXMucHJvdG9uLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IFwibGlnaHRlclwiLFxuICAgICAgICBvbkNhbnZhc0RpZE1vdW50OiB0aGlzLm9uQ2FudmFzRGlkTW91bnQuYmluZCh0aGlzKSxcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTcXVhcmU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBDb2J3ZWIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBpbmhlcml0cyhDb2J3ZWIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvYndlYihwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENvYndlYik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb2J3ZWIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2J3ZWIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5yZW5kZXJQcm90b24gPSBfdGhpcy5yZW5kZXJQcm90b24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoQ29id2ViLCBbe1xuICAgIGtleTogXCJvbkNhbnZhc0luaXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pO1xuICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGg7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTtcblxuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLnByb3BzLm51bSA/IG5ldyBQcm90b24uU3Bhbih0aGlzLnByb3BzLm51bSkgOiBuZXcgUHJvdG9uLlNwYW4oMTAwKSwgbmV3IFByb3Rvbi5TcGFuKDAuMDUsIDAuMikpO1xuXG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cygxLCA0KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5MaWZlKEluZmluaXR5KSk7XG5cbiAgICAgIHZhciBwb2ludFpvbmUgPSBuZXcgUHJvdG9uLlBvc2l0aW9uKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgd2lkdGgsIGhlaWdodCkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKHBvaW50Wm9uZSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oMC4zLCAwLjYpLCBuZXcgUHJvdG9uLlNwYW4oMCwgMzYwKSwgXCJwb2xhclwiKSk7XG5cbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoUHJvdG9uLmdldFNwYW4oMC4yLCAwLjkpKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKHRoaXMucHJvcHMuY29sb3IgfHwgXCIjMzMzXCIpKTtcbiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSwgXCJjcm9zc1wiKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyKTtcblxuICAgICAgZW1pdHRlci5lbWl0KFwib25jZVwiKTtcbiAgICAgIGVtaXR0ZXIuZGFtcGluZyA9IDA7XG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIodGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMsIGVtaXR0ZXIpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUmVuZGVyZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY2FudmFzLCBlbWl0dGVyKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DYW52YXNSZW5kZXJlcihjYW52YXMpO1xuICAgICAgdmFyIFIgPSAxNDA7XG5cbiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlQWZ0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJ0aWNsZXMgPSBlbWl0dGVyLnBhcnRpY2xlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IHBhcnRpY2xlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHBBID0gcGFydGljbGVzW2ldO1xuICAgICAgICAgICAgdmFyIHBCID0gcGFydGljbGVzW2pdO1xuICAgICAgICAgICAgdmFyIGRpcyA9IHBBLnAuZGlzdGFuY2VUbyhwQi5wKTtcblxuICAgICAgICAgICAgaWYgKGRpcyA8IFIpIHtcbiAgICAgICAgICAgICAgdmFyIGFscGhhID0gKDEgLSBkaXMgLyBSKSAqIDAuNTtcbiAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGdldENvbG9yKF90aGlzMi5wcm9wcy5jb2xvciwgYWxwaGEpIHx8IFwicmdiYSgzLCAzLCAzLCBcIiArIGFscGhhICsgXCIpXCI7XG4gICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHBBLnAueCwgcEEucC55KTtcbiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocEIucC54LCBwQi5wLnkpO1xuICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgdGhpcy5wcm90b24gJiYgdGhpcy5wcm90b24udXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYW52YXMsIHsgYmc6IHRoaXMucHJvcHMuYmcsXG4gICAgICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogXCJkYXJrZXJcIixcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDb2J3ZWI7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBDaXJjbGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBpbmhlcml0cyhDaXJjbGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENpcmNsZShwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDaXJjbGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDaXJjbGUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5jb2xvcnMgPSBbXCIjNzRiOWZmXCIsIFwiI2U4NDM5M1wiLCBcIiM2YzVjZTdcIiwgXCIjMDBiODk0XCIsIFwiI2ZkY2I2ZVwiLCBcIiMwMDYyNjZcIiwgXCIjMUIxNDY0XCJdO1xuXG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKENpcmNsZSwgW3tcbiAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBSQUZNYW5hZ2VyLnJlbW92ZSh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgICAgIHRoaXMucHJvdG9uLmRlc3Ryb3koKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm9uQ2FudmFzSW5pdGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FudmFzSW5pdGVkKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5jcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIFJBRk1hbmFnZXIuYWRkKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25SZXNpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS53aWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB0aGlzLnByb3Rvbi5yZW5kZXJlcnNbMF0ucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5wcm90b24gPSBuZXcgUHJvdG9uKCk7XG5cbiAgICAgIHZhciBlbWl0dGVyID0gbmV3IFByb3Rvbi5FbWl0dGVyKCk7XG4gICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gfHwgMjApO1xuICAgICAgZW1pdHRlci5kYW1waW5nID0gMC4wMDg7XG5cbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLk1hc3MoMSkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUmFkaXVzKDMwLCA2MDApKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlZlbG9jaXR5KG5ldyBQcm90b24uU3BhbigwLjUpLCBuZXcgUHJvdG9uLlNwYW4oMCwgMzYwKSwgXCJwb2xhclwiKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkpKTtcblxuICAgICAgdmFyIGNyb3NzWm9uZUJlaGF2aW91ciA9IG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgXCJjcm9zc1wiKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKFByb3Rvbi5nZXRTcGFuKDAuMzUsIDAuNTUpKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKHRoaXMuZ2V0Q29sb3IoKSkpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5SYW5kb21EcmlmdCg1MCwgNTAsIDAuNSkpO1xuXG4gICAgICBlbWl0dGVyLmVtaXQoXCJvbmNlXCIpO1xuICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTtcblxuICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DYW52YXNSZW5kZXJlcihjYW52YXMpO1xuICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIocmVuZGVyZXIpO1xuXG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ciA9IGNyb3NzWm9uZUJlaGF2aW91cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q29sb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29sb3IoKSB7XG4gICAgICB2YXIgYyA9IHRoaXMuY29sb3JzO1xuICAgICAgaWYgKHRoaXMucHJvcHMuY29sb3IpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5jb2xvcikpIHtcbiAgICAgICAgICBjID0gdGhpcy5wcm9wcy5jb2xvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjID0gW3RoaXMucHJvcHMuY29sb3JdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgdGhpcy5wcm90b24gJiYgdGhpcy5wcm90b24udXBkYXRlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYW52YXMsIHsgYmc6IHRoaXMucHJvcHMuYmcsXG4gICAgICAgIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbjogXCJkYXJrZW5cIixcbiAgICAgICAgb25DYW52YXNJbml0ZWQ6IHRoaXMub25DYW52YXNJbml0ZWQuYmluZCh0aGlzKSxcbiAgICAgICAgb25SZXNpemU6IHRoaXMub25SZXNpemUuYmluZCh0aGlzKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDaXJjbGU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBUYWRwb2xlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoVGFkcG9sZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFkcG9sZShwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFRhZHBvbGUpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGFkcG9sZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRhZHBvbGUpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5yZW5kZXJQcm90b24gPSBfdGhpcy5yZW5kZXJQcm90b24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoVGFkcG9sZSwgW3tcbiAgICBrZXk6IFwib25DYW52YXNEaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0RpZE1vdW50KGNhbnZhcykge31cbiAgfSwge1xuICAgIGtleTogXCJvbkNhbnZhc0luaXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNhbnZhc0luaXRlZChjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICB0aGlzLnJlbmRlclByb3RvbigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGg7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQcm90b24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTtcblxuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIuZGFtcGluZyA9IDAuMDA4O1xuICAgICAgZW1pdHRlci5yYXRlID0gbmV3IFByb3Rvbi5SYXRlKHRoaXMucHJvcHMubnVtID8gdGhpcy5wcm9wcy5udW0gOiA1MCk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cyg1LCA5KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oMS41KSwgbmV3IFByb3Rvbi5TcGFuKDAsIDM2MCksIFwicG9sYXJcIikpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUG9zaXRpb24obmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSkpO1xuXG4gICAgICB2YXIgbW91c2VJbmZvID0ge1xuICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgIHk6IGhlaWdodCAvIDJcbiAgICAgIH07XG5cbiAgICAgIHZhciBhdHRyYWN0aW9uQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5BdHRyYWN0aW9uKG1vdXNlSW5mbywgMCwgMCk7XG4gICAgICB2YXIgY3Jvc3Nab25lQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCBcImJvdW5kXCIpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcih0aGlzLnByb3BzLmNvbG9yIHx8IFwiI2JiYlwiKSk7XG4gICAgICAvL2VtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEobmV3IFByb3Rvbi5TcGFuKDAuNSwgMSkpKTtcbiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGF0dHJhY3Rpb25CZWhhdmlvdXIsIGNyb3NzWm9uZUJlaGF2aW91cik7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlJhbmRvbURyaWZ0KDE1LCAxNSwgMC4wNSkpO1xuICAgICAgZW1pdHRlci5lbWl0KFwib25jZVwiKTtcblxuICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTtcbiAgICAgIHRoaXMucHJvdG9uLmFkZFJlbmRlcmVyKHRoaXMuY3JlYXRlUmVuZGVyZXIoY2FudmFzKSk7XG4gICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ciA9IGNyb3NzWm9uZUJlaGF2aW91cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUmVuZGVyZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY2FudmFzKSB7XG4gICAgICB2YXIgam9pbnRDb3VudCA9IDEwO1xuICAgICAgdmFyIGRlbGF5VGltZSA9IDg7XG4gICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICB2YXIgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7XG5cbiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZUNyZWF0ZWQgPSBmdW5jdGlvbiAocGFydGljbGUpIHtcbiAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMgPSBbXTtcbiAgICAgICAgcGFydGljbGUuZGF0YS5pbmRleCA9IDA7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXJlci5vblBhcnRpY2xlVXBkYXRlID0gZnVuY3Rpb24gKHBhcnRpY2xlKSB7XG4gICAgICAgIGRyYXdUYWRwb2xlVGFpbChwYXJ0aWNsZSk7XG4gICAgICAgIGlmIChwYXJ0aWNsZS5kYXRhLmluZGV4ICUgZGVsYXlUaW1lID09PSAwKSBmaWxsUG9pbnRzRGF0YShwYXJ0aWNsZSk7XG4gICAgICAgIGRyYXdUYWRwb2xlSGVhZChwYXJ0aWNsZSk7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEuaW5kZXgrKztcbiAgICAgIH07XG5cbiAgICAgIHZhciBmaWxsUG9pbnRzRGF0YSA9IGZ1bmN0aW9uIGZpbGxQb2ludHNEYXRhKHBhcnRpY2xlKSB7XG4gICAgICAgIHBhcnRpY2xlLmRhdGEucG9pbnRzLnVuc2hpZnQocGFydGljbGUucC55KTtcbiAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMudW5zaGlmdChwYXJ0aWNsZS5wLngpO1xuXG4gICAgICAgIGlmIChwYXJ0aWNsZS5kYXRhLnBvaW50cy5sZW5ndGggPiBqb2ludENvdW50KSB7XG4gICAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMucG9wKCk7XG4gICAgICAgICAgcGFydGljbGUuZGF0YS5wb2ludHMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBkcmF3VGFkcG9sZUhlYWQgPSBmdW5jdGlvbiBkcmF3VGFkcG9sZUhlYWQocGFydGljbGUpIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBwYXJ0aWNsZS5jb2xvcjtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5hcmMocGFydGljbGUucC54LCBwYXJ0aWNsZS5wLnksIHBhcnRpY2xlLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICBjb250ZXh0LmZpbGwoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkcmF3VGFkcG9sZVRhaWwgPSBmdW5jdGlvbiBkcmF3VGFkcG9sZVRhaWwocGFydGljbGUpIHtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHBhcnRpY2xlLmNvbG9yO1xuXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHBhcnRpY2xlLnAueCwgcGFydGljbGUucC55KTtcblxuICAgICAgICB2YXIgbCA9IHBhcnRpY2xlLmRhdGEucG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpICs9IDIpIHtcbiAgICAgICAgICB2YXIgeCA9IHBhcnRpY2xlLmRhdGEucG9pbnRzW2ldO1xuICAgICAgICAgIHZhciB5ID0gcGFydGljbGUuZGF0YS5wb2ludHNbaSArIDFdO1xuXG4gICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBsaW5lYXJFdmFsdWF0aW9uKGksIGwpO1xuICAgICAgICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xuICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBsaW5lYXJFdmFsdWF0aW9uID0gZnVuY3Rpb24gbGluZWFyRXZhbHVhdGlvbihpLCBsKSB7XG4gICAgICAgIGlmIChsIDw9IDIpIHJldHVybiAxO1xuXG4gICAgICAgIHZhciBtYXggPSA2O1xuICAgICAgICB2YXIgQSA9IChtYXggLSAxKSAvICgyIC8gbCAtIDEpO1xuICAgICAgICB2YXIgQiA9IDEgLSBBO1xuICAgICAgICB2YXIgWCA9IChpICsgMikgLyBsO1xuICAgICAgICB2YXIgdmFsID0gQSAqIFggKyBCO1xuICAgICAgICB2YWwgPSB2YWwgPj4gMDtcblxuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJQcm90b25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUHJvdG9uKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIFJBRk1hbmFnZXIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnByb3Rvbi51cGRhdGUoKTtcbiAgICAgICAgLy90aGlzLnByb3Rvbi5zdGF0cy51cGRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IFwiZGFya2VyXCIsXG4gICAgICAgIG9uQ2FudmFzRGlkTW91bnQ6IHRoaXMub25DYW52YXNEaWRNb3VudC5iaW5kKHRoaXMpLFxuICAgICAgICBvbkNhbnZhc0luaXRlZDogdGhpcy5vbkNhbnZhc0luaXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICBvblJlc2l6ZTogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRhZHBvbGU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbnZhciBDT0xPUiA9IFtcIiNmNmI5M2JcIiwgXCIjMThkY2ZmXCIsIFwiI2NkODRmMVwiLCBcIiNFRDRDNjdcIiwgXCIjZmZmZmZmXCIsIFwiI2I3MTU0MFwiLCBcIiMzMmZmN2VcIiwgXCIjZmYzODM4XCJdO1xuXG52YXIgUG9seWdvbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKFBvbHlnb24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBvbHlnb24ocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQb2x5Z29uKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvbHlnb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb2x5Z29uKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFBvbHlnb24sIFt7XG4gICAga2V5OiBcIm9uQ2FudmFzSW5pdGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2FudmFzSW5pdGVkKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5jcmVhdGVQcm90b24oY2FudmFzKTtcbiAgICAgIHRoaXMuY3JlYXRlRW1pdHRlcih7XG4gICAgICAgIGNhbnZhczogY2FudmFzLFxuICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgIHk6IGhlaWdodCAvIDIsXG4gICAgICAgIG1haW5FbWl0dGVyOiB0cnVlLFxuICAgICAgICB6b25lOiBcImJvdW5kXCJcbiAgICAgIH0pO1xuXG4gICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pO1xuICAgICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpO1xuICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIocmVuZGVyZXIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVSZW5kZXJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihjYW52YXMpIHtcbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ3VzdG9tUmVuZGVyZXIoKTtcblxuICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICB9O1xuXG4gICAgICByZW5kZXJlci5vblBhcnRpY2xlQ3JlYXRlZCA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICBwYXJ0aWNsZS5kYXRhLmNvdW50ID0gUHJvdG9uLk1hdGhVdGlsLnJhbmRvbUFUb0IoMywgMTAsIHRydWUpO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZVVwZGF0ZSA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkge1xuICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHBhcnRpY2xlLmFscGhhO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHBhcnRpY2xlLmNvbG9yO1xuXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHBhcnRpY2xlLnAueCwgcGFydGljbGUucC55KTtcbiAgICAgICAgY29udGV4dC5yb3RhdGUoUHJvdG9uLk1hdGhVdGlsLmRlZ3JlZVRyYW5zZm9ybShwYXJ0aWNsZS5yb3RhdGlvbikpO1xuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtcGFydGljbGUucC54LCAtcGFydGljbGUucC55KTtcblxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICBkcmF3UG9seWdvbihwYXJ0aWNsZSwgcGFydGljbGUuZGF0YS5jb3VudCk7XG5cbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHJlbmRlcmVyLm9uUGFydGljbGVEZWFkID0gZnVuY3Rpb24gKHBhcnRpY2xlKSB7fTtcblxuICAgICAgdmFyIGRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24ocGFydGljbGUsIGNvdW50KSB7XG4gICAgICAgIGlmIChjb3VudCA+PSA3KSB7XG4gICAgICAgICAgY29udGV4dC5hcmMocGFydGljbGUucC54LCBwYXJ0aWNsZS5wLnksIHBhcnRpY2xlLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByYWRpdXMgPSBwYXJ0aWNsZS5yYWRpdXM7XG5cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHBhcnRpY2xlLnAueCArIHJhZGl1cyAqIE1hdGguY29zKE1hdGguUEkgLyAxODAgKiAzNjAgLyBjb3VudCAqIGkpO1xuICAgICAgICAgICAgdmFyIHkgPSBwYXJ0aWNsZS5wLnkgKyByYWRpdXMgKiBNYXRoLnNpbihNYXRoLlBJIC8gMTgwICogMzYwIC8gY291bnQgKiBpKTtcblxuICAgICAgICAgICAgaWYgKGkgPT09IDApIGNvbnRleHQubW92ZVRvKHgsIHkpO2Vsc2UgY29udGV4dC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUVtaXR0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRW1pdHRlcihfcmVmKSB7XG4gICAgICB2YXIgbWFpbkVtaXR0ZXIgPSBfcmVmLm1haW5FbWl0dGVyLFxuICAgICAgICAgIGNhbnZhcyA9IF9yZWYuY2FudmFzLFxuICAgICAgICAgIHggPSBfcmVmLngsXG4gICAgICAgICAgeSA9IF9yZWYueSxcbiAgICAgICAgICByYWRpdXMgPSBfcmVmLnJhZGl1cyxcbiAgICAgICAgICBfcmVmJGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHVuZGVmaW5lZCA/IENPTE9SIDogX3JlZiRjb2xvcixcbiAgICAgICAgICBfcmVmJHpvbmUgPSBfcmVmLnpvbmUsXG4gICAgICAgICAgem9uZSA9IF9yZWYkem9uZSA9PT0gdW5kZWZpbmVkID8gXCJkZWFkXCIgOiBfcmVmJHpvbmUsXG4gICAgICAgICAgX3JlZiRvbmNlID0gX3JlZi5vbmNlLFxuICAgICAgICAgIG9uY2UgPSBfcmVmJG9uY2UgPT09IHVuZGVmaW5lZCA/IFwiYWxsXCIgOiBfcmVmJG9uY2UsXG4gICAgICAgICAgX3JlZiRhbHBoYSA9IF9yZWYuYWxwaGEsXG4gICAgICAgICAgYWxwaGEgPSBfcmVmJGFscGhhID09PSB1bmRlZmluZWQgPyAwLjg1IDogX3JlZiRhbHBoYSxcbiAgICAgICAgICBfcmVmJGdyYXZpdHkgPSBfcmVmLmdyYXZpdHksXG4gICAgICAgICAgZ3Jhdml0eSA9IF9yZWYkZ3Jhdml0eSA9PT0gdW5kZWZpbmVkID8gMy41IDogX3JlZiRncmF2aXR5O1xuXG4gICAgICB2YXIgZW1pdHRlciA9IHRoaXMucHJvdG9uLnBvb2wuZ2V0KFByb3Rvbi5FbWl0dGVyKTtcblxuICAgICAgaWYgKCFlbWl0dGVyLmNvbXBsZXRlZCkge1xuICAgICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5wcm9wcy5udW0gPyBuZXcgUHJvdG9uLlNwYW4odGhpcy5wcm9wcy5udW0pIDogbmV3IFByb3Rvbi5TcGFuKDQsIDkpLCBuZXcgUHJvdG9uLlNwYW4oMS42LCAyLjIpKTtcblxuICAgICAgICB2YXIgcmFkaXVzSW5pdCA9IG1haW5FbWl0dGVyID8gbmV3IFByb3Rvbi5SYWRpdXMoMTAsIDExMCkgOiBuZXcgUHJvdG9uLlJhZGl1cygzLCByYWRpdXMpO1xuICAgICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTtcbiAgICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKHJhZGl1c0luaXQpO1xuICAgICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5MaWZlKDMsIDYpKTtcbiAgICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uVmVsb2NpdHkobmV3IFByb3Rvbi5TcGFuKDQsIDYpLCBuZXcgUHJvdG9uLlNwYW4oLTkwLCA5MCksIFwicG9sYXJcIikpO1xuXG4gICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoYWxwaGEsIDAuMikpO1xuICAgICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKGNvbG9yKSk7XG4gICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uU2NhbGUoMSwgMC4zKSk7XG4gICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uUm90YXRlKCkpO1xuICAgICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkdyYXZpdHkoZ3Jhdml0eSkpO1xuXG4gICAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKHRoaXMuY3VzdG9tRGVhZEJlaGF2aW91cihjYW52YXMpKTtcbiAgICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCB6b25lKSk7XG4gICAgICB9XG5cbiAgICAgIGVtaXR0ZXIucC54ID0geDtcbiAgICAgIGVtaXR0ZXIucC55ID0geTtcbiAgICAgIGlmIChvbmNlID09PSBcIm9uY2VcIikgZW1pdHRlci5lbWl0KFwib25jZVwiKTtlbHNlIGVtaXR0ZXIuZW1pdCgpO1xuXG4gICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgLy90aGlzLmV4cGlyZUVtaXR0ZXIoZW1pdHRlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4cGlyZUVtaXR0ZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhwaXJlRW1pdHRlcihlbWl0dGVyKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVtaXR0ZXIuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMyLnByb3Rvbi5wb29sLmV4cGlyZShlbWl0dGVyKTtcbiAgICAgICAgX3RoaXMyLnByb3Rvbi5yZW1vdmVFbWl0dGVyKGVtaXR0ZXIpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3VzdG9tRGVhZEJlaGF2aW91clwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXN0b21EZWFkQmVoYXZpb3VyKGNhbnZhcykge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUocGFydGljbGUpIHtcbiAgICAgICAgICBwYXJ0aWNsZS5kYXRhID0gcGFydGljbGUuZGF0YSB8fCB7fTtcbiAgICAgICAgICBwYXJ0aWNsZS5kYXRhLm9sZFJhZGl1cyA9IHBhcnRpY2xlLnJhZGl1cztcbiAgICAgICAgICBwYXJ0aWNsZS5kYXRhLmVtaXR0ZXJDb3VudCA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5QmVoYXZpb3VyOiBmdW5jdGlvbiBhcHBseUJlaGF2aW91cihwYXJ0aWNsZSkge1xuICAgICAgICAgIGlmIChwYXJ0aWNsZS5yYWRpdXMgPCA1KSByZXR1cm47XG4gICAgICAgICAgaWYgKHBhcnRpY2xlLmRhdGEuZW1pdHRlckNvdW50ID49IDIpIHJldHVybjtcblxuICAgICAgICAgIGlmIChwYXJ0aWNsZS5yYWRpdXMgPD0gMSAvIDMgKiBwYXJ0aWNsZS5kYXRhLm9sZFJhZGl1cykge1xuICAgICAgICAgICAgcGFydGljbGUuZGF0YS5lbWl0dGVyQ291bnQrKztcbiAgICAgICAgICAgIF90aGlzMy5jcmVhdGVFbWl0dGVyKHtcbiAgICAgICAgICAgICAgY2FudmFzOiBjYW52YXMsXG4gICAgICAgICAgICAgIHg6IHBhcnRpY2xlLnAueCxcbiAgICAgICAgICAgICAgeTogcGFydGljbGUucC55LFxuICAgICAgICAgICAgICByYWRpdXM6IHBhcnRpY2xlLnJhZGl1cyAqICgxIC8gMiksXG4gICAgICAgICAgICAgIGFscGhhOiAwLjUsXG4gICAgICAgICAgICAgIGdyYXZpdHk6IDUsXG4gICAgICAgICAgICAgIGNvbG9yOiBwYXJ0aWNsZS5jb2xvcixcbiAgICAgICAgICAgICAgb25jZTogXCJvbmNlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclByb3RvbigpIHtcbiAgICAgIHRoaXMucHJvdG9uICYmIHRoaXMucHJvdG9uLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FudmFzLCB7IGJnOiB0aGlzLnByb3BzLmJnLFxuICAgICAgICBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb246IFwiZGFya2VyXCIsXG4gICAgICAgIG9uQ2FudmFzSW5pdGVkOiB0aGlzLm9uQ2FudmFzSW5pdGVkLmJpbmQodGhpcyksXG4gICAgICAgIG9uUmVzaXplOiB0aGlzLm9uUmVzaXplLmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUG9seWdvbjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIEZvdW50YWluID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgaW5oZXJpdHMoRm91bnRhaW4sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEZvdW50YWluKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgRm91bnRhaW4pO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRm91bnRhaW4uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGb3VudGFpbikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmNvbG9ycyA9IFtcIiM1MjlCODhcIiwgXCIjQ0REMTgwXCIsIFwiI0ZGRkEzMlwiLCBcIiNGQjYyNTVcIiwgXCIjRkI0QTUzXCIsIFwiI0ZGNEU1MFwiLCBcIiNGOUQ0MjNcIl07XG4gICAgX3RoaXMucmVuZGVyUHJvdG9uID0gX3RoaXMucmVuZGVyUHJvdG9uLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKEZvdW50YWluLCBbe1xuICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTtcbiAgICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwib25DYW52YXNJbml0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25DYW52YXNJbml0ZWQoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB0aGlzLmNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvblJlc2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblJlc2l6ZSgpIHt9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUHJvdG9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVByb3RvbihjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpO1xuICAgICAgdmFyIGVtaXR0ZXIgPSBuZXcgUHJvdG9uLkVtaXR0ZXIoKTtcbiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLnByb3BzLm51bSA/IG5ldyBQcm90b24uU3Bhbih0aGlzLnByb3BzLm51bSkgOiBuZXcgUHJvdG9uLlNwYW4oNCwgOCksIG5ldyBQcm90b24uU3BhbigwLjEsIDAuMjUpKTtcblxuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoMjAsIDIwMCkpO1xuICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTGlmZSgyLCA0KSk7XG4gICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oNCwgNyksIG5ldyBQcm90b24uU3BhbigwLCAzNjApLCBcInBvbGFyXCIpKTtcbiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlBvc2l0aW9uKG5ldyBQcm90b24uQ2lyY2xlWm9uZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIDEwMCkpKTtcblxuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5BbHBoYSgxLCAwKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlNjYWxlKDAuMiwgMSkpO1xuICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIodGhpcy5jcmVhdGVDdXN0b21CZWhhdmlvdXIoKSk7XG4gICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKHRoaXMuY29sb3JzLCBcInJhbmRvbVwiKSk7XG4gICAgICBlbWl0dGVyLmVtaXQoKTtcbiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIoZW1pdHRlcik7XG5cbiAgICAgIHZhciByZW5kZXJlciA9IG5ldyBQcm90b24uQ2FudmFzUmVuZGVyZXIoY2FudmFzKTtcbiAgICAgIHRoaXMucHJvdG9uLmFkZFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQ3VzdG9tQmVoYXZpb3VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUJlaGF2aW91cigpIHtcbiAgICAgIHZhciBmID0gMTAgKiAxMDA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKHBhcnRpY2xlKSB7XG4gICAgICAgICAgcGFydGljbGUuZiA9IG5ldyBQcm90b24uVmVjdG9yMkQoMCwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5QmVoYXZpb3VyOiBmdW5jdGlvbiBhcHBseUJlaGF2aW91cihwYXJ0aWNsZSkge1xuICAgICAgICAgIHZhciBsZW5ndGggPSBwYXJ0aWNsZS52Lmxlbmd0aCgpIC8gMTAwMDtcbiAgICAgICAgICB2YXIgZ3JhZGllbnQgPSBwYXJ0aWNsZS52LmdldEdyYWRpZW50KCk7XG4gICAgICAgICAgZ3JhZGllbnQgKz0gMy4xNCAvIDI7XG5cbiAgICAgICAgICBwYXJ0aWNsZS5mLnggPSBmICogbGVuZ3RoICogTWF0aC5jb3MoZ3JhZGllbnQpO1xuICAgICAgICAgIHBhcnRpY2xlLmYueSA9IGYgKiBsZW5ndGggKiBNYXRoLnNpbihncmFkaWVudCk7XG4gICAgICAgICAgcGFydGljbGUuYS5hZGQocGFydGljbGUuZik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclByb3RvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJQcm90b24oKSB7XG4gICAgICB0aGlzLnByb3RvbiAmJiB0aGlzLnByb3Rvbi51cGRhdGUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENhbnZhcywgeyBiZzogdGhpcy5wcm9wcy5iZyxcbiAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiBcInhvclwiLFxuICAgICAgICBvbkNhbnZhc0luaXRlZDogdGhpcy5vbkNhbnZhc0luaXRlZC5iaW5kKHRoaXMpLFxuICAgICAgICBvblJlc2l6ZTogdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEZvdW50YWluO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgUGFydGljbGVzQmcgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhQYXJ0aWNsZXNCZywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUGFydGljbGVzQmcocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQYXJ0aWNsZXNCZyk7XG4gICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBhcnRpY2xlc0JnLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFydGljbGVzQmcpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhQYXJ0aWNsZXNCZywgW3tcbiAgICBrZXk6IFwiZ2V0UmFuZG9tXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJhbmRvbSgpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG51bSA9IF9wcm9wcy5udW0sXG4gICAgICAgICAgYmcgPSBfcHJvcHMuYmcsXG4gICAgICAgICAgY29sb3IgPSBfcHJvcHMuY29sb3I7XG5cbiAgICAgIC8vIENvZGUgc291cmNlIGZyb20gaGVyZSwgdGhhbmtzIGF1dGhvclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2RyYXdjYWxsL1Byb3Rvbi9ibG9iL2doLXBhZ2VzL3NvdXJjZS9zcmMvdXRpbHMvUmFuZC5qc1xuXG4gICAgICBpZiAoIXRoaXMucmFuZG9tKSB7XG4gICAgICAgIHRoaXMucmFuZG9tID0gbmV3IFJhbmQoKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMjUsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sb3IsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMiwgUmVhY3QuY3JlYXRlRWxlbWVudChCYWxsLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KSk7XG4gICAgICAgIHRoaXMucmFuZG9tLnNldCgwLjIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGluZXMsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMTYsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhpY2ssIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMTgsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2lyY2xlLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KSk7XG4gICAgICAgIHRoaXMucmFuZG9tLnNldCgwLjA0LCBSZWFjdC5jcmVhdGVFbGVtZW50KENvYndlYiwgeyBudW06IG51bSwgYmc6IGJnLCBjb2xvcjogY29sb3IgfSkpO1xuICAgICAgICB0aGlzLnJhbmRvbS5zZXQoMC4xLCBSZWFjdC5jcmVhdGVFbGVtZW50KFBvbHlnb24sIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMDgsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3F1YXJlLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KSk7XG4gICAgICAgIHRoaXMucmFuZG9tLnNldCgwLjE4LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRhZHBvbGUsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgICAgdGhpcy5yYW5kb20uc2V0KDAuMTUsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm91bnRhaW4sIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJhbmRvbS5nZXRSZXN1bHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QmdQYXJ0aWNsZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QmdQYXJ0aWNsZXMoKSB7XG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgdHlwZSA9IF9wcm9wczIudHlwZSxcbiAgICAgICAgICBudW0gPSBfcHJvcHMyLm51bSxcbiAgICAgICAgICBiZyA9IF9wcm9wczIuYmcsXG4gICAgICAgICAgY29sb3IgPSBfcHJvcHMyLmNvbG9yLFxuICAgICAgICAgIGNvbmZpZyA9IF9wcm9wczIuY29uZmlnO1xuXG5cbiAgICAgIHZhciBwYXJ0aWNsZXMgPSB2b2lkIDA7XG4gICAgICBzd2l0Y2ggKFN0cmluZyh0eXBlKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sb3IsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYmFsbFwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFsbCwgeyBudW06IG51bSwgYmc6IGJnLCBjb2xvcjogY29sb3IgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsaW5lc1wiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGluZXMsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGhpY2tcIjpcbiAgICAgICAgICBwYXJ0aWNsZXMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFRoaWNrLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNpcmNsZVwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2lyY2xlLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvYndlYlwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29id2ViLCB7IG51bTogbnVtLCBiZzogYmcsIGNvbG9yOiBjb2xvciB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvbHlnb25cIjpcbiAgICAgICAgICBwYXJ0aWNsZXMgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFBvbHlnb24sIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3F1YXJlXCI6XG4gICAgICAgICAgcGFydGljbGVzID0gUmVhY3QuY3JlYXRlRWxlbWVudChTcXVhcmUsIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGFkcG9sZVwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFkcG9sZSwgeyBudW06IG51bSwgYmc6IGJnLCBjb2xvcjogY29sb3IgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmb3VudGFpblwiOlxuICAgICAgICAgIHBhcnRpY2xlcyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm91bnRhaW4sIHsgbnVtOiBudW0sIGJnOiBiZywgY29sb3I6IGNvbG9yIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY3VzdG9tXCI6XG4gICAgICAgICAgcGFydGljbGVzID0gUmVhY3QuY3JlYXRlRWxlbWVudChDb2xvciQxLCB7IGJnOiBiZywgY29uZmlnOiBjb25maWcgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyYW5kb21cIjpcbiAgICAgICAgICBwYXJ0aWNsZXMgPSB0aGlzLmdldFJhbmRvbShudW0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcGFydGljbGVzID0gUmVhY3QuY3JlYXRlRWxlbWVudChDb2xvciwgeyBudW06IG51bSwgYmc6IGJnLCBjb2xvcjogY29sb3IgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJ0aWNsZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgcGFydGljbGVzID0gdGhpcy5nZXRCZ1BhcnRpY2xlcygpO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFJlYWN0LkZyYWdtZW50LFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJ0aWNsZXNcbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBQYXJ0aWNsZXNCZztcbn0oQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUGFydGljbGVzQmc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/particles-bg/dist/index.es.js\n");

/***/ }),

/***/ "./node_modules/proton-engine/build/proton.min.js":
/*!********************************************************!*\
  !*** ./node_modules/proton-engine/build/proton.min.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*!\n* Proton v4.1.5\n* https://github.com/drawcall/Proton\n*\n* Copyright 2013-2019, A-JIE\n* Licensed under the MIT license\n* http://www.opensource.org/licenses/mit-license\n*\n*/\n!function(t,e){ true?module.exports=e():undefined}(this,function(){\"use strict\";function s(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var e=3.1415926,h={PI:e,PIx2:2*e,PI_2:e/2,PI_180:e/180,N180_PI:180/e,Infinity:-999,isInfinity:function(t){return t===this.Infinity||t===1/0},randomAToB:function(t,e,i){return 2<arguments.length&&void 0!==i&&i?Math.floor(Math.random()*(e-t))+t:t+Math.random()*(e-t)},randomFloating:function(t,e,i){return this.randomAToB(t-e,t+e,i)},randomColor:function(){return\"#\"+(\"00000\"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(){},floor:function(t,e){var i=1<arguments.length&&void 0!==e?e:4,a=Math.pow(10,i);return Math.floor(t*a)/a},degreeTransform:function(t){return t*e/180},toColor16:function(t){return\"#\"+t.toString(16)}},i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,e);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:o(r,e,i)}if(\"value\"in a)return a.value;var n=a.get;return void 0!==n?n.call(i):void 0}function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}var n=(t(u,[{key:\"getValue\",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return this.isArray?P.getRandFromArray(this.a):this.center?h.randomFloating(this.a,this.b,e):h.randomAToB(this.a,this.b,e)}}],[{key:\"setSpanValue\",value:function(t,e,i){return t instanceof u?t:void 0===e?new u(t):void 0===i?new u(t,e):new u(t,e,i)}},{key:\"getSpanValue\",value:function(t){return t instanceof u?t.getValue():t}}]),u);function u(t,e,i){s(this,u),P.isArray(t)?(this.isArray=!0,this.a=t):(this.isArray=!1,this.a=P.initValue(t,1),this.b=P.initValue(e,this.a),this.center=P.initValue(i,!1))}var c=function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},d=function(t,e){return[1,0,0,0,1,0,t,e,1]},y=function(t){var e=Math.cos(t),i=Math.sin(t);return[e,-i,0,i,e,0,0,0,1]},p=function(t,e){return[t,0,0,0,e,0,0,0,1]},f=function(t,e){var i=t[0],a=t[1],r=t[2],n=t[3],s=t[4],o=t[5],h=t[6],l=t[7],u=t[8],c=e[0],d=e[1],y=e[2],p=e[3],f=e[4],v=e[5],g=e[6],m=e[7],b=e[8];return[i*c+a*p+r*g,i*d+a*f+r*m,i*y+a*v+r*b,n*c+s*p+o*g,n*d+s*f+o*m,n*y+s*v+o*b,h*c+l*p+u*g,h*d+l*f+u*m,h*y+l*v+u*b]},v={createCanvas:function(t,e,i,a){var r=3<arguments.length&&void 0!==a?a:\"absolute\",n=document.createElement(\"canvas\");return n.id=t,n.width=e,n.height=i,n.style.opacity=0,n.style.position=r,this.transform(n,-500,-500,0,0),n},createDiv:function(t,e,i){var a=document.createElement(\"div\");return a.id=t,a.style.position=\"absolute\",this.resize(a,e,i),a},resize:function(t,e,i){t.style.width=e+\"px\",t.style.height=i+\"px\",t.style.marginLeft=-e/2+\"px\",t.style.marginTop=-i/2+\"px\"},transform:function(t,e,i,a,r){t.style.willChange=\"transform\";var n=\"translate(\"+e+\"px, \"+i+\"px) scale(\"+a+\") rotate(\"+r+\"deg)\";this.css3(t,\"transform\",n)},transform3d:function(t,e,i,a,r){t.style.willChange=\"transform\";var n=\"translate3d(\"+e+\"px, \"+i+\"px, 0) scale(\"+a+\") rotate(\"+r+\"deg)\";this.css3(t,\"backfaceVisibility\",\"hidden\"),this.css3(t,\"transform\",n)},css3:function(t,e,i){var a=e.charAt(0).toUpperCase()+e.substr(1);t.style[\"Webkit\"+a]=i,t.style[\"Moz\"+a]=i,t.style[\"O\"+a]=i,t.style[\"ms\"+a]=i,t.style[\"\"+e]=i}},g={},m={},b=0,_=function(t,e,i){t.drawImage(e,i.x,i.y);var a=t.getImageData(i.x,i.y,i.width,i.height);return t.clearRect(i.x,i.y,i.width,i.height),a},x=function(t,e,i){var a=\"string\"==typeof t?t:t.src;if(g[a])e(g[a],i);else{var r=new Image;r.onload=function(t){g[a]=t.target,e(g[a],i)},r.src=a}},k=function(t,e,i){var a=t.src;if(!m[a]){var r=c(t.width),n=c(t.height),s=v.createCanvas(\"proton_canvas_cache_\"+ ++b,r,n);s.getContext(\"2d\").drawImage(t,0,0,t.width,t.height),m[a]=s}return e&&e(m[a],i),m[a]},P={initValue:function(t,e){return t=null!=t?t:e},isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},emptyArray:function(t){t&&(t.length=0)},toArray:function(t){return this.isArray(t)?t:[t]},getRandFromArray:function(t){return t?t[Math.floor(t.length*Math.random())]:null},emptyObject:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;for(var a in t)i&&-1<i.indexOf(a)||delete t[a]},classApply:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;return i?new(t.bind.apply(t,[null].concat(i))):new t},setVectorVal:function(t,e){var i=1<arguments.length&&void 0!==e?e:null;i&&(this.hasProp(i,\"x\")&&(t.p.x=i.x),this.hasProp(i,\"y\")&&(t.p.y=i.y),this.hasProp(i,\"vx\")&&(t.v.x=i.vx),this.hasProp(i,\"vy\")&&(t.v.y=i.vy),this.hasProp(i,\"ax\")&&(t.a.x=i.ax),this.hasProp(i,\"ay\")&&(t.a.y=i.ay),this.hasProp(i,\"p\")&&t.p.copy(i.p),this.hasProp(i,\"v\")&&t.v.copy(i.v),this.hasProp(i,\"a\")&&t.a.copy(i.a),this.hasProp(i,\"position\")&&t.p.copy(i.position),this.hasProp(i,\"velocity\")&&t.v.copy(i.velocity),this.hasProp(i,\"accelerate\")&&t.a.copy(i.accelerate))},hasProp:function(t,e){return!!t&&void 0!==t[e]},setProp:function(t,e){for(var i in e)t.hasOwnProperty(i)&&(t[i]=n.getSpanValue(e[i]));return t},getImageData:function(t,e,i){return _(t,e,i)},destroyAll:function(t,e){for(var i=1<arguments.length&&void 0!==e?e:null,a=t.length;a--;){try{t[a].destroy(i)}catch(t){}delete t[a]}t.length=0},assign:function(t,e){if(\"function\"==typeof Object.assign)return Object.assign(t,e);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}},E={},A={_index:0,_cache:{},id:function(t){return void 0!==E[t]&&null!==E[t]||(E[t]=0),t+\"_\"+E[t]++},getId:function(t){var e=this.getIdFromCache(t);return e||(e=\"PUID_\"+this._index++,this._cache[e]=t,e)},getIdFromCache:function(t){var e=void 0,i=void 0;for(i in this._cache){if((e=this._cache[i])===t)return i;if(this.isBody(e,t)&&e.src===t.src)return i}return null},isBody:function(t,e){return\"object\"===(void 0===t?\"undefined\":i(t))&&\"object\"===(void 0===e?\"undefined\":i(e))&&t.isInner&&e.isInner},getTarget:function(t){return this._cache[t]}},T=(t(R,[{key:\"get\",value:function(t,e,i){var a=void 0;return i=i||t.__puid||A.getId(t),(a=this.cache[i]&&0<this.cache[i].length?this.cache[i].pop():this.createOrClone(t,e)).__puid=t.__puid||i,a}},{key:\"expire\",value:function(t){return this.getCache(t.__puid).push(t)}},{key:\"createOrClone\",value:function(t,e){return this.total++,this.create?this.create(t,e):\"function\"==typeof t?P.classApply(t,e):t.clone()}},{key:\"getCount\",value:function(){var t=0;for(var e in this.cache)t+=this.cache[e].length;return t++}},{key:\"destroy\",value:function(){for(var t in this.cache)this.cache[t].length=0,delete this.cache[t]}},{key:\"getCache\",value:function(t){var e=0<arguments.length&&void 0!==t?t:\"default\";return this.cache[e]||(this.cache[e]=[]),this.cache[e]}}]),R);function R(t){s(this,R),this.total=0,this.cache={}}var O=(t(w,[{key:\"update\",value:function(t,e){this.add(t,e);var i=this.getEmitter(),a=this.getRenderer(),r=\"\";switch(this.type){case 2:r+=\"emitter:\"+this.proton.emitters.length+\"<br>\",i&&(r+=\"em speed:\"+i.emitSpeed+\"<br>\"),i&&(r+=\"pos:\"+this.getEmitterPos(i));break;case 3:i&&(r+=\"initializes:\"+i.initializes.length+\"<br>\"),i&&(r+='<span style=\"display:inline-block;\">'+this.concatArr(i.initializes)+\"</span><br>\"),i&&(r+=\"behaviours:\"+i.behaviours.length+\"<br>\"),i&&(r+='<span style=\"display:inline-block;\">'+this.concatArr(i.behaviours)+\"</span><br>\");break;case 4:a&&(r+=a.name+\"<br>\"),a&&(r+=\"body:\"+this.getCreatedNumber(a)+\"<br>\");break;default:r+=\"particles:\"+this.proton.getCount()+\"<br>\",r+=\"pool:\"+this.proton.pool.getCount()+\"<br>\",r+=\"total:\"+this.proton.pool.total}this.container.innerHTML=r}},{key:\"add\",value:function(t,e){var i=this;if(!this.container){this.type=1,this.container=document.createElement(\"div\"),this.container.style.cssText=[\"position:absolute;bottom:0px;left:0;cursor:pointer;\",\"opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;\",\"width:120px;height:50px;background-color:#002;color:#0ff;\"].join(\"\"),this.container.addEventListener(\"click\",function(t){i.type++,4<i.type&&(i.type=1)},!1);var a=void 0,r=void 0;switch(t){case 2:a=\"#201\",r=\"#f08\";break;case 3:a=\"#020\",r=\"#0f0\";break;default:a=\"#002\",r=\"#0ff\"}this.container.style[\"background-color\"]=a,this.container.style.color=r}this.container.parentNode||(e=e||this.body||document.body).appendChild(this.container)}},{key:\"getEmitter\",value:function(){return this.proton.emitters[this.emitterIndex]}},{key:\"getRenderer\",value:function(){return this.proton.renderers[this.rendererIndex]}},{key:\"concatArr\",value:function(t){var e=\"\";if(!t||!t.length)return e;for(var i=0;i<t.length;i++)e+=(t[i].name||\"\").substr(0,1)+\".\";return e}},{key:\"getCreatedNumber\",value:function(t){return t.pool.total||t.cpool&&t.cpool.total||0}},{key:\"getEmitterPos\",value:function(t){return Math.round(t.p.x)+\",\"+Math.round(t.p.y)}}]),w);function w(t){s(this,w),this.proton=t,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var C=(t(S,[{key:\"addEventListener\",value:function(t,e){return this._listeners?this.removeEventListener(t,e):this._listeners={},this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),e}},{key:\"removeEventListener\",value:function(t,e){if(this._listeners&&this._listeners[t])for(var i=this._listeners[t],a=i.length,r=0;r<a;r++)if(i[r]===e){1===a?delete this._listeners[t]:i.splice(r,1);break}}},{key:\"removeAllEventListeners\",value:function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null}},{key:\"dispatchEvent\",value:function(t,e){var i=!1,a=this._listeners;if(t&&a){var r=a[t];if(!r)return i;for(var n=void 0,s=r.length;s--;)n=r[s],i=i||n(e)}return!!i}},{key:\"hasEventListener\",value:function(t){var e=this._listeners;return!(!e||!e[t])}}],[{key:\"bind\",value:function(t){t.prototype.dispatchEvent=S.prototype.dispatchEvent,t.prototype.hasEventListener=S.prototype.hasEventListener,t.prototype.addEventListener=S.prototype.addEventListener,t.prototype.removeEventListener=S.prototype.removeEventListener,t.prototype.removeAllEventListeners=S.prototype.removeAllEventListeners}}]),S);function S(){s(this,S),this._listeners=null}var I=(t(D,[{key:\"calculate\",value:function(t,e,i){this.eulerIntegrate(t,e,i)}},{key:\"eulerIntegrate\",value:function(t,e,i){t.sleep||(t.old.p.copy(t.p),t.old.v.copy(t.v),t.a.multiplyScalar(1/t.mass),t.v.add(t.a.multiplyScalar(e)),t.p.add(t.old.v.multiplyScalar(e)),i&&t.v.multiplyScalar(i),t.a.clear())}}]),D);function D(t){s(this,D),this.type=t}var V=(t(M,[{key:\"addRenderer\",value:function(t){t.init(this),this.renderers.push(t)}},{key:\"removeRenderer\",value:function(t){var e=this.renderers.indexOf(t);this.renderers.splice(e,1),t.remove(this)}},{key:\"addEmitter\",value:function(t){this.emitters.push(t),(t.parent=this).dispatchEvent(M.EMITTER_ADDED,t)}},{key:\"removeEmitter\",value:function(t){var e=this.emitters.indexOf(t);this.emitters.splice(e,1),t.parent=null,this.dispatchEvent(M.EMITTER_REMOVED,t)}},{key:\"update\",value:function(){\"auto\"===this._fps?(this.dispatchEvent(M.PROTON_UPDATE),M.USE_CLOCK?(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),0<this.elapsed&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(M.DEFAULT_INTERVAL),this.dispatchEvent(M.PROTON_UPDATE_AFTER)):(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(M.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(M.PROTON_UPDATE_AFTER)))}},{key:\"emittersUpdate\",value:function(t){for(var e=this.emitters.length;e--;)this.emitters[e].update(t)}},{key:\"amendChangeTabsBug\",value:function(){M.amendChangeTabsBug&&.5<this.elapsed&&(this.then=(new Date).getTime(),this.elapsed=0)}},{key:\"getCount\",value:function(){for(var t=0,e=this.emitters.length;e--;)t+=this.emitters[e].particles.length;return t}},{key:\"getAllParticles\",value:function(){for(var t=[],e=this.emitters.length;e--;)t=t.concat(this.emitters[e].particles);return t}},{key:\"destroyAllEmitters\",value:function(){P.destroyAll(this.emitters)}},{key:\"destroy\",value:function(t){function e(){i.time=0,i.then=0,i.pool.destroy(),P.destroyAll(i.emitters),P.destroyAll(i.renderers,i.getAllParticles())}var i=this;0<arguments.length&&void 0!==t&&t?setTimeout(e,200):e()}},{key:\"fps\",set:function(t){this._fps=t,this._interval=\"auto\"===t?M.DEFAULT_INTERVAL:h.floor(1/t,7)},get:function(){return this._fps}}]),M);function M(t){s(this,M),this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new O(this),this.pool=new T(80),this.integrationType=P.initValue(t,M.EULER),this.integrator=new I(this.integrationType),this._fps=\"auto\",this._interval=M.DEFAULT_INTERVAL}V.USE_CLOCK=!1,V.MEASURE=100,V.EULER=\"euler\",V.RK2=\"runge-kutta2\",V.PARTICLE_CREATED=\"PARTICLE_CREATED\",V.PARTICLE_UPDATE=\"PARTICLE_UPDATE\",V.PARTICLE_SLEEP=\"PARTICLE_SLEEP\",V.PARTICLE_DEAD=\"PARTICLE_DEAD\",V.EMITTER_ADDED=\"EMITTER_ADDED\",V.EMITTER_REMOVED=\"EMITTER_REMOVED\",V.PROTON_UPDATE=\"PROTON_UPDATE\",V.PROTON_UPDATE_AFTER=\"PROTON_UPDATE_AFTER\",V.DEFAULT_INTERVAL=.0167,V.amendChangeTabsBug=!0,C.bind(V);var B=(t(L,[{key:\"reset\",value:function(){this.r=255,this.g=255,this.b=255}}]),L);function L(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255;s(this,L),this.r=t,this.g=e,this.b=i}var U={easeLinear:function(t){return t},easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInSine:function(t){return 1-Math.cos(t*h.PI_2)},easeOutSine:function(t){return Math.sin(t*h.PI_2)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},getEasing:function(t){return\"function\"==typeof t?t:this[t]||this.easeLinear}},F=(t(z,[{key:\"set\",value:function(t,e){return this.x=t,this.y=e,this}},{key:\"setX\",value:function(t){return this.x=t,this}},{key:\"setY\",value:function(t){return this.y=t,this}},{key:\"getGradient\",value:function(){return 0!==this.x?Math.atan2(this.y,this.x):0<this.y?h.PI_2:this.y<0?-h.PI_2:void 0}},{key:\"copy\",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:\"add\",value:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)}},{key:\"addXY\",value:function(t,e){return this.x+=t,this.y+=e,this}},{key:\"addVectors\",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:\"sub\",value:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)}},{key:\"subVectors\",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:\"divideScalar\",value:function(t){return 0!==t?(this.x/=t,this.y/=t):this.set(0,0),this}},{key:\"multiplyScalar\",value:function(t){return this.x*=t,this.y*=t,this}},{key:\"negate\",value:function(){return this.multiplyScalar(-1)}},{key:\"dot\",value:function(t){return this.x*t.x+this.y*t.y}},{key:\"lengthSq\",value:function(){return this.x*this.x+this.y*this.y}},{key:\"length\",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:\"normalize\",value:function(){return this.divideScalar(this.length())}},{key:\"distanceTo\",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:\"rotate\",value:function(t){var e=this.x,i=this.y;return this.x=e*Math.cos(t)+i*Math.sin(t),this.y=-e*Math.sin(t)+i*Math.cos(t),this}},{key:\"distanceToSquared\",value:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i}},{key:\"lerp\",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:\"equals\",value:function(t){return t.x===this.x&&t.y===this.y}},{key:\"clear\",value:function(){return this.x=0,this.y=0,this}},{key:\"clone\",value:function(){return new z(this.x,this.y)}}]),z);function z(t,e){s(this,z),this.x=t||0,this.y=e||0}var j=(t(N,[{key:\"getDirection\",value:function(){return Math.atan2(this.v.x,-this.v.y)*h.N180_PI}},{key:\"reset\",value:function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=U.easeLinear,this.rgb.reset(),P.emptyObject(this.data),this.removeAllBehaviours(),this}},{key:\"update\",value:function(t,e){if(this.sleep||(this.age+=t,this.applyBehaviours(t,e)),this.age<this.life){var i=this.easing(this.age/this.life);this.energy=Math.max(1-i,0)}else this.destroy()}},{key:\"applyBehaviours\",value:function(t,e){var i=this.behaviours.length,a=void 0;for(a=0;a<i;a++)this.behaviours[a]&&this.behaviours[a].applyBehaviour(this,t,e)}},{key:\"addBehaviour\",value:function(t){this.behaviours.push(t),t.hasOwnProperty(\"parents\")&&t.parents.push(this),t.initialize(this)}},{key:\"addBehaviours\",value:function(t){var e=t.length,i=void 0;for(i=0;i<e;i++)this.addBehaviour(t[i])}},{key:\"removeBehaviour\",value:function(t){var e=this.behaviours.indexOf(t);-1<e&&(this.behaviours.splice(e,1).parents=null)}},{key:\"removeAllBehaviours\",value:function(){P.emptyArray(this.behaviours)}},{key:\"destroy\",value:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}}]),N);function N(t){s(this,N),this.name=\"Particle\",this.id=A.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new F,this.v=new F,this.a=new F,this.old.p=new F,this.old.v=new F,this.old.a=new F,this.rgb=new B,this.reset(),t&&P.setProp(this,t)}var H={hexToRgb:function(t){var e=\"#\"===t.charAt(0)?t.substring(1,7):t;return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},rgbToHex:function(t){return\"rgb(\"+t.r+\", \"+t.g+\", \"+t.b+\")\"},getHex16FromParticle:function(t){return 65536*Number(t.rgb.r)+256*Number(t.rgb.g)+Number(t.rgb.b)}},q=(t(G,[{key:\"set\",value:function(t,e){return this.r=t,this.tha=e,this}},{key:\"setR\",value:function(t){return this.r=t,this}},{key:\"setTha\",value:function(t){return this.tha=t,this}},{key:\"copy\",value:function(t){return this.r=t.r,this.tha=t.tha,this}},{key:\"toVector\",value:function(){return new F(this.getX(),this.getY())}},{key:\"getX\",value:function(){return this.r*Math.sin(this.tha)}},{key:\"getY\",value:function(){return-this.r*Math.cos(this.tha)}},{key:\"normalize\",value:function(){return this.r=1,this}},{key:\"equals\",value:function(t){return t.r===this.r&&t.tha===this.tha}},{key:\"clear\",value:function(){return this.r=0,this.tha=0,this}},{key:\"clone\",value:function(){return new G(this.r,this.tha)}}]),G);function G(t,e){s(this,G),this.r=Math.abs(t)||0,this.tha=e||0}var X={create:function(t){var e=new Float32Array(9);return t&&this.set(t,e),e},set:function(t,e){for(var i=0;i<9;i++)e[i]=t[i];return e},multiply:function(t,e,i){var a=t[0],r=t[1],n=t[2],s=t[3],o=t[4],h=t[6],l=t[7],u=e[0],c=e[1],d=e[2],y=e[3],p=e[4],f=e[6],v=e[7];return i[0]=u*a+c*s,i[1]=u*r+c*o,i[2]=n*d,i[3]=y*a+p*s,i[4]=y*r+p*o,i[6]=f*a+v*s+h,i[7]=f*r+v*o+l,i},inverse:function(t,e){var i,a=t[0],r=t[1],n=t[3],s=t[4],o=t[6],h=t[7],l=s,u=-n,c=h*n-s*o;return i=1/(a*l+r*u),e[0]=l*i,e[1]=-r*i,e[3]=u*i,e[4]=a*i,e[6]=c*i,e[7]=(-h*a+r*o)*i,e},multiplyVec2:function(t,e,i){var a=e[0],r=e[1];return i[0]=a*t[0]+r*t[3]+t[6],i[1]=a*t[1]+r*t[4]+t[7],i}},Y=(r(W,n),t(W,[{key:\"getValue\",value:function(){var t=P.getRandFromArray(this._arr);return\"random\"===t||\"Random\"===t?h.randomColor():t}}],[{key:\"createArraySpan\",value:function(t){return t?t instanceof W?t:new W(t):null}}]),W);function W(t){s(this,W);var e=l(this,(W.__proto__||Object.getPrototypeOf(W)).call(this));return e._arr=P.toArray(t),e}var Z=(t(Q,[{key:\"contains\",value:function(t,e){return t<=this.right&&t>=this.x&&e<=this.bottom&&e>=this.y}}]),Q);function Q(t,e,i,a){s(this,Q),this.x=t,this.y=e,this.width=i,this.height=a,this.bottom=this.y+this.height,this.right=this.x+this.width}var K=(t(J,[{key:\"init\",value:function(){this.startTime=0,this.nextTime=this.timePan.getValue()}},{key:\"getValue\",value:function(t){return this.startTime+=t,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),1===this.numPan.b?.5<this.numPan.getValue(!1)?1:0:this.numPan.getValue(!0)):0}}]),J);function J(t,e){s(this,J),this.numPan=n.setSpanValue(P.initValue(t,1)),this.timePan=n.setSpanValue(P.initValue(e,1)),this.startTime=0,this.nextTime=0,this.init()}var $=(t(tt,[{key:\"reset\",value:function(){}},{key:\"init\",value:function(t,e){e?this.initialize(e):this.initialize(t)}},{key:\"initialize\",value:function(){}}]),tt);function tt(){s(this,tt)}var et=(r(it,$),t(it,[{key:\"initialize\",value:function(t){this.lifePan.a===1/0?t.life=1/0:t.life=this.lifePan.getValue()}}]),it);function it(t,e,i){s(this,it);var a=l(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return a.lifePan=n.setSpanValue(t,e,i),a.name=\"Life\",a}var at=(t(rt,[{key:\"getPosition\",value:function(){}},{key:\"crossing\",value:function(){}}]),rt);function rt(){s(this,rt),this.vector=new F(0,0),this.random=0,this.crossType=\"dead\",this.alert=!0}var nt=(r(st,at),t(st,[{key:\"getPosition\",value:function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector}},{key:\"crossing\",value:function(){this.alert&&(console.error(\"Sorry, PointZone does not support crossing method!\"),this.alert=!1)}}]),st);function st(t,e){s(this,st);var i=l(this,(st.__proto__||Object.getPrototypeOf(st)).call(this));return i.x=t,i.y=e,i}var ot=(r(ht,$),t(ht,[{key:\"reset\",value:function(t){this.zone=P.initValue(t,new nt)}},{key:\"initialize\",value:function(t){this.zone.getPosition(),t.p.x=this.zone.vector.x,t.p.y=this.zone.vector.y}}]),ht);function ht(t){s(this,ht);var e=l(this,(ht.__proto__||Object.getPrototypeOf(ht)).call(this));return e.zone=P.initValue(t,new nt),e.name=\"Position\",e}var lt=(r(ut,$),t(ut,[{key:\"reset\",value:function(t,e,i){this.rPan=n.setSpanValue(t),this.thaPan=n.setSpanValue(e),this.type=P.initValue(i,\"vector\")}},{key:\"normalizeVelocity\",value:function(t){return t*V.MEASURE}},{key:\"initialize\",value:function(t){if(\"p\"===this.type||\"P\"===this.type||\"polar\"===this.type){var e=new q(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*h.PI_180);t.v.x=e.getX(),t.v.y=e.getY()}else t.v.x=this.normalizeVelocity(this.rPan.getValue()),t.v.y=this.normalizeVelocity(this.thaPan.getValue())}}]),ut);function ut(t,e,i){s(this,ut);var a=l(this,(ut.__proto__||Object.getPrototypeOf(ut)).call(this));return a.rPan=n.setSpanValue(t),a.thaPan=n.setSpanValue(e),a.type=P.initValue(i,\"vector\"),a.name=\"Velocity\",a}var ct=(r(dt,$),t(dt,[{key:\"initialize\",value:function(t){t.mass=this.massPan.getValue()}}]),dt);function dt(t,e,i){s(this,dt);var a=l(this,(dt.__proto__||Object.getPrototypeOf(dt)).call(this));return a.massPan=n.setSpanValue(t,e,i),a.name=\"Mass\",a}var yt=(r(pt,$),t(pt,[{key:\"reset\",value:function(t,e,i){this.radius=n.setSpanValue(t,e,i)}},{key:\"initialize\",value:function(t){t.radius=this.radius.getValue(),t.data.oldRadius=t.radius}}]),pt);function pt(t,e,i){s(this,pt);var a=l(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this));return a.radius=n.setSpanValue(t,e,i),a.name=\"Radius\",a}var ft=(r(vt,$),t(vt,[{key:\"initialize\",value:function(t){var e=this.image.getValue();t.body=\"string\"==typeof e?{width:this.w,height:this.h,src:e,isInner:!0,inner:!0}:e}},{key:\"setSpanValue\",value:function(t){return t instanceof Y?t:new Y(t)}}]),vt);function vt(t,e,i){s(this,vt);var a=l(this,(vt.__proto__||Object.getPrototypeOf(vt)).call(this));return a.image=a.setSpanValue(t),a.w=P.initValue(e,20),a.h=P.initValue(i,a.w),a.name=\"Body\",a}var gt=(t(mt,[{key:\"reset\",value:function(t,e){this.life=P.initValue(t,1/0),this.easing=U.getEasing(e)}},{key:\"normalizeForce\",value:function(t){return t.multiplyScalar(V.MEASURE)}},{key:\"normalizeValue\",value:function(t){return t*V.MEASURE}},{key:\"initialize\",value:function(){}},{key:\"calculate\",value:function(t,e){if(this.age+=e,this.age>=this.life||this.dead)this.energy=0,this.dead=!0,this.destroy();else{var i=this.easing(t.age/t.life);this.energy=Math.max(1-i,0)}}},{key:\"destroy\",value:function(){for(var t=this.parents.length;t--;)this.parents[t].removeBehaviour(this);this.parents.length=0}}]),mt);function mt(t,e){s(this,mt),this.life=P.initValue(t,1/0),this.easing=U.getEasing(e),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id=\"Behaviour_\"+mt.id++,this.name=\"Behaviour\"}gt.id=0;var bt=(r(_t,gt),t(_t,[{key:\"reset\",value:function(t,e,i,a){this.force=this.normalizeForce(new F(t,e)),i&&o(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),\"reset\",this).call(this,i,a)}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),t.a.add(this.force)}}]),_t);function _t(t,e,i,a){s(this,_t);var r=l(this,(_t.__proto__||Object.getPrototypeOf(_t)).call(this,i,a));return r.force=r.normalizeForce(new F(t,e)),r.name=\"Force\",r}var xt=(r(kt,gt),t(kt,[{key:\"reset\",value:function(t,e,i,a,r){this.targetPosition=P.initValue(t,new F),this.radius=P.initValue(i,1e3),this.force=P.initValue(this.normalizeValue(e),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new F,this.lengthSq=0,a&&o(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),\"reset\",this).call(this,a,r)}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(t.p),this.lengthSq=this.attractionForce.lengthSq(),4e-5<this.lengthSq&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),t.a.add(this.attractionForce))}}]),kt);function kt(t,e,i,a,r){s(this,kt);var n=l(this,(kt.__proto__||Object.getPrototypeOf(kt)).call(this,a,r));return n.targetPosition=P.initValue(t,new F),n.radius=P.initValue(i,1e3),n.force=P.initValue(n.normalizeValue(e),100),n.radiusSq=n.radius*n.radius,n.attractionForce=new F,n.lengthSq=0,n.name=\"Attraction\",n}var Pt=(r(Et,gt),t(Et,[{key:\"reset\",value:function(t,e,i,a,r){this.panFoce=new F(t,e),this.panFoce=this.normalizeForce(this.panFoce),this.delay=i,a&&o(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),\"reset\",this).call(this,a,r)}},{key:\"initialize\",value:function(t){t.data.time=0}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),t.data.time+=e,t.data.time>=this.delay&&(t.a.addXY(h.randomAToB(-this.panFoce.x,this.panFoce.x),h.randomAToB(-this.panFoce.y,this.panFoce.y)),t.data.time=0)}}]),Et);function Et(t,e,i,a,r){s(this,Et);var n=l(this,(Et.__proto__||Object.getPrototypeOf(Et)).call(this,a,r));return n.reset(t,e,i),n.time=0,n.name=\"RandomDrift\",n}var At=(r(Tt,bt),t(Tt,[{key:\"reset\",value:function(t,e,i){o(Tt.prototype.__proto__||Object.getPrototypeOf(Tt.prototype),\"reset\",this).call(this,0,t,e,i)}}]),Tt);function Tt(t,e,i){s(this,Tt);var a=l(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).call(this,0,t,e,i));return a.name=\"Gravity\",a}var Rt=(r(Ot,gt),t(Ot,[{key:\"reset\",value:function(t,e,i,a,r){this.emitter=P.initValue(t,null),this.mass=P.initValue(e,!0),this.callback=P.initValue(i,null),this.collisionPool=[],this.delta=new F,a&&o(Ot.prototype.__proto__||Object.getPrototypeOf(Ot.prototype),\"reset\",this).call(this,a,r)}},{key:\"applyBehaviour\",value:function(t,e,i){var a=this.emitter?this.emitter.particles.slice(i):this.pool.slice(i),r=a.length,n=void 0,s=void 0,o=void 0,h=void 0,l=void 0,u=void 0,c=void 0;for(c=0;c<r;c++)if((n=a[c])!==t){this.delta.copy(n.p),this.delta.sub(t.p),s=this.delta.lengthSq();var d=t.radius+n.radius;s<=d*d&&(o=d-Math.sqrt(s),o+=.5,h=t.mass+n.mass,l=this.mass?n.mass/h:.5,u=this.mass?t.mass/h:.5,t.p.add(this.delta.clone().normalize().multiplyScalar(o*-l)),n.p.add(this.delta.normalize().multiplyScalar(o*u)),this.callback&&this.callback(t,n))}}}]),Ot);function Ot(t,e,i,a,r){s(this,Ot);var n=l(this,(Ot.__proto__||Object.getPrototypeOf(Ot)).call(this,a,r));return n.reset(t,e,i),n.name=\"Collision\",n}var wt=(r(Ct,gt),t(Ct,[{key:\"reset\",value:function(t,e,i,a){this.zone=t,this.zone.crossType=P.initValue(e,\"dead\"),i&&o(Ct.prototype.__proto__||Object.getPrototypeOf(Ct.prototype),\"reset\",this).call(this,i,a)}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),this.zone.crossing(t)}}]),Ct);function Ct(t,e,i,a){s(this,Ct);var r=l(this,(Ct.__proto__||Object.getPrototypeOf(Ct)).call(this,i,a));return r.reset(t,e),r.name=\"CrossZone\",r}var St=(r(It,gt),t(It,[{key:\"reset\",value:function(t,e,i,a){this.same=null==e,this.a=n.setSpanValue(P.initValue(t,1)),this.b=n.setSpanValue(e),i&&o(It.prototype.__proto__||Object.getPrototypeOf(It.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(t){t.data.alphaA=this.a.getValue(),this.same?t.data.alphaB=t.data.alphaA:t.data.alphaB=this.b.getValue()}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),t.alpha=t.data.alphaB+(t.data.alphaA-t.data.alphaB)*this.energy,t.alpha<.001&&(t.alpha=0)}}]),It);function It(t,e,i,a){s(this,It);var r=l(this,(It.__proto__||Object.getPrototypeOf(It)).call(this,i,a));return r.reset(t,e),r.name=\"Alpha\",r}var Dt=(r(Vt,gt),t(Vt,[{key:\"reset\",value:function(t,e,i,a){this.same=null==e,this.a=n.setSpanValue(P.initValue(t,1)),this.b=n.setSpanValue(e),i&&o(Vt.prototype.__proto__||Object.getPrototypeOf(Vt.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(t){t.data.scaleA=this.a.getValue(),t.data.oldRadius=t.radius,t.data.scaleB=this.same?t.data.scaleA:this.b.getValue()}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),t.scale=t.data.scaleB+(t.data.scaleA-t.data.scaleB)*this.energy,t.scale<1e-4&&(t.scale=0),t.radius=t.data.oldRadius*t.scale}}]),Vt);function Vt(t,e,i,a){s(this,Vt);var r=l(this,(Vt.__proto__||Object.getPrototypeOf(Vt)).call(this,i,a));return r.reset(t,e),r.name=\"Scale\",r}var Mt=(r(Bt,gt),t(Bt,[{key:\"reset\",value:function(t,e,i,a,r){this.same=null==e,this.a=n.setSpanValue(P.initValue(t,\"Velocity\")),this.b=n.setSpanValue(P.initValue(e,0)),this.style=P.initValue(i,\"to\"),a&&o(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),\"reset\",this).call(this,a,r)}},{key:\"initialize\",value:function(t){t.rotation=this.a.getValue(),t.data.rotationA=this.a.getValue(),this.same||(t.data.rotationB=this.b.getValue())}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i),this.same?\"V\"!==this.a.a&&\"Velocity\"!==this.a.a&&\"v\"!==this.a.a||(t.rotation=t.getDirection()):\"to\"===this.style||\"TO\"===this.style||\"_\"===this.style?t.rotation+=t.data.rotationB+(t.data.rotationA-t.data.rotationB)*this.energy:t.rotation+=t.data.rotationB}}]),Bt);function Bt(t,e,i,a,r){s(this,Bt);var n=l(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).call(this,a,r));return n.reset(t,e,i),n.name=\"Rotate\",n}var Lt=(r(Ut,gt),t(Ut,[{key:\"reset\",value:function(t,e,i,a){this.a=Y.createArraySpan(t),this.b=Y.createArraySpan(e),i&&o(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(t){t.color=this.a.getValue(),t.data.colorA=H.hexToRgb(t.color),this.b&&(t.data.colorB=H.hexToRgb(this.b.getValue()))}},{key:\"applyBehaviour\",value:function(t,e,i){this.b?(this.calculate(t,e,i),t.rgb.r=t.data.colorB.r+(t.data.colorA.r-t.data.colorB.r)*this.energy,t.rgb.g=t.data.colorB.g+(t.data.colorA.g-t.data.colorB.g)*this.energy,t.rgb.b=t.data.colorB.b+(t.data.colorA.b-t.data.colorB.b)*this.energy,t.rgb.r=Math.floor(t.rgb.r),t.rgb.g=Math.floor(t.rgb.g),t.rgb.b=Math.floor(t.rgb.b)):(t.rgb.r=t.data.colorA.r,t.rgb.g=t.data.colorA.g,t.rgb.b=t.data.colorA.b)}}]),Ut);function Ut(t,e,i,a){s(this,Ut);var r=l(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).call(this,i,a));return r.reset(t,e),r.name=\"Color\",r}var Ft=\"changing\",zt=(r(jt,gt),t(jt,[{key:\"setAngleAndForce\",value:function(t,e){this.force=Ft,this.angle=h.PI/2,\"right\"===t?this.angle=h.PI/2:\"left\"===t?this.angle=-h.PI/2:\"random\"===t?this.angle=\"random\":t instanceof n?(this.angle=\"span\",this.span=t):t&&(this.angle=t),\"changing\"===String(e).toLowerCase()||\"chang\"===String(e).toLowerCase()||\"auto\"===String(e).toLowerCase()?this.force=Ft:e&&(this.force=e)}},{key:\"reset\",value:function(t,e,i,a){this.angle=h.PI/2,this.setAngleAndForce(t,e),i&&o(jt.prototype.__proto__||Object.getPrototypeOf(jt.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(t){\"random\"===this.angle?t.data.cangle=h.randomAToB(-h.PI,h.PI):\"span\"===this.angle&&(t.data.cangle=this.span.getValue()),t.data.cyclone=new F(0,0)}},{key:\"applyBehaviour\",value:function(t,e,i){this.calculate(t,e,i);var a=void 0,r=t.v.getGradient();\"random\"===this.angle||\"span\"===this.angle?r+=t.data.cangle:r+=this.angle,a=this.force===Ft?t.v.length()/100:this.force,t.data.cyclone.x=a*Math.cos(r),t.data.cyclone.y=a*Math.sin(r),t.data.cyclone=this.normalizeForce(t.data.cyclone),t.a.add(t.data.cyclone)}}]),jt);function jt(t,e,i,a){s(this,jt);var r=l(this,(jt.__proto__||Object.getPrototypeOf(jt)).call(this,i,a));return r.setAngleAndForce(t,e),r.name=\"Cyclone\",r}var Nt=(r(Ht,xt),t(Ht,[{key:\"reset\",value:function(t,e,i,a,r){o(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),\"reset\",this).call(this,t,e,i,a,r),this.force*=-1}}]),Ht);function Ht(t,e,i,a,r){s(this,Ht);var n=l(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,t,e,i,a,r));return n.force*=-1,n.name=\"Repulsion\",n}var qt=(r(Gt,gt),t(Gt,[{key:\"reset\",value:function(t,e,i,a){this.distanceVec=new F,this.centerPoint=P.initValue(t,new F),this.force=P.initValue(this.normalizeValue(e),100),i&&o(Gt.prototype.__proto__||Object.getPrototypeOf(Gt.prototype),\"reset\",this).call(this,i,a)}},{key:\"initialize\",value:function(){}},{key:\"applyBehaviour\",value:function(t,e){this.distanceVec.set(this.centerPoint.x-t.p.x,this.centerPoint.y-t.p.y);var i=this.distanceVec.lengthSq();if(0!==i){var a=this.distanceVec.length(),r=this.force*e/(i*a);t.v.x+=r*this.distanceVec.x,t.v.y+=r*this.distanceVec.y}}}]),Gt);function Gt(t,e,i,a){s(this,Gt);var r=l(this,(Gt.__proto__||Object.getPrototypeOf(Gt)).call(this,i,a));return r.distanceVec=new F,r.centerPoint=P.initValue(t,new F),r.force=P.initValue(r.normalizeValue(e),100),r.name=\"GravityWell\",r}var Xt={initialize:function(t,e,i){var a=i.length,r=void 0;for(r=0;r<a;r++)i[r]instanceof $?i[r].init(t,e):this.init(t,e,i[r]);this.bindEmitter(t,e)},init:function(t,e,i){P.setProp(e,i),P.setVectorVal(e,i)},bindEmitter:function(t,e){t.bindEmitter&&(e.p.add(t.p),e.v.add(t.v),e.a.add(t.a),e.v.rotate(h.degreeTransform(t.rotation)))}},Yt=(r(Wt,j),t(Wt,[{key:\"emit\",value:function(t,e){this.stoped=!1,this.emitTime=0,this.totalTime=P.initValue(t,1/0),!0===e||\"life\"===e||\"destroy\"===e?this.life=\"once\"===t?1:this.totalTime:isNaN(e)||(this.life=e),this.rate.init()}},{key:\"stop\",value:function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0}},{key:\"preEmit\",value:function(t){var e=this.stoped,i=this.emitTime,a=this.totalTime;for(this.stoped=!1,this.emitTime=0,this.totalTime=t,this.rate.init();.0167<t;)t-=.0167,this.update(.0167);this.stoped=e,this.emitTime=i+Math.max(t,0),this.totalTime=a}},{key:\"removeAllParticles\",value:function(){for(var t=this.particles.length;t--;)this.particles[t].dead=!0}},{key:\"addSelfInitialize\",value:function(t){t.init?t.init(this):this.initAll()}},{key:\"addInitialize\",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var a=e.length;a--;)this.initializes.push(e[a])}},{key:\"removeInitialize\",value:function(t){var e=this.initializes.indexOf(t);-1<e&&this.initializes.splice(e,1)}},{key:\"removeAllInitializers\",value:function(){P.emptyArray(this.initializes)}},{key:\"addBehaviour\",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var a=arguments.length;a--;){var r=e[a];this.behaviours.push(r),r.parents&&r.parents.push(this)}}},{key:\"removeBehaviour\",value:function(t){var e=this.behaviours.indexOf(t);return this.behaviours.splice(e,1),t.parents&&(e=t.parents.indexOf(t),t.parents.splice(e,1)),e}},{key:\"removeAllBehaviours\",value:function(){P.emptyArray(this.behaviours)}},{key:\"update\",value:function(t){this.age+=t,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(t),this.integrate(t)}},{key:\"integrate\",value:function(t){if(this.parent){var e=1-this.damping;this.parent.integrator.calculate(this,t,e);var i=void 0,a=void 0;for(i=this.particles.length-1;0<=i;i--)(a=this.particles[i]).update(t,i),this.parent.integrator.calculate(a,t,e),this.dispatch(\"PARTICLE_UPDATE\",a),a.dead&&(this.dispatch(\"PARTICLE_DEAD\",a),this.parent.pool.expire(a),this.particles.splice(i,1))}}},{key:\"dispatch\",value:function(t,e){this.parent&&this.parent.dispatchEvent(t,e),this.bindEvent&&this.dispatchEvent(t,e)}},{key:\"emitting\",value:function(t){if(\"once\"===this.totalTime){var e=void 0,i=this.rate.getValue(99999);for(0<i&&(this.emitSpeed=i),e=0;e<i;e++)this.createParticle();this.totalTime=\"none\"}else if(this.emitTime+=t,this.emitTime<this.totalTime){var a=this.rate.getValue(t),r=void 0;for(0<a&&(this.emitSpeed=a),r=0;r<a;r++)this.createParticle()}}},{key:\"createParticle\",value:function(t,e){var i=this.parent.pool.get(j);return this.setupParticle(i,t,e),this.dispatch(\"PARTICLE_CREATED\",i),i}},{key:\"setupParticle\",value:function(t,e,i){var a=this.initializes,r=this.behaviours;e&&(a=P.toArray(e)),i&&(r=P.toArray(i)),t.reset(),Xt.initialize(this,t,a),t.addBehaviours(r),(t.parent=this).particles.push(t)}},{key:\"remove\",value:function(){this.stop(),P.destroyAll(this.particles)}},{key:\"destroy\",value:function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this)}}]),Wt);function Wt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,Wt);var e=l(this,(Wt.__proto__||Object.getPrototypeOf(Wt)).call(this,t));return e.particles=[],e.behaviours=[],e.initializes=[],e.emitTime=0,e.emitSpeed=0,e.totalTime=-1,e.damping=.006,e.bindEmitter=!0,e.rate=new K(1,.1),e.name=\"Emitter\",e.id=A.id(e.name),e}C.bind(Yt);var Zt=(r(Qt,Yt),t(Qt,[{key:\"addSelfBehaviour\",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var a=void 0,r=e.length;for(a=0;a<r;a++){var n=e[a];this.selfBehaviours.push(n),n.initialize(this)}}},{key:\"removeSelfBehaviour\",value:function(t){var e=this.selfBehaviours.indexOf(t);-1<e&&this.selfBehaviours.splice(e,1)}},{key:\"update\",value:function(t){if(o(Qt.prototype.__proto__||Object.getPrototypeOf(Qt.prototype),\"update\",this).call(this,t),!this.sleep){var e=this.selfBehaviours.length,i=void 0;for(i=0;i<e;i++)this.selfBehaviours[i].applyBehaviour(this,t,i)}}}]),Qt);function Qt(t){s(this,Qt);var e=l(this,(Qt.__proto__||Object.getPrototypeOf(Qt)).call(this,t));return e.selfBehaviours=[],e}var Kt=(r(Jt,Yt),t(Jt,[{key:\"initEventHandler\",value:function(){var e=this;this.mousemoveHandler=function(t){return e.mousemove.call(e,t)},this.mousedownHandler=function(t){return e.mousedown.call(e,t)},this.mouseupHandler=function(t){return e.mouseup.call(e,t)},this.mouseTarget.addEventListener(\"mousemove\",this.mousemoveHandler,!1)}},{key:\"emit\",value:function(){this._allowEmitting=!0}},{key:\"stop\",value:function(){this._allowEmitting=!1}},{key:\"mousemove\",value:function(t){t.layerX||0===t.layerX?(this.p.x+=(t.layerX-this.p.x)*this.ease,this.p.y+=(t.layerY-this.p.y)*this.ease):!t.offsetX&&0!==t.offsetX||(this.p.x+=(t.offsetX-this.p.x)*this.ease,this.p.y+=(t.offsetY-this.p.y)*this.ease),this._allowEmitting&&o(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),\"emit\",this).call(this,\"once\")}},{key:\"destroy\",value:function(){o(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),\"destroy\",this).call(this),this.mouseTarget.removeEventListener(\"mousemove\",this.mousemoveHandler,!1)}}]),Jt);function Jt(t,e,i){s(this,Jt);var a=l(this,(Jt.__proto__||Object.getPrototypeOf(Jt)).call(this,i));return a.mouseTarget=P.initValue(t,window),a.ease=P.initValue(e,.7),a._allowEmitting=!1,a.initEventHandler(),a}var $t=(t(te,[{key:\"setStroke\",value:function(t,e){var i=0<arguments.length&&void 0!==t?t:\"#000000\",a=1<arguments.length&&void 0!==e?e:1;this.stroke={color:i,thinkness:a}}},{key:\"initHandler\",value:function(){var e=this;this._protonUpdateHandler=function(){e.onProtonUpdate.call(e)},this._protonUpdateAfterHandler=function(){e.onProtonUpdateAfter.call(e)},this._emitterAddedHandler=function(t){e.onEmitterAdded.call(e,t)},this._emitterRemovedHandler=function(t){e.onEmitterRemoved.call(e,t)},this._particleCreatedHandler=function(t){e.onParticleCreated.call(e,t)},this._particleUpdateHandler=function(t){e.onParticleUpdate.call(e,t)},this._particleDeadHandler=function(t){e.onParticleDead.call(e,t)}}},{key:\"init\",value:function(t){(this.parent=t).addEventListener(\"PROTON_UPDATE\",this._protonUpdateHandler),t.addEventListener(\"PROTON_UPDATE_AFTER\",this._protonUpdateAfterHandler),t.addEventListener(\"EMITTER_ADDED\",this._emitterAddedHandler),t.addEventListener(\"EMITTER_REMOVED\",this._emitterRemovedHandler),t.addEventListener(\"PARTICLE_CREATED\",this._particleCreatedHandler),t.addEventListener(\"PARTICLE_UPDATE\",this._particleUpdateHandler),t.addEventListener(\"PARTICLE_DEAD\",this._particleDeadHandler)}},{key:\"resize\",value:function(){}},{key:\"destroy\",value:function(){this.remove()}},{key:\"remove\",value:function(){this.parent.removeEventListener(\"PROTON_UPDATE\",this._protonUpdateHandler),this.parent.removeEventListener(\"PROTON_UPDATE_AFTER\",this._protonUpdateAfterHandler),this.parent.removeEventListener(\"EMITTER_ADDED\",this._emitterAddedHandler),this.parent.removeEventListener(\"EMITTER_REMOVED\",this._emitterRemovedHandler),this.parent.removeEventListener(\"PARTICLE_CREATED\",this._particleCreatedHandler),this.parent.removeEventListener(\"PARTICLE_UPDATE\",this._particleUpdateHandler),this.parent.removeEventListener(\"PARTICLE_DEAD\",this._particleDeadHandler),this.parent=null}},{key:\"onProtonUpdate\",value:function(){}},{key:\"onProtonUpdateAfter\",value:function(){}},{key:\"onEmitterAdded\",value:function(){}},{key:\"onEmitterRemoved\",value:function(){}},{key:\"onParticleCreated\",value:function(){}},{key:\"onParticleUpdate\",value:function(){}},{key:\"onParticleDead\",value:function(){}}]),te);function te(t,e){s(this,te),this.pool=new T,this.element=t,this.stroke=e,this.circleConf={isCircle:!0},this.initHandler(),this.name=\"BaseRenderer\"}var ee=(r(ie,$t),t(ie,[{key:\"resize\",value:function(t,e){this.element.width=t,this.element.height=e}},{key:\"onProtonUpdate\",value:function(){this.context.clearRect(0,0,this.element.width,this.element.height)}},{key:\"onParticleCreated\",value:function(t){t.body?x(t.body,this.addImg2Body,t):t.color=t.color||\"#ff0000\"}},{key:\"onParticleUpdate\",value:function(t){t.body?t.body instanceof Image&&this.drawImage(t):this.drawCircle(t)}},{key:\"onParticleDead\",value:function(t){t.body=null}},{key:\"addImg2Body\",value:function(t,e){e.body=t}},{key:\"drawImage\",value:function(t){var e=t.body.width*t.scale|0,i=t.body.height*t.scale|0,a=t.p.x-e/2,r=t.p.y-i/2;if(t.color){t.data.buffer||(t.data.buffer=this.createBuffer(t.body));var n=t.data.buffer.getContext(\"2d\");n.clearRect(0,0,t.data.buffer.width,t.data.buffer.height),n.globalAlpha=t.alpha,n.drawImage(t.body,0,0),n.globalCompositeOperation=\"source-atop\",n.fillStyle=H.rgbToHex(t.rgb),n.fillRect(0,0,t.data.buffer.width,t.data.buffer.height),n.globalCompositeOperation=\"source-over\",n.globalAlpha=1,this.context.drawImage(t.data.buffer,0,0,t.data.buffer.width,t.data.buffer.height,a,r,e,i)}else this.context.save(),this.context.globalAlpha=t.alpha,this.context.translate(t.p.x,t.p.y),this.context.rotate(h.degreeTransform(t.rotation)),this.context.translate(-t.p.x,-t.p.y),this.context.drawImage(t.body,0,0,t.body.width,t.body.height,a,r,e,i),this.context.globalAlpha=1,this.context.restore()}},{key:\"drawCircle\",value:function(t){t.rgb?this.context.fillStyle=\"rgba(\"+t.rgb.r+\",\"+t.rgb.g+\",\"+t.rgb.b+\",\"+t.alpha+\")\":this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()}},{key:\"createBuffer\",value:function(t){if(t instanceof Image){var e=t.width+\"_\"+t.height,i=this.bufferCache[e];return i||((i=document.createElement(\"canvas\")).width=t.width,i.height=t.height,this.bufferCache[e]=i),i}}}]),ie);function ie(t){s(this,ie);var e=l(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,t));return e.stroke=null,e.context=e.element.getContext(\"2d\"),e.bufferCache={},e.name=\"CanvasRenderer\",e}var ae=(r(re,$t),t(re,[{key:\"onParticleCreated\",value:function(t){t.body?x(t.body,this.addImg2Body,t):(t.body=this.pool.get(this.circleConf,t),this.element.appendChild(t.body))}},{key:\"onParticleUpdate\",value:function(t){this.bodyReady(t)&&(this.transform3d?v.transform3d(t.body,t.p.x,t.p.y,t.scale,t.rotation):v.transform(t.body,t.p.x,t.p.y,t.scale,t.rotation),t.body.style.opacity=t.alpha,t.body.isCircle&&(t.body.style.backgroundColor=t.color||\"#ff0000\"))}},{key:\"onParticleDead\",value:function(t){this.bodyReady(t)&&(this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null)}},{key:\"bodyReady\",value:function(t){return\"object\"===i(t.body)&&t.body&&!t.body.isInner}},{key:\"addImg2Body\",value:function(t,e){e.dead||(e.body=this.pool.get(t,e),v.resize(e.body,t.width,t.height),this.element.appendChild(e.body))}},{key:\"createBody\",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t,e)}},{key:\"createCircle\",value:function(t){var e=v.createDiv(t.id+\"_dom\",2*t.radius,2*t.radius);return e.style.borderRadius=t.radius+\"px\",this.stroke&&(e.style.borderColor=this.stroke.color,e.style.borderWidth=this.stroke.thinkness+\"px\"),e.isCircle=!0,e}},{key:\"createSprite\",value:function(t,e){var i=\"string\"==typeof t?t:t.src,a=v.createDiv(e.id+\"_dom\",t.width,t.height);return a.style.backgroundImage=\"url(\"+i+\")\",a}}]),re);function re(t){s(this,re);var i=l(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,t));return i.stroke=null,i.pool.create=function(t,e){return i.createBody(t,e)},i.addImg2Body=i.addImg2Body.bind(i),i.transform3d=!1,i.name=\"DomRenderer\",i}var ne=(r(se,$t),t(se,[{key:\"onParticleCreated\",value:function(t){t.body?this.createSprite(t):this.createCircle(t),this.element.addChild(t.body)}},{key:\"onParticleUpdate\",value:function(t){t.body&&(t.body.x=t.p.x,t.body.y=t.p.y,t.body.alpha=t.alpha,t.body.scaleX=t.body.scaleY=t.scale,t.body.rotation=t.rotation)}},{key:\"onParticleDead\",value:function(t){t.body&&(t.body.parent&&t.body.parent.removeChild(t.body),this.pool.expire(t.body),t.body=null),t.graphics&&this.pool.expire(t.graphics)}},{key:\"createSprite\",value:function(t){t.body=this.pool.get(t.body),t.body.parent||t.body.image&&(t.body.regX=t.body.image.width/2,t.body.regY=t.body.image.height/2)}},{key:\"createCircle\",value:function(t){var e=this.pool.get(createjs.Graphics);this.stroke&&(this.stroke instanceof String?e.beginStroke(this.stroke):e.beginStroke(\"#000000\")),e.beginFill(t.color||\"#ff0000\").drawCircle(0,0,t.radius);var i=this.pool.get(createjs.Shape,[e]);t.body=i,t.graphics=e}}]),se);function se(t,e){s(this,se);var i=l(this,(se.__proto__||Object.getPrototypeOf(se)).call(this,t));return i.stroke=e,i.name=\"EaselRenderer\",i}var oe=(r(he,$t),t(he,[{key:\"resize\",value:function(t,e){this.element.width=t,this.element.height=e}},{key:\"createImageData\",value:function(t){this.rectangle=t||new Z(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:\"onProtonUpdate\",value:function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)}},{key:\"onProtonUpdateAfter\",value:function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)}},{key:\"onParticleCreated\",value:function(){}},{key:\"onParticleUpdate\",value:function(t){this.imageData&&this.setPixel(this.imageData,Math.floor(t.p.x-this.rectangle.x),Math.floor(t.p.y-this.rectangle.y),t)}},{key:\"setPixel\",value:function(t,e,i,a){var r=a.rgb;if(!(e<0||e>this.element.width||i<0||i>this.elementwidth)){var n=4*((i>>0)*t.width+(e>>0));t.data[n]=r.r,t.data[1+n]=r.g,t.data[2+n]=r.b,t.data[3+n]=255*a.alpha}}},{key:\"onParticleDead\",value:function(){}}]),he);function he(t,e){s(this,he);var i=l(this,(he.__proto__||Object.getPrototypeOf(he)).call(this,t));return i.context=i.element.getContext(\"2d\"),i.imageData=null,i.rectangle=null,i.rectangle=e,i.createImageData(e),i.name=\"PixelRenderer\",i}var le=void 0,ue=(r(ce,$t),t(ce,[{key:\"setPIXI\",value:function(t){try{le=t||{Sprite:{}},this.createFromImage=le.Sprite.from||le.Sprite.fromImage}catch(t){}}},{key:\"onProtonUpdate\",value:function(){}},{key:\"onParticleCreated\",value:function(t){t.body?t.body=this.pool.get(t.body,t):t.body=this.pool.get(this.circleConf,t),this.blendMode&&(t.body.blendMode=this.blendMode),this.element.addChild(t.body)}},{key:\"onParticleUpdate\",value:function(t){this.transform(t,t.body),!0!==this.setColor&&!0!==this.color||(t.body.tint=H.getHex16FromParticle(t))}},{key:\"onParticleDead\",value:function(t){this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null}},{key:\"destroy\",value:function(t){o(ce.prototype.__proto__||Object.getPrototypeOf(ce.prototype),\"destroy\",this).call(this),this.pool.destroy();for(var e=t.length;e--;){var i=t[e];i.body&&this.element.removeChild(i.body)}}},{key:\"transform\",value:function(t,e){e.x=t.p.x,e.y=t.p.y,e.alpha=t.alpha,e.scale.x=t.scale,e.scale.y=t.scale,e.rotation=t.rotation*h.PI_180}},{key:\"createBody\",value:function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t)}},{key:\"createSprite\",value:function(t){var e=t.isInner?this.createFromImage(t.src):new le.Sprite(t);return e.anchor.x=.5,e.anchor.y=.5,e}},{key:\"createCircle\",value:function(t){var e=new le.Graphics;if(this.stroke){var i=this.stroke instanceof String?this.stroke:0;e.beginStroke(i)}return e.beginFill(t.color||36077),e.drawCircle(0,0,t.radius),e.endFill(),e}}]),ce);function ce(t,e){s(this,ce);var i=l(this,(ce.__proto__||Object.getPrototypeOf(ce)).call(this,t));return i.stroke=e,i.color=!1,i.setColor=!1,i.blendMode=null,i.pool.create=function(t,e){return i.createBody(t,e)},i.setPIXI(window.PIXI),i.name=\"PixiRenderer\",i}var de=(t(ye,[{key:\"set\",value:function(t,e){0===e?X.set(t,this.mats[0]):X.multiply(this.mats[e-1],t,this.mats[e]),this.size=Math.max(this.size,e+1)}},{key:\"push\",value:function(t){0===this.size?X.set(t,this.mats[0]):X.multiply(this.mats[this.size-1],t,this.mats[this.size]),this.size++}},{key:\"pop\",value:function(){0<this.size&&this.size--}},{key:\"top\",value:function(){return this.mats[this.size-1]}}]),ye);function ye(){s(this,ye),this.mats=[];for(var t=this.size=0;t<20;t++)this.mats.push(X.create([0,0,0,0,0,0,0,0,0]))}var pe=(r(fe,$t),t(fe,[{key:\"init\",value:function(t){o(fe.prototype.__proto__||Object.getPrototypeOf(fe.prototype),\"init\",this).call(this,t),this.resize(this.element.width,this.element.height)}},{key:\"resize\",value:function(t,e){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/t,this.smat[4]=1/e,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,t,e),this.element.width=t,this.element.height=e}},{key:\"setMaxRadius\",value:function(t){this.circleCanvasURL=this.createCircle(t)}},{key:\"getVertexShader\",value:function(){return[\"uniform vec2 viewport;\",\"attribute vec2 aVertexPosition;\",\"attribute vec2 aTextureCoord;\",\"uniform mat3 tMat;\",\"varying vec2 vTextureCoord;\",\"varying float alpha;\",\"void main() {\",\"vec3 v = tMat * vec3(aVertexPosition, 1.0);\",\"gl_Position = vec4(v.x, v.y, 0, 1);\",\"vTextureCoord = aTextureCoord;\",\"alpha = tMat[0][2];\",\"}\"].join(\"\\n\")}},{key:\"getFragmentShader\",value:function(){return[\"precision mediump float;\",\"varying vec2 vTextureCoord;\",\"varying float alpha;\",\"uniform sampler2D uSampler;\",\"uniform vec4 color;\",\"uniform bool useTexture;\",\"uniform vec3 uColor;\",\"void main() {\",\"vec4 textureColor = texture2D(uSampler, vTextureCoord);\",\"gl_FragColor = textureColor * vec4(uColor, 1.0);\",\"gl_FragColor.w *= alpha;\",\"}\"].join(\"\\n\")}},{key:\"initVar\",value:function(){this.mstack=new de,this.umat=X.create([2,0,1,0,-2,0,-1,1,1]),this.smat=X.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}}},{key:\"blendEquation\",value:function(t){this.gl.blendEquation(this.gl[t])}},{key:\"blendFunc\",value:function(t,e){this.gl.blendFunc(this.gl[t],this.gl[e])}},{key:\"getShader\",value:function(t,e,i){var a=i?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER);return t.shaderSource(a,e),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS)?a:(alert(t.getShaderInfoLog(a)),null)}},{key:\"initShaders\",value:function(){var t=this.getShader(this.gl,this.getFragmentShader(),!0),e=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,e),this.gl.attachShader(this.sprogram,t),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert(\"Could not initialise shaders\"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,\"aVertexPosition\"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,\"aTextureCoord\"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,\"tMat\"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,\"uSampler\"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,\"useTexture\"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,\"uColor\"),this.gl.uniform1i(this.sprogram.useTex,1)}},{key:\"initBuffers\",value:function(){var t=void 0;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);var e=void 0,i=[];for(e=0;e<100;e++)i.push(e);for(t=new Uint16Array(i),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW),i=[],e=0;e<100;e++)i.push(e,e+1,e+2);t=new Uint16Array(i),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW)}},{key:\"createCircle\",value:function(t){this.circleCanvasRadius=c(P.initValue(t,32));var e=v.createCanvas(\"circle_canvas\",2*this.circleCanvasRadius,2*this.circleCanvasRadius),i=e.getContext(\"2d\");return i.beginPath(),i.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),i.closePath(),i.fillStyle=\"#FFF\",i.fill(),e.toDataURL()}},{key:\"drawImg2Canvas\",value:function(t){var e=t.body.width,i=t.body.height,a=c(t.body.width),r=c(t.body.height),n=t.body.width/a,s=t.body.height/r;this.texturebuffers[t.data.src]||(this.texturebuffers[t.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),t.data.texture=this.texturebuffers[t.data.src][0],t.data.vcBuffer=this.texturebuffers[t.data.src][1],t.data.tcBuffer=this.texturebuffers[t.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,s,s,s]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,i,e,i]),this.gl.STATIC_DRAW);var o=t.data.canvas.getContext(\"2d\").getImageData(0,0,a,r);this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,o),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),t.data.textureLoaded=!0,t.data.textureWidth=e,t.data.textureHeight=i}},{key:\"onProtonUpdate\",value:function(){}},{key:\"onParticleCreated\",value:function(t){t.data.textureLoaded=!1,t.data.tmat=X.create(),t.data.tmat[8]=1,t.data.imat=X.create(),t.data.imat[8]=1,t.body?x(t.body,this.addImg2Body,t):(x(this.circleCanvasURL,this.addImg2Body,t),t.data.oldScale=t.radius/this.circleCanvasRadius)}},{key:\"addImg2Body\",value:function(t,e){e.dead||(e.body=t,e.data.src=t.src,e.data.canvas=k(t),e.data.oldScale=1,this.drawImg2Canvas(e))}},{key:\"onParticleUpdate\",value:function(t){t.data.textureLoaded&&(this.updateMatrix(t),this.gl.uniform3f(this.sprogram.color,t.rgb.r/255,t.rgb.g/255,t.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())}},{key:\"onParticleDead\",value:function(){}},{key:\"updateMatrix\",value:function(t){var e=d(-t.data.textureWidth/2,-t.data.textureHeight/2),i=d(t.p.x,t.p.y),a=t.rotation*h.PI_180,r=y(a),n=t.scale*t.data.oldScale,s=p(n,n),o=f(e,s);o=f(o,r),o=f(o,i),X.inverse(o,t.data.imat),o[2]=t.alpha,this.mstack.push(o)}}]),fe);function fe(t){s(this,fe);var e=l(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,t));return e.gl=e.element.getContext(\"experimental-webgl\",{antialias:!0,stencil:!1,depth:!1}),e.gl||alert(\"Sorry your browser do not suppest WebGL!\"),e.initVar(),e.setMaxRadius(),e.initShaders(),e.initBuffers(),e.gl.blendEquation(e.gl.FUNC_ADD),e.gl.blendFunc(e.gl.SRC_ALPHA,e.gl.ONE_MINUS_SRC_ALPHA),e.gl.enable(e.gl.BLEND),e.addImg2Body=e.addImg2Body.bind(e),e.name=\"WebGLRenderer\",e}var ve=(r(ge,$t),ge);function ge(t){s(this,ge);var e=l(this,(ge.__proto__||Object.getPrototypeOf(ge)).call(this,t));return e.name=\"CustomRenderer\",e}var me=(r(be,at),t(be,[{key:\"getPosition\",value:function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector}},{key:\"getDirection\",value:function(t,e){var i=this.dy,a=-this.dx;return 0<(i*t+a*e+this.dot)*(0==a?1:a)}},{key:\"getDistance\",value:function(t,e){return(this.dy*t+-this.dx*e+this.dot)/Math.sqrt(this.xxyy)}},{key:\"getSymmetric\",value:function(t){var e=t.getGradient(),i=2*(this.getGradient()-e),a=t.x,r=t.y;return t.x=a*Math.cos(i)-r*Math.sin(i),t.y=a*Math.sin(i)+r*Math.cos(i),t}},{key:\"getGradient\",value:function(){return Math.atan2(this.dy,this.dx)}},{key:\"rangeOut\",value:function(t){if(Math.abs(this.getGradient())<=h.PI/4){if(t.p.x<=this.maxx&&t.p.x>=this.minx)return!0}else if(t.p.y<=this.maxy&&t.p.y>=this.miny)return!0;return!1}},{key:\"getLength\",value:function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)}},{key:\"crossing\",value:function(t){if(\"dead\"===this.crossType)if(\">\"===this.direction||\"R\"===this.direction||\"right\"===this.direction||\"down\"===this.direction){if(!this.rangeOut(t))return;this.getDirection(t.p.x,t.p.y)&&(t.dead=!0)}else{if(!this.rangeOut(t))return;this.getDirection(t.p.x,t.p.y)||(t.dead=!0)}else if(\"bound\"===this.crossType){if(!this.rangeOut(t))return;this.getDistance(t.p.x,t.p.y)<=t.radius&&(0===this.dx?t.v.x*=-1:0===this.dy?t.v.y*=-1:this.getSymmetric(t.v))}else\"cross\"===this.crossType&&this.alert&&(console.error(\"Sorry, LineZone does not support cross method!\"),this.alert=!1)}}]),be);function be(t,e,i,a,r){s(this,be);var n=l(this,(be.__proto__||Object.getPrototypeOf(be)).call(this));return 0<=i-t?(n.x1=t,n.y1=e,n.x2=i,n.y2=a):(n.x1=i,n.y1=a,n.x2=t,n.y2=e),n.dx=n.x2-n.x1,n.dy=n.y2-n.y1,n.minx=Math.min(n.x1,n.x2),n.miny=Math.min(n.y1,n.y2),n.maxx=Math.max(n.x1,n.x2),n.maxy=Math.max(n.y1,n.y2),n.dot=n.x2*n.y1-n.x1*n.y2,n.xxyy=n.dx*n.dx+n.dy*n.dy,n.gradient=n.getGradient(),n.length=n.getLength(),n.direction=P.initValue(r,\">\"),n}var _e=(r(xe,at),t(xe,[{key:\"getPosition\",value:function(){return this.angle=h.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector}},{key:\"setCenter\",value:function(t,e){this.center.x=t,this.center.y=e}},{key:\"crossing\",value:function(t){var e=t.p.distanceTo(this.center);\"dead\"===this.crossType?e-t.radius>this.radius&&(t.dead=!0):\"bound\"===this.crossType?e+t.radius>=this.radius&&this.getSymmetric(t):\"cross\"===this.crossType&&this.alert&&(console.error(\"Sorry, CircleZone does not support cross method!\"),this.alert=!1)}},{key:\"getSymmetric\",value:function(t){var e=t.v.getGradient(),i=2*(this.getGradient(t)-e),a=t.v.x,r=t.v.y;t.v.x=a*Math.cos(i)-r*Math.sin(i),t.v.y=a*Math.sin(i)+r*Math.cos(i)}},{key:\"getGradient\",value:function(t){return-h.PI_2+Math.atan2(t.p.y-this.center.y,t.p.x-this.center.x)}}]),xe);function xe(t,e,i){s(this,xe);var a=l(this,(xe.__proto__||Object.getPrototypeOf(xe)).call(this));return a.x=t,a.y=e,a.radius=i,a.angle=0,a.center={x:t,y:e},a}var ke=(r(Pe,at),t(Pe,[{key:\"getPosition\",value:function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector}},{key:\"crossing\",value:function(t){\"dead\"===this.crossType?(t.p.x+t.radius<this.x?t.dead=!0:t.p.x-t.radius>this.x+this.width&&(t.dead=!0),t.p.y+t.radius<this.y?t.dead=!0:t.p.y-t.radius>this.y+this.height&&(t.dead=!0)):\"bound\"===this.crossType?(t.p.x-t.radius<this.x?(t.p.x=this.x+t.radius,t.v.x*=-1):t.p.x+t.radius>this.x+this.width&&(t.p.x=this.x+this.width-t.radius,t.v.x*=-1),t.p.y-t.radius<this.y?(t.p.y=this.y+t.radius,t.v.y*=-1):t.p.y+t.radius>this.y+this.height&&(t.p.y=this.y+this.height-t.radius,t.v.y*=-1)):\"cross\"===this.crossType&&(t.p.x+t.radius<this.x&&t.v.x<=0?t.p.x=this.x+this.width+t.radius:t.p.x-t.radius>this.x+this.width&&0<=t.v.x&&(t.p.x=this.x-t.radius),t.p.y+t.radius<this.y&&t.v.y<=0?t.p.y=this.y+this.height+t.radius:t.p.y-t.radius>this.y+this.height&&0<=t.v.y&&(t.p.y=this.y-t.radius))}}]),Pe);function Pe(t,e,i,a){s(this,Pe);var r=l(this,(Pe.__proto__||Object.getPrototypeOf(Pe)).call(this));return r.x=t,r.y=e,r.width=i,r.height=a,r}var Ee=(r(Ae,at),t(Ae,[{key:\"reset\",value:function(t,e,i,a){this.imageData=t,this.x=P.initValue(e,0),this.y=P.initValue(i,0),this.d=P.initValue(a,2),this.vectors=[],this.setVectors()}},{key:\"setVectors\",value:function(){var t=void 0,e=void 0,i=this.imageData.width,a=this.imageData.height;for(t=0;t<i;t+=this.d)for(e=0;e<a;e+=this.d){var r=4*((e>>0)*i+(t>>0));0<this.imageData.data[3+r]&&this.vectors.push({x:t+this.x,y:e+this.y})}return this.vector}},{key:\"getBound\",value:function(t,e){var i=4*((e>>0)*this.imageData.width+(t>>0));return 0<this.imageData.data[3+i]}},{key:\"getPosition\",value:function(){var t=P.getRandFromArray(this.vectors);return this.vector.copy(t)}},{key:\"getColor\",value:function(t,e){t-=this.x;var i=4*(((e-=this.y)>>0)*this.imageData.width+(t>>0));return{r:this.imageData.data[i],g:this.imageData.data[1+i],b:this.imageData.data[2+i],a:this.imageData.data[3+i]}}},{key:\"crossing\",value:function(t){\"dead\"===this.crossType?this.getBound(t.p.x-this.x,t.p.y-this.y)?t.dead=!0:t.dead=!1:\"bound\"===this.crossType&&(this.getBound(t.p.x-this.x,t.p.y-this.y)||t.v.negate())}}]),Ae);function Ae(t,e,i,a){s(this,Ae);var r=l(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).call(this));return r.reset(t,e,i,a),r}var Te={addEventListener:function(t,e){t.addEventListener(\"PROTON_UPDATE_AFTER\",function(){return e()})},getStyle:function(t){var e=H.hexToRgb(0<arguments.length&&void 0!==t?t:\"#ff0000\");return\"rgba(\"+e.r+\", \"+e.g+\", \"+e.b+\", 0.5)\"},drawZone:function(t,e,i,a){var r=e.getContext(\"2d\"),n=this.getStyle();this.addEventListener(t,function(){a&&r.clearRect(0,0,e.width,e.height),i instanceof nt?(r.beginPath(),r.fillStyle=n,r.arc(i.x,i.y,10,0,2*Math.PI,!0),r.fill(),r.closePath()):i instanceof me?(r.beginPath(),r.strokeStyle=n,r.moveTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.stroke(),r.closePath()):i instanceof ke?(r.beginPath(),r.strokeStyle=n,r.drawRect(i.x,i.y,i.width,i.height),r.stroke(),r.closePath()):i instanceof _e&&(r.beginPath(),r.strokeStyle=n,r.arc(i.x,i.y,i.radius,0,2*Math.PI,!0),r.stroke(),r.closePath())})},drawEmitter:function(t,e,i,a){var r=e.getContext(\"2d\"),n=this.getStyle();this.addEventListener(t,function(){a&&r.clearRect(0,0,e.width,e.height),r.beginPath(),r.fillStyle=n,r.arc(i.p.x,i.p.y,10,0,2*Math.PI,!0),r.fill(),r.closePath()})}};return V.Particle=V.P=j,V.Pool=T,V.Util=P,V.ColorUtil=H,V.MathUtil=h,V.Vector2D=V.Vector=F,V.Polar2D=V.Polar=q,V.ArraySpan=Y,V.Rectangle=Z,V.Rate=K,V.ease=U,V.Span=n,V.Mat3=X,V.getSpan=function(t,e,i){return new n(t,e,i)},V.createArraySpan=Y.createArraySpan,V.Initialize=V.Init=$,V.Life=V.L=et,V.Position=V.P=ot,V.Velocity=V.V=lt,V.Mass=V.M=ct,V.Radius=V.R=yt,V.Body=V.B=ft,V.Behaviour=gt,V.Force=V.F=bt,V.Attraction=V.A=xt,V.RandomDrift=V.RD=Pt,V.Gravity=V.G=At,V.Collision=Rt,V.CrossZone=wt,V.Alpha=V.A=St,V.Scale=V.S=Dt,V.Rotate=Mt,V.Color=Lt,V.Repulsion=Nt,V.Cyclone=zt,V.GravityWell=qt,V.Emitter=Yt,V.BehaviourEmitter=Zt,V.FollowEmitter=Kt,V.Zone=at,V.LineZone=me,V.CircleZone=_e,V.PointZone=nt,V.RectZone=ke,V.ImageZone=Ee,V.CanvasRenderer=ee,V.DomRenderer=ae,V.EaselRenderer=ne,V.PixiRenderer=ue,V.PixelRenderer=oe,V.WebGLRenderer=V.WebGlRenderer=pe,V.CustomRenderer=ve,V.Debug=Te,P.assign(V,U),V});\n//# sourceMappingURL=proton.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvdG9uLWVuZ2luZS9idWlsZC9wcm90b24ubWluLmpzP2QxY2IiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFvRCxvQkFBb0IsU0FBNEQsQ0FBQyxpQkFBaUIsYUFBYSxnQkFBZ0IsOEVBQThFLG1CQUFtQix1RkFBdUYsa0NBQWtDLDRCQUE0QixpR0FBaUcsZ0NBQWdDLGtDQUFrQyx3QkFBd0IsdUVBQXVFLHdCQUF3QixxQkFBcUIsMERBQTBELHlCQUF5Qiw2QkFBNkIsZUFBZSx1QkFBdUIsMEJBQTBCLDJFQUEyRSxnQkFBZ0IsYUFBYSxvR0FBb0csbUJBQW1CLHdDQUF3QyxnQkFBZ0IsWUFBWSxXQUFXLEtBQUssV0FBVywrR0FBK0csa0JBQWtCLGlDQUFpQywyQ0FBMkMsZUFBZSwrQkFBK0IsZ0NBQWdDLDhCQUE4QixZQUFZLG1DQUFtQyxnQkFBZ0IsMkhBQTJILDBDQUEwQyxhQUFhLG1EQUFtRCxzRUFBc0UsZ0JBQWdCLDRGQUE0Rix1REFBdUQsYUFBYSxpQ0FBaUMsd0NBQXdDLDRIQUE0SCxJQUFJLHlDQUF5QyxnRkFBZ0YsRUFBRSxxQ0FBcUMsc0NBQXNDLE1BQU0sa0JBQWtCLHVKQUF1SixrQkFBa0IsSUFBSSxZQUFZLEtBQUssY0FBYyxXQUFXLGlCQUFpQiwwQkFBMEIsZUFBZSxnQ0FBZ0MsMkJBQTJCLGlCQUFpQiwwQkFBMEIsaUJBQWlCLGtJQUFrSSxvSEFBb0gsSUFBSSwrQkFBK0IscUZBQXFGLDBHQUEwRywyQkFBMkIsb0NBQW9DLCtEQUErRCx3QkFBd0Isb0dBQW9HLCtCQUErQiwrQkFBK0Isa0VBQWtFLDJCQUEyQixpQ0FBaUMsK0JBQStCLHVFQUF1RSxzRUFBc0Usc0JBQXNCLDRDQUE0Qyw2RkFBNkYsS0FBSyxLQUFLLHVCQUF1Qix1QkFBdUIsK0NBQStDLCtDQUErQyxtQkFBbUIsaUNB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MndCLE9BQU8scUJBQXFCLFdBQVcsbUVBQW1FLDBDQUEwQyx3QkFBd0Isb0NBQW9DLDRIQUE0SCxFQUFFLGtDQUFrQyxxRUFBcUUsUUFBUSxJQUFJLGtCQUFrQixJQUFJLFdBQVcsMEJBQTBCLCtDQUErQyxzQkFBc0IsRUFBRSxvQkFBb0IsRUFBRSxtQ0FBbUMsNkNBQTZDLG1DQUFtQyxFQUFFLG1DQUFtQyx1Q0FBdUMsNEJBQTRCLEVBQUUsbUNBQW1DLFVBQVUsdURBQXVELE9BQU8sNEdBQTRHLEVBQUUsaUNBQWlDLHlLQUF5SyxPQUFPLHFCQUFxQixXQUFXLG1FQUFtRSwwQkFBMEIsUUFBUSwrQkFBK0Isb0RBQW9ELFdBQVcsRUFBRSxzQkFBc0IsNkRBQTZELDZDQUE2Qyw0QkFBNEIsMkNBQTJDLG1DQUFtQywyZEFBMmQsRUFBRSwrQkFBK0IsMkNBQTJDLG1DQUFtQyw2SEFBNkgsSUFBSSx5TUFBeU0sb0JBQW9CLDJxQkFBMnFCO0FBQzFwa0UiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcHJvdG9uLWVuZ2luZS9idWlsZC9wcm90b24ubWluLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4qIFByb3RvbiB2NC4xLjVcbiogaHR0cHM6Ly9naXRodWIuY29tL2RyYXdjYWxsL1Byb3RvblxuKlxuKiBDb3B5cmlnaHQgMjAxMy0yMDE5LCBBLUpJRVxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuKlxuKi9cbiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGUpOnQuUHJvdG9uPWUoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHModCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBlPTMuMTQxNTkyNixoPXtQSTplLFBJeDI6MiplLFBJXzI6ZS8yLFBJXzE4MDplLzE4MCxOMTgwX1BJOjE4MC9lLEluZmluaXR5Oi05OTksaXNJbmZpbml0eTpmdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXMuSW5maW5pdHl8fHQ9PT0xLzB9LHJhbmRvbUFUb0I6ZnVuY3Rpb24odCxlLGkpe3JldHVybiAyPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWkmJmk/TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihlLXQpKSt0OnQrTWF0aC5yYW5kb20oKSooZS10KX0scmFuZG9tRmxvYXRpbmc6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLnJhbmRvbUFUb0IodC1lLHQrZSxpKX0scmFuZG9tQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm5cIiNcIisoXCIwMDAwMFwiKygxNjc3NzIxNipNYXRoLnJhbmRvbSgpPDwwKS50b1N0cmluZygxNikpLnNsaWNlKC02KX0scmFuZG9tWm9uZTpmdW5jdGlvbigpe30sZmxvb3I6ZnVuY3Rpb24odCxlKXt2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTo0LGE9TWF0aC5wb3coMTAsaSk7cmV0dXJuIE1hdGguZmxvb3IodCphKS9hfSxkZWdyZWVUcmFuc2Zvcm06ZnVuY3Rpb24odCl7cmV0dXJuIHQqZS8xODB9LHRvQ29sb3IxNjpmdW5jdGlvbih0KXtyZXR1cm5cIiNcIit0LnRvU3RyaW5nKDE2KX19LGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGUmJmEodC5wcm90b3R5cGUsZSksaSYmYSh0LGkpLHR9O2Z1bmN0aW9uIGEodCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIGE9ZVtpXTthLmVudW1lcmFibGU9YS5lbnVtZXJhYmxlfHwhMSxhLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBhJiYoYS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsYS5rZXksYSl9fWZ1bmN0aW9uIG8odCxlLGkpe251bGw9PT10JiYodD1GdW5jdGlvbi5wcm90b3R5cGUpO3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKTtpZih2b2lkIDA9PT1hKXt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIG51bGw9PT1yP3ZvaWQgMDpvKHIsZSxpKX1pZihcInZhbHVlXCJpbiBhKXJldHVybiBhLnZhbHVlO3ZhciBuPWEuZ2V0O3JldHVybiB2b2lkIDAhPT1uP24uY2FsbChpKTp2b2lkIDB9ZnVuY3Rpb24gcih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIGwodCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX12YXIgbj0odCh1LFt7a2V5OlwiZ2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQmJnQ7cmV0dXJuIHRoaXMuaXNBcnJheT9QLmdldFJhbmRGcm9tQXJyYXkodGhpcy5hKTp0aGlzLmNlbnRlcj9oLnJhbmRvbUZsb2F0aW5nKHRoaXMuYSx0aGlzLmIsZSk6aC5yYW5kb21BVG9CKHRoaXMuYSx0aGlzLmIsZSl9fV0sW3trZXk6XCJzZXRTcGFuVmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQgaW5zdGFuY2VvZiB1P3Q6dm9pZCAwPT09ZT9uZXcgdSh0KTp2b2lkIDA9PT1pP25ldyB1KHQsZSk6bmV3IHUodCxlLGkpfX0se2tleTpcImdldFNwYW5WYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdT90LmdldFZhbHVlKCk6dH19XSksdSk7ZnVuY3Rpb24gdSh0LGUsaSl7cyh0aGlzLHUpLFAuaXNBcnJheSh0KT8odGhpcy5pc0FycmF5PSEwLHRoaXMuYT10KToodGhpcy5pc0FycmF5PSExLHRoaXMuYT1QLmluaXRWYWx1ZSh0LDEpLHRoaXMuYj1QLmluaXRWYWx1ZShlLHRoaXMuYSksdGhpcy5jZW50ZXI9UC5pbml0VmFsdWUoaSwhMSkpfXZhciBjPWZ1bmN0aW9uKHQpey0tdDtmb3IodmFyIGU9MTtlPDMyO2U8PD0xKXR8PXQ+PmU7cmV0dXJuIHQrMX0sZD1mdW5jdGlvbih0LGUpe3JldHVyblsxLDAsMCwwLDEsMCx0LGUsMV19LHk9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5jb3ModCksaT1NYXRoLnNpbih0KTtyZXR1cm5bZSwtaSwwLGksZSwwLDAsMCwxXX0scD1mdW5jdGlvbih0LGUpe3JldHVyblt0LDAsMCwwLGUsMCwwLDAsMV19LGY9ZnVuY3Rpb24odCxlKXt2YXIgaT10WzBdLGE9dFsxXSxyPXRbMl0sbj10WzNdLHM9dFs0XSxvPXRbNV0saD10WzZdLGw9dFs3XSx1PXRbOF0sYz1lWzBdLGQ9ZVsxXSx5PWVbMl0scD1lWzNdLGY9ZVs0XSx2PWVbNV0sZz1lWzZdLG09ZVs3XSxiPWVbOF07cmV0dXJuW2kqYythKnArcipnLGkqZCthKmYrciptLGkqeSthKnYrcipiLG4qYytzKnArbypnLG4qZCtzKmYrbyptLG4qeStzKnYrbypiLGgqYytsKnArdSpnLGgqZCtsKmYrdSptLGgqeStsKnYrdSpiXX0sdj17Y3JlYXRlQ2FudmFzOmZ1bmN0aW9uKHQsZSxpLGEpe3ZhciByPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YT9hOlwiYWJzb2x1dGVcIixuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIG4uaWQ9dCxuLndpZHRoPWUsbi5oZWlnaHQ9aSxuLnN0eWxlLm9wYWNpdHk9MCxuLnN0eWxlLnBvc2l0aW9uPXIsdGhpcy50cmFuc2Zvcm0obiwtNTAwLC01MDAsMCwwKSxufSxjcmVhdGVEaXY6ZnVuY3Rpb24odCxlLGkpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGEuaWQ9dCxhLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLnJlc2l6ZShhLGUsaSksYX0scmVzaXplOmZ1bmN0aW9uKHQsZSxpKXt0LnN0eWxlLndpZHRoPWUrXCJweFwiLHQuc3R5bGUuaGVpZ2h0PWkrXCJweFwiLHQuc3R5bGUubWFyZ2luTGVmdD0tZS8yK1wicHhcIix0LnN0eWxlLm1hcmdpblRvcD0taS8yK1wicHhcIn0sdHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxpLGEscil7dC5zdHlsZS53aWxsQ2hhbmdlPVwidHJhbnNmb3JtXCI7dmFyIG49XCJ0cmFuc2xhdGUoXCIrZStcInB4LCBcIitpK1wicHgpIHNjYWxlKFwiK2ErXCIpIHJvdGF0ZShcIityK1wiZGVnKVwiO3RoaXMuY3NzMyh0LFwidHJhbnNmb3JtXCIsbil9LHRyYW5zZm9ybTNkOmZ1bmN0aW9uKHQsZSxpLGEscil7dC5zdHlsZS53aWxsQ2hhbmdlPVwidHJhbnNmb3JtXCI7dmFyIG49XCJ0cmFuc2xhdGUzZChcIitlK1wicHgsIFwiK2krXCJweCwgMCkgc2NhbGUoXCIrYStcIikgcm90YXRlKFwiK3IrXCJkZWcpXCI7dGhpcy5jc3MzKHQsXCJiYWNrZmFjZVZpc2liaWxpdHlcIixcImhpZGRlblwiKSx0aGlzLmNzczModCxcInRyYW5zZm9ybVwiLG4pfSxjc3MzOmZ1bmN0aW9uKHQsZSxpKXt2YXIgYT1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpO3Quc3R5bGVbXCJXZWJraXRcIithXT1pLHQuc3R5bGVbXCJNb3pcIithXT1pLHQuc3R5bGVbXCJPXCIrYV09aSx0LnN0eWxlW1wibXNcIithXT1pLHQuc3R5bGVbXCJcIitlXT1pfX0sZz17fSxtPXt9LGI9MCxfPWZ1bmN0aW9uKHQsZSxpKXt0LmRyYXdJbWFnZShlLGkueCxpLnkpO3ZhciBhPXQuZ2V0SW1hZ2VEYXRhKGkueCxpLnksaS53aWR0aCxpLmhlaWdodCk7cmV0dXJuIHQuY2xlYXJSZWN0KGkueCxpLnksaS53aWR0aCxpLmhlaWdodCksYX0seD1mdW5jdGlvbih0LGUsaSl7dmFyIGE9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LnNyYztpZihnW2FdKWUoZ1thXSxpKTtlbHNle3ZhciByPW5ldyBJbWFnZTtyLm9ubG9hZD1mdW5jdGlvbih0KXtnW2FdPXQudGFyZ2V0LGUoZ1thXSxpKX0sci5zcmM9YX19LGs9ZnVuY3Rpb24odCxlLGkpe3ZhciBhPXQuc3JjO2lmKCFtW2FdKXt2YXIgcj1jKHQud2lkdGgpLG49Yyh0LmhlaWdodCkscz12LmNyZWF0ZUNhbnZhcyhcInByb3Rvbl9jYW52YXNfY2FjaGVfXCIrICsrYixyLG4pO3MuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZSh0LDAsMCx0LndpZHRoLHQuaGVpZ2h0KSxtW2FdPXN9cmV0dXJuIGUmJmUobVthXSxpKSxtW2FdfSxQPXtpbml0VmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1udWxsIT10P3Q6ZX0saXNBcnJheTpmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LGVtcHR5QXJyYXk6ZnVuY3Rpb24odCl7dCYmKHQubGVuZ3RoPTApfSx0b0FycmF5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzQXJyYXkodCk/dDpbdF19LGdldFJhbmRGcm9tQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dFtNYXRoLmZsb29yKHQubGVuZ3RoKk1hdGgucmFuZG9tKCkpXTpudWxsfSxlbXB0eU9iamVjdDpmdW5jdGlvbih0LGUpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGw7Zm9yKHZhciBhIGluIHQpaSYmLTE8aS5pbmRleE9mKGEpfHxkZWxldGUgdFthXX0sY2xhc3NBcHBseTpmdW5jdGlvbih0LGUpe3ZhciBpPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZT9lOm51bGw7cmV0dXJuIGk/bmV3KHQuYmluZC5hcHBseSh0LFtudWxsXS5jb25jYXQoaSkpKTpuZXcgdH0sc2V0VmVjdG9yVmFsOmZ1bmN0aW9uKHQsZSl7dmFyIGk9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6bnVsbDtpJiYodGhpcy5oYXNQcm9wKGksXCJ4XCIpJiYodC5wLng9aS54KSx0aGlzLmhhc1Byb3AoaSxcInlcIikmJih0LnAueT1pLnkpLHRoaXMuaGFzUHJvcChpLFwidnhcIikmJih0LnYueD1pLnZ4KSx0aGlzLmhhc1Byb3AoaSxcInZ5XCIpJiYodC52Lnk9aS52eSksdGhpcy5oYXNQcm9wKGksXCJheFwiKSYmKHQuYS54PWkuYXgpLHRoaXMuaGFzUHJvcChpLFwiYXlcIikmJih0LmEueT1pLmF5KSx0aGlzLmhhc1Byb3AoaSxcInBcIikmJnQucC5jb3B5KGkucCksdGhpcy5oYXNQcm9wKGksXCJ2XCIpJiZ0LnYuY29weShpLnYpLHRoaXMuaGFzUHJvcChpLFwiYVwiKSYmdC5hLmNvcHkoaS5hKSx0aGlzLmhhc1Byb3AoaSxcInBvc2l0aW9uXCIpJiZ0LnAuY29weShpLnBvc2l0aW9uKSx0aGlzLmhhc1Byb3AoaSxcInZlbG9jaXR5XCIpJiZ0LnYuY29weShpLnZlbG9jaXR5KSx0aGlzLmhhc1Byb3AoaSxcImFjY2VsZXJhdGVcIikmJnQuYS5jb3B5KGkuYWNjZWxlcmF0ZSkpfSxoYXNQcm9wOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0JiZ2b2lkIDAhPT10W2VdfSxzZXRQcm9wOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbaV09bi5nZXRTcGFuVmFsdWUoZVtpXSkpO3JldHVybiB0fSxnZXRJbWFnZURhdGE6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBfKHQsZSxpKX0sZGVzdHJveUFsbDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTpudWxsLGE9dC5sZW5ndGg7YS0tOyl7dHJ5e3RbYV0uZGVzdHJveShpKX1jYXRjaCh0KXt9ZGVsZXRlIHRbYV19dC5sZW5ndGg9MH0sYXNzaWduOmZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmFzc2lnbilyZXR1cm4gT2JqZWN0LmFzc2lnbih0LGUpO2Zvcih2YXIgaSBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdH19LEU9e30sQT17X2luZGV4OjAsX2NhY2hlOnt9LGlkOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT1FW3RdJiZudWxsIT09RVt0XXx8KEVbdF09MCksdCtcIl9cIitFW3RdKyt9LGdldElkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SWRGcm9tQ2FjaGUodCk7cmV0dXJuIGV8fChlPVwiUFVJRF9cIit0aGlzLl9pbmRleCsrLHRoaXMuX2NhY2hlW2VdPXQsZSl9LGdldElkRnJvbUNhY2hlOmZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMCxpPXZvaWQgMDtmb3IoaSBpbiB0aGlzLl9jYWNoZSl7aWYoKGU9dGhpcy5fY2FjaGVbaV0pPT09dClyZXR1cm4gaTtpZih0aGlzLmlzQm9keShlLHQpJiZlLnNyYz09PXQuc3JjKXJldHVybiBpfXJldHVybiBudWxsfSxpc0JvZHk6ZnVuY3Rpb24odCxlKXtyZXR1cm5cIm9iamVjdFwiPT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjppKHQpKSYmXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6aShlKSkmJnQuaXNJbm5lciYmZS5pc0lubmVyfSxnZXRUYXJnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhY2hlW3RdfX0sVD0odChSLFt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBhPXZvaWQgMDtyZXR1cm4gaT1pfHx0Ll9fcHVpZHx8QS5nZXRJZCh0KSwoYT10aGlzLmNhY2hlW2ldJiYwPHRoaXMuY2FjaGVbaV0ubGVuZ3RoP3RoaXMuY2FjaGVbaV0ucG9wKCk6dGhpcy5jcmVhdGVPckNsb25lKHQsZSkpLl9fcHVpZD10Ll9fcHVpZHx8aSxhfX0se2tleTpcImV4cGlyZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldENhY2hlKHQuX19wdWlkKS5wdXNoKHQpfX0se2tleTpcImNyZWF0ZU9yQ2xvbmVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRvdGFsKyssdGhpcy5jcmVhdGU/dGhpcy5jcmVhdGUodCxlKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P1AuY2xhc3NBcHBseSh0LGUpOnQuY2xvbmUoKX19LHtrZXk6XCJnZXRDb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDtmb3IodmFyIGUgaW4gdGhpcy5jYWNoZSl0Kz10aGlzLmNhY2hlW2VdLmxlbmd0aDtyZXR1cm4gdCsrfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmNhY2hlKXRoaXMuY2FjaGVbdF0ubGVuZ3RoPTAsZGVsZXRlIHRoaXMuY2FjaGVbdF19fSx7a2V5OlwiZ2V0Q2FjaGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDpcImRlZmF1bHRcIjtyZXR1cm4gdGhpcy5jYWNoZVtlXXx8KHRoaXMuY2FjaGVbZV09W10pLHRoaXMuY2FjaGVbZV19fV0pLFIpO2Z1bmN0aW9uIFIodCl7cyh0aGlzLFIpLHRoaXMudG90YWw9MCx0aGlzLmNhY2hlPXt9fXZhciBPPSh0KHcsW3trZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuYWRkKHQsZSk7dmFyIGk9dGhpcy5nZXRFbWl0dGVyKCksYT10aGlzLmdldFJlbmRlcmVyKCkscj1cIlwiO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgMjpyKz1cImVtaXR0ZXI6XCIrdGhpcy5wcm90b24uZW1pdHRlcnMubGVuZ3RoK1wiPGJyPlwiLGkmJihyKz1cImVtIHNwZWVkOlwiK2kuZW1pdFNwZWVkK1wiPGJyPlwiKSxpJiYocis9XCJwb3M6XCIrdGhpcy5nZXRFbWl0dGVyUG9zKGkpKTticmVhaztjYXNlIDM6aSYmKHIrPVwiaW5pdGlhbGl6ZXM6XCIraS5pbml0aWFsaXplcy5sZW5ndGgrXCI8YnI+XCIpLGkmJihyKz0nPHNwYW4gc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9jaztcIj4nK3RoaXMuY29uY2F0QXJyKGkuaW5pdGlhbGl6ZXMpK1wiPC9zcGFuPjxicj5cIiksaSYmKHIrPVwiYmVoYXZpb3VyczpcIitpLmJlaGF2aW91cnMubGVuZ3RoK1wiPGJyPlwiKSxpJiYocis9JzxzcGFuIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7XCI+Jyt0aGlzLmNvbmNhdEFycihpLmJlaGF2aW91cnMpK1wiPC9zcGFuPjxicj5cIik7YnJlYWs7Y2FzZSA0OmEmJihyKz1hLm5hbWUrXCI8YnI+XCIpLGEmJihyKz1cImJvZHk6XCIrdGhpcy5nZXRDcmVhdGVkTnVtYmVyKGEpK1wiPGJyPlwiKTticmVhaztkZWZhdWx0OnIrPVwicGFydGljbGVzOlwiK3RoaXMucHJvdG9uLmdldENvdW50KCkrXCI8YnI+XCIscis9XCJwb29sOlwiK3RoaXMucHJvdG9uLnBvb2wuZ2V0Q291bnQoKStcIjxicj5cIixyKz1cInRvdGFsOlwiK3RoaXMucHJvdG9uLnBvb2wudG90YWx9dGhpcy5jb250YWluZXIuaW5uZXJIVE1MPXJ9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2lmKCF0aGlzLmNvbnRhaW5lcil7dGhpcy50eXBlPTEsdGhpcy5jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmNvbnRhaW5lci5zdHlsZS5jc3NUZXh0PVtcInBvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowcHg7bGVmdDowO2N1cnNvcjpwb2ludGVyO1wiLFwib3BhY2l0eTowLjk7ei1pbmRleDoxMDAwMDtwYWRkaW5nOjEwcHg7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7XCIsXCJ3aWR0aDoxMjBweDtoZWlnaHQ6NTBweDtiYWNrZ3JvdW5kLWNvbG9yOiMwMDI7Y29sb3I6IzBmZjtcIl0uam9pbihcIlwiKSx0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbih0KXtpLnR5cGUrKyw0PGkudHlwZSYmKGkudHlwZT0xKX0sITEpO3ZhciBhPXZvaWQgMCxyPXZvaWQgMDtzd2l0Y2godCl7Y2FzZSAyOmE9XCIjMjAxXCIscj1cIiNmMDhcIjticmVhaztjYXNlIDM6YT1cIiMwMjBcIixyPVwiIzBmMFwiO2JyZWFrO2RlZmF1bHQ6YT1cIiMwMDJcIixyPVwiIzBmZlwifXRoaXMuY29udGFpbmVyLnN0eWxlW1wiYmFja2dyb3VuZC1jb2xvclwiXT1hLHRoaXMuY29udGFpbmVyLnN0eWxlLmNvbG9yPXJ9dGhpcy5jb250YWluZXIucGFyZW50Tm9kZXx8KGU9ZXx8dGhpcy5ib2R5fHxkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcil9fSx7a2V5OlwiZ2V0RW1pdHRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvdG9uLmVtaXR0ZXJzW3RoaXMuZW1pdHRlckluZGV4XX19LHtrZXk6XCJnZXRSZW5kZXJlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvdG9uLnJlbmRlcmVyc1t0aGlzLnJlbmRlcmVySW5kZXhdfX0se2tleTpcImNvbmNhdEFyclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm4gZTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyllKz0odFtpXS5uYW1lfHxcIlwiKS5zdWJzdHIoMCwxKStcIi5cIjtyZXR1cm4gZX19LHtrZXk6XCJnZXRDcmVhdGVkTnVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucG9vbC50b3RhbHx8dC5jcG9vbCYmdC5jcG9vbC50b3RhbHx8MH19LHtrZXk6XCJnZXRFbWl0dGVyUG9zXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucm91bmQodC5wLngpK1wiLFwiK01hdGgucm91bmQodC5wLnkpfX1dKSx3KTtmdW5jdGlvbiB3KHQpe3ModGhpcyx3KSx0aGlzLnByb3Rvbj10LHRoaXMuY29udGFpbmVyPW51bGwsdGhpcy50eXBlPTEsdGhpcy5lbWl0dGVySW5kZXg9MCx0aGlzLnJlbmRlcmVySW5kZXg9MH12YXIgQz0odChTLFt7a2V5OlwiYWRkRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xpc3RlbmVycz90aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxlKTp0aGlzLl9saXN0ZW5lcnM9e30sdGhpcy5fbGlzdGVuZXJzW3RdfHwodGhpcy5fbGlzdGVuZXJzW3RdPVtdKSx0aGlzLl9saXN0ZW5lcnNbdF0ucHVzaChlKSxlfX0se2tleTpcInJlbW92ZUV2ZW50TGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2xpc3RlbmVycyYmdGhpcy5fbGlzdGVuZXJzW3RdKWZvcih2YXIgaT10aGlzLl9saXN0ZW5lcnNbdF0sYT1pLmxlbmd0aCxyPTA7cjxhO3IrKylpZihpW3JdPT09ZSl7MT09PWE/ZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1t0XTppLnNwbGljZShyLDEpO2JyZWFrfX19LHtrZXk6XCJyZW1vdmVBbGxFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q/dGhpcy5fbGlzdGVuZXJzJiZkZWxldGUgdGhpcy5fbGlzdGVuZXJzW3RdOnRoaXMuX2xpc3RlbmVycz1udWxsfX0se2tleTpcImRpc3BhdGNoRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPSExLGE9dGhpcy5fbGlzdGVuZXJzO2lmKHQmJmEpe3ZhciByPWFbdF07aWYoIXIpcmV0dXJuIGk7Zm9yKHZhciBuPXZvaWQgMCxzPXIubGVuZ3RoO3MtLTspbj1yW3NdLGk9aXx8bihlKX1yZXR1cm4hIWl9fSx7a2V5OlwiaGFzRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2xpc3RlbmVycztyZXR1cm4hKCFlfHwhZVt0XSl9fV0sW3trZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1TLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50LHQucHJvdG90eXBlLmhhc0V2ZW50TGlzdGVuZXI9Uy5wcm90b3R5cGUuaGFzRXZlbnRMaXN0ZW5lcix0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPVMucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIsdC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1TLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyLHQucHJvdG90eXBlLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzPVMucHJvdG90eXBlLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzfX1dKSxTKTtmdW5jdGlvbiBTKCl7cyh0aGlzLFMpLHRoaXMuX2xpc3RlbmVycz1udWxsfXZhciBJPSh0KEQsW3trZXk6XCJjYWxjdWxhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5ldWxlckludGVncmF0ZSh0LGUsaSl9fSx7a2V5OlwiZXVsZXJJbnRlZ3JhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dC5zbGVlcHx8KHQub2xkLnAuY29weSh0LnApLHQub2xkLnYuY29weSh0LnYpLHQuYS5tdWx0aXBseVNjYWxhcigxL3QubWFzcyksdC52LmFkZCh0LmEubXVsdGlwbHlTY2FsYXIoZSkpLHQucC5hZGQodC5vbGQudi5tdWx0aXBseVNjYWxhcihlKSksaSYmdC52Lm11bHRpcGx5U2NhbGFyKGkpLHQuYS5jbGVhcigpKX19XSksRCk7ZnVuY3Rpb24gRCh0KXtzKHRoaXMsRCksdGhpcy50eXBlPXR9dmFyIFY9KHQoTSxbe2tleTpcImFkZFJlbmRlcmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5pbml0KHRoaXMpLHRoaXMucmVuZGVyZXJzLnB1c2godCl9fSx7a2V5OlwicmVtb3ZlUmVuZGVyZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlbmRlcmVycy5pbmRleE9mKHQpO3RoaXMucmVuZGVyZXJzLnNwbGljZShlLDEpLHQucmVtb3ZlKHRoaXMpfX0se2tleTpcImFkZEVtaXR0ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVtaXR0ZXJzLnB1c2godCksKHQucGFyZW50PXRoaXMpLmRpc3BhdGNoRXZlbnQoTS5FTUlUVEVSX0FEREVELHQpfX0se2tleTpcInJlbW92ZUVtaXR0ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmVtaXR0ZXJzLmluZGV4T2YodCk7dGhpcy5lbWl0dGVycy5zcGxpY2UoZSwxKSx0LnBhcmVudD1udWxsLHRoaXMuZGlzcGF0Y2hFdmVudChNLkVNSVRURVJfUkVNT1ZFRCx0KX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe1wiYXV0b1wiPT09dGhpcy5fZnBzPyh0aGlzLmRpc3BhdGNoRXZlbnQoTS5QUk9UT05fVVBEQVRFKSxNLlVTRV9DTE9DSz8odGhpcy50aGVufHwodGhpcy50aGVuPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSx0aGlzLm5vdz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLmVsYXBzZWQ9LjAwMSoodGhpcy5ub3ctdGhpcy50aGVuKSx0aGlzLmFtZW5kQ2hhbmdlVGFic0J1ZygpLDA8dGhpcy5lbGFwc2VkJiZ0aGlzLmVtaXR0ZXJzVXBkYXRlKHRoaXMuZWxhcHNlZCksdGhpcy50aGVuPXRoaXMubm93KTp0aGlzLmVtaXR0ZXJzVXBkYXRlKE0uREVGQVVMVF9JTlRFUlZBTCksdGhpcy5kaXNwYXRjaEV2ZW50KE0uUFJPVE9OX1VQREFURV9BRlRFUikpOih0aGlzLnRoZW58fCh0aGlzLnRoZW49KG5ldyBEYXRlKS5nZXRUaW1lKCkpLHRoaXMubm93PShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuZWxhcHNlZD0uMDAxKih0aGlzLm5vdy10aGlzLnRoZW4pLHRoaXMuZWxhcHNlZD50aGlzLl9pbnRlcnZhbCYmKHRoaXMuZGlzcGF0Y2hFdmVudChNLlBST1RPTl9VUERBVEUpLHRoaXMuZW1pdHRlcnNVcGRhdGUodGhpcy5faW50ZXJ2YWwpLHRoaXMudGhlbj10aGlzLm5vdy10aGlzLmVsYXBzZWQldGhpcy5faW50ZXJ2YWwqMWUzLHRoaXMuZGlzcGF0Y2hFdmVudChNLlBST1RPTl9VUERBVEVfQUZURVIpKSl9fSx7a2V5OlwiZW1pdHRlcnNVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5lbWl0dGVycy5sZW5ndGg7ZS0tOyl0aGlzLmVtaXR0ZXJzW2VdLnVwZGF0ZSh0KX19LHtrZXk6XCJhbWVuZENoYW5nZVRhYnNCdWdcIix2YWx1ZTpmdW5jdGlvbigpe00uYW1lbmRDaGFuZ2VUYWJzQnVnJiYuNTx0aGlzLmVsYXBzZWQmJih0aGlzLnRoZW49KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5lbGFwc2VkPTApfX0se2tleTpcImdldENvdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuZW1pdHRlcnMubGVuZ3RoO2UtLTspdCs9dGhpcy5lbWl0dGVyc1tlXS5wYXJ0aWNsZXMubGVuZ3RoO3JldHVybiB0fX0se2tleTpcImdldEFsbFBhcnRpY2xlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5lbWl0dGVycy5sZW5ndGg7ZS0tOyl0PXQuY29uY2F0KHRoaXMuZW1pdHRlcnNbZV0ucGFydGljbGVzKTtyZXR1cm4gdH19LHtrZXk6XCJkZXN0cm95QWxsRW1pdHRlcnNcIix2YWx1ZTpmdW5jdGlvbigpe1AuZGVzdHJveUFsbCh0aGlzLmVtaXR0ZXJzKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe2kudGltZT0wLGkudGhlbj0wLGkucG9vbC5kZXN0cm95KCksUC5kZXN0cm95QWxsKGkuZW1pdHRlcnMpLFAuZGVzdHJveUFsbChpLnJlbmRlcmVycyxpLmdldEFsbFBhcnRpY2xlcygpKX12YXIgaT10aGlzOzA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCYmdD9zZXRUaW1lb3V0KGUsMjAwKTplKCl9fSx7a2V5OlwiZnBzXCIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Zwcz10LHRoaXMuX2ludGVydmFsPVwiYXV0b1wiPT09dD9NLkRFRkFVTFRfSU5URVJWQUw6aC5mbG9vcigxL3QsNyl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcHN9fV0pLE0pO2Z1bmN0aW9uIE0odCl7cyh0aGlzLE0pLHRoaXMuZW1pdHRlcnM9W10sdGhpcy5yZW5kZXJlcnM9W10sdGhpcy50aW1lPTAsdGhpcy5ub3c9MCx0aGlzLnRoZW49MCx0aGlzLmVsYXBzZWQ9MCx0aGlzLnN0YXRzPW5ldyBPKHRoaXMpLHRoaXMucG9vbD1uZXcgVCg4MCksdGhpcy5pbnRlZ3JhdGlvblR5cGU9UC5pbml0VmFsdWUodCxNLkVVTEVSKSx0aGlzLmludGVncmF0b3I9bmV3IEkodGhpcy5pbnRlZ3JhdGlvblR5cGUpLHRoaXMuX2Zwcz1cImF1dG9cIix0aGlzLl9pbnRlcnZhbD1NLkRFRkFVTFRfSU5URVJWQUx9Vi5VU0VfQ0xPQ0s9ITEsVi5NRUFTVVJFPTEwMCxWLkVVTEVSPVwiZXVsZXJcIixWLlJLMj1cInJ1bmdlLWt1dHRhMlwiLFYuUEFSVElDTEVfQ1JFQVRFRD1cIlBBUlRJQ0xFX0NSRUFURURcIixWLlBBUlRJQ0xFX1VQREFURT1cIlBBUlRJQ0xFX1VQREFURVwiLFYuUEFSVElDTEVfU0xFRVA9XCJQQVJUSUNMRV9TTEVFUFwiLFYuUEFSVElDTEVfREVBRD1cIlBBUlRJQ0xFX0RFQURcIixWLkVNSVRURVJfQURERUQ9XCJFTUlUVEVSX0FEREVEXCIsVi5FTUlUVEVSX1JFTU9WRUQ9XCJFTUlUVEVSX1JFTU9WRURcIixWLlBST1RPTl9VUERBVEU9XCJQUk9UT05fVVBEQVRFXCIsVi5QUk9UT05fVVBEQVRFX0FGVEVSPVwiUFJPVE9OX1VQREFURV9BRlRFUlwiLFYuREVGQVVMVF9JTlRFUlZBTD0uMDE2NyxWLmFtZW5kQ2hhbmdlVGFic0J1Zz0hMCxDLmJpbmQoVik7dmFyIEI9KHQoTCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnI9MjU1LHRoaXMuZz0yNTUsdGhpcy5iPTI1NX19XSksTCk7ZnVuY3Rpb24gTCgpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToyNTUsZT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MjU1LGk9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjI1NTtzKHRoaXMsTCksdGhpcy5yPXQsdGhpcy5nPWUsdGhpcy5iPWl9dmFyIFU9e2Vhc2VMaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGVhc2VJblF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsMil9LGVhc2VPdXRRdWFkOmZ1bmN0aW9uKHQpe3JldHVybi0oTWF0aC5wb3codC0xLDIpLTEpfSxlYXNlSW5PdXRRdWFkOmZ1bmN0aW9uKHQpe3JldHVybih0Lz0uNSk8MT8uNSpNYXRoLnBvdyh0LDIpOi0uNSooKHQtPTIpKnQtMil9LGVhc2VJbkN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LDMpfSxlYXNlT3V0Q3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQtMSwzKSsxfSxlYXNlSW5PdXRDdWJpYzpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqTWF0aC5wb3codCwzKTouNSooTWF0aC5wb3codC0yLDMpKzIpfSxlYXNlSW5RdWFydDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCw0KX0sZWFzZU91dFF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybi0oTWF0aC5wb3codC0xLDQpLTEpfSxlYXNlSW5PdXRRdWFydDpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LjUqTWF0aC5wb3codCw0KTotLjUqKCh0LT0yKSpNYXRoLnBvdyh0LDMpLTIpfSxlYXNlSW5TaW5lOmZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGguY29zKHQqaC5QSV8yKX0sZWFzZU91dFNpbmU6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc2luKHQqaC5QSV8yKX0sZWFzZUluT3V0U2luZTpmdW5jdGlvbih0KXtyZXR1cm4tLjUqKE1hdGguY29zKE1hdGguUEkqdCktMSl9LGVhc2VJbkV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6TWF0aC5wb3coMiwxMCoodC0xKSl9LGVhc2VPdXRFeHBvOmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD8xOjEtTWF0aC5wb3coMiwtMTAqdCl9LGVhc2VJbk91dEV4cG86ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6MT09PXQ/MToodC89LjUpPDE/LjUqTWF0aC5wb3coMiwxMCoodC0xKSk6LjUqKDItTWF0aC5wb3coMiwtMTAqLS10KSl9LGVhc2VJbkNpcmM6ZnVuY3Rpb24odCl7cmV0dXJuLShNYXRoLnNxcnQoMS10KnQpLTEpfSxlYXNlT3V0Q2lyYzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KDEtTWF0aC5wb3codC0xLDIpKX0sZWFzZUluT3V0Q2lyYzpmdW5jdGlvbih0KXtyZXR1cm4odC89LjUpPDE/LS41KihNYXRoLnNxcnQoMS10KnQpLTEpOi41KihNYXRoLnNxcnQoMS0odC09MikqdCkrMSl9LGVhc2VJbkJhY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCooMi43MDE1OCp0LTEuNzAxNTgpfSxlYXNlT3V0QmFjazpmdW5jdGlvbih0KXtyZXR1cm4odC09MSkqdCooMi43MDE1OCp0KzEuNzAxNTgpKzF9LGVhc2VJbk91dEJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9MS43MDE1ODtyZXR1cm4odC89LjUpPDE/dCp0KigoMSsoZSo9MS41MjUpKSp0LWUpKi41Oi41KigodC09MikqdCooKDErKGUqPTEuNTI1KSkqdCtlKSsyKX0sZ2V0RWFzaW5nOmZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDp0aGlzW3RdfHx0aGlzLmVhc2VMaW5lYXJ9fSxGPSh0KHosW3trZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzfX0se2tleTpcInNldFhcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PXQsdGhpc319LHtrZXk6XCJzZXRZXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueT10LHRoaXN9fSx7a2V5OlwiZ2V0R3JhZGllbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwIT09dGhpcy54P01hdGguYXRhbjIodGhpcy55LHRoaXMueCk6MDx0aGlzLnk/aC5QSV8yOnRoaXMueTwwPy1oLlBJXzI6dm9pZCAwfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXN9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09ZT90aGlzLmFkZFZlY3RvcnModCxlKToodGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpcyl9fSx7a2V5OlwiYWRkWFlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLngrPXQsdGhpcy55Kz1lLHRoaXN9fSx7a2V5OlwiYWRkVmVjdG9yc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD10LngrZS54LHRoaXMueT10LnkrZS55LHRoaXN9fSx7a2V5Olwic3ViXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09ZT90aGlzLnN1YlZlY3RvcnModCxlKToodGhpcy54LT10LngsdGhpcy55LT10LnksdGhpcyl9fSx7a2V5Olwic3ViVmVjdG9yc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD10LngtZS54LHRoaXMueT10LnktZS55LHRoaXN9fSx7a2V5OlwiZGl2aWRlU2NhbGFyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDAhPT10Pyh0aGlzLngvPXQsdGhpcy55Lz10KTp0aGlzLnNldCgwLDApLHRoaXN9fSx7a2V5OlwibXVsdGlwbHlTY2FsYXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kj10LHRoaXMueSo9dCx0aGlzfX0se2tleTpcIm5lZ2F0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoLTEpfX0se2tleTpcImRvdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqdC54K3RoaXMueSp0Lnl9fSx7a2V5OlwibGVuZ3RoU3FcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9fSx7a2V5OlwibGVuZ3RoXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9fSx7a2V5Olwibm9ybWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIodGhpcy5sZW5ndGgoKSl9fSx7a2V5OlwiZGlzdGFuY2VUb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZCh0KSl9fSx7a2V5Olwicm90YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LGk9dGhpcy55O3JldHVybiB0aGlzLng9ZSpNYXRoLmNvcyh0KStpKk1hdGguc2luKHQpLHRoaXMueT0tZSpNYXRoLnNpbih0KStpKk1hdGguY29zKHQpLHRoaXN9fSx7a2V5OlwiZGlzdGFuY2VUb1NxdWFyZWRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLngtdC54LGk9dGhpcy55LXQueTtyZXR1cm4gZSplK2kqaX19LHtrZXk6XCJsZXJwXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54Kz0odC54LXRoaXMueCkqZSx0aGlzLnkrPSh0LnktdGhpcy55KSplLHRoaXN9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQueD09PXRoaXMueCYmdC55PT09dGhpcy55fX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PTAsdGhpcy55PTAsdGhpc319LHtrZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6KHRoaXMueCx0aGlzLnkpfX1dKSx6KTtmdW5jdGlvbiB6KHQsZSl7cyh0aGlzLHopLHRoaXMueD10fHwwLHRoaXMueT1lfHwwfXZhciBqPSh0KE4sW3trZXk6XCJnZXREaXJlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMudi54LC10aGlzLnYueSkqaC5OMTgwX1BJfX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saWZlPTEvMCx0aGlzLmFnZT0wLHRoaXMuZGVhZD0hMSx0aGlzLnNsZWVwPSExLHRoaXMuYm9keT1udWxsLHRoaXMuc3ByaXRlPW51bGwsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmVuZXJneT0xLHRoaXMubWFzcz0xLHRoaXMucmFkaXVzPTEwLHRoaXMuYWxwaGE9MSx0aGlzLnNjYWxlPTEsdGhpcy5yb3RhdGlvbj0wLHRoaXMuY29sb3I9bnVsbCx0aGlzLnAuc2V0KDAsMCksdGhpcy52LnNldCgwLDApLHRoaXMuYS5zZXQoMCwwKSx0aGlzLm9sZC5wLnNldCgwLDApLHRoaXMub2xkLnYuc2V0KDAsMCksdGhpcy5vbGQuYS5zZXQoMCwwKSx0aGlzLmVhc2luZz1VLmVhc2VMaW5lYXIsdGhpcy5yZ2IucmVzZXQoKSxQLmVtcHR5T2JqZWN0KHRoaXMuZGF0YSksdGhpcy5yZW1vdmVBbGxCZWhhdmlvdXJzKCksdGhpc319LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuc2xlZXB8fCh0aGlzLmFnZSs9dCx0aGlzLmFwcGx5QmVoYXZpb3Vycyh0LGUpKSx0aGlzLmFnZTx0aGlzLmxpZmUpe3ZhciBpPXRoaXMuZWFzaW5nKHRoaXMuYWdlL3RoaXMubGlmZSk7dGhpcy5lbmVyZ3k9TWF0aC5tYXgoMS1pLDApfWVsc2UgdGhpcy5kZXN0cm95KCl9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmJlaGF2aW91cnMubGVuZ3RoLGE9dm9pZCAwO2ZvcihhPTA7YTxpO2ErKyl0aGlzLmJlaGF2aW91cnNbYV0mJnRoaXMuYmVoYXZpb3Vyc1thXS5hcHBseUJlaGF2aW91cih0aGlzLHQsZSl9fSx7a2V5OlwiYWRkQmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5iZWhhdmlvdXJzLnB1c2godCksdC5oYXNPd25Qcm9wZXJ0eShcInBhcmVudHNcIikmJnQucGFyZW50cy5wdXNoKHRoaXMpLHQuaW5pdGlhbGl6ZSh0aGlzKX19LHtrZXk6XCJhZGRCZWhhdmlvdXJzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGgsaT12b2lkIDA7Zm9yKGk9MDtpPGU7aSsrKXRoaXMuYWRkQmVoYXZpb3VyKHRbaV0pfX0se2tleTpcInJlbW92ZUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYmVoYXZpb3Vycy5pbmRleE9mKHQpOy0xPGUmJih0aGlzLmJlaGF2aW91cnMuc3BsaWNlKGUsMSkucGFyZW50cz1udWxsKX19LHtrZXk6XCJyZW1vdmVBbGxCZWhhdmlvdXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtQLmVtcHR5QXJyYXkodGhpcy5iZWhhdmlvdXJzKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbEJlaGF2aW91cnMoKSx0aGlzLmVuZXJneT0wLHRoaXMuZGVhZD0hMCx0aGlzLnBhcmVudD1udWxsfX1dKSxOKTtmdW5jdGlvbiBOKHQpe3ModGhpcyxOKSx0aGlzLm5hbWU9XCJQYXJ0aWNsZVwiLHRoaXMuaWQ9QS5pZCh0aGlzLm5hbWUpLHRoaXMub2xkPXt9LHRoaXMuZGF0YT17fSx0aGlzLmJlaGF2aW91cnM9W10sdGhpcy5wPW5ldyBGLHRoaXMudj1uZXcgRix0aGlzLmE9bmV3IEYsdGhpcy5vbGQucD1uZXcgRix0aGlzLm9sZC52PW5ldyBGLHRoaXMub2xkLmE9bmV3IEYsdGhpcy5yZ2I9bmV3IEIsdGhpcy5yZXNldCgpLHQmJlAuc2V0UHJvcCh0aGlzLHQpfXZhciBIPXtoZXhUb1JnYjpmdW5jdGlvbih0KXt2YXIgZT1cIiNcIj09PXQuY2hhckF0KDApP3Quc3Vic3RyaW5nKDEsNyk6dDtyZXR1cm57cjpwYXJzZUludChlLnN1YnN0cmluZygwLDIpLDE2KSxnOnBhcnNlSW50KGUuc3Vic3RyaW5nKDIsNCksMTYpLGI6cGFyc2VJbnQoZS5zdWJzdHJpbmcoNCw2KSwxNil9fSxyZ2JUb0hleDpmdW5jdGlvbih0KXtyZXR1cm5cInJnYihcIit0LnIrXCIsIFwiK3QuZytcIiwgXCIrdC5iK1wiKVwifSxnZXRIZXgxNkZyb21QYXJ0aWNsZTpmdW5jdGlvbih0KXtyZXR1cm4gNjU1MzYqTnVtYmVyKHQucmdiLnIpKzI1NipOdW1iZXIodC5yZ2IuZykrTnVtYmVyKHQucmdiLmIpfX0scT0odChHLFt7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yPXQsdGhpcy50aGE9ZSx0aGlzfX0se2tleTpcInNldFJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yPXQsdGhpc319LHtrZXk6XCJzZXRUaGFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGE9dCx0aGlzfX0se2tleTpcImNvcHlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yPXQucix0aGlzLnRoYT10LnRoYSx0aGlzfX0se2tleTpcInRvVmVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEYodGhpcy5nZXRYKCksdGhpcy5nZXRZKCkpfX0se2tleTpcImdldFhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnIqTWF0aC5zaW4odGhpcy50aGEpfX0se2tleTpcImdldFlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybi10aGlzLnIqTWF0aC5jb3ModGhpcy50aGEpfX0se2tleTpcIm5vcm1hbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucj0xLHRoaXN9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucj09PXRoaXMuciYmdC50aGE9PT10aGlzLnRoYX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucj0wLHRoaXMudGhhPTAsdGhpc319LHtrZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBHKHRoaXMucix0aGlzLnRoYSl9fV0pLEcpO2Z1bmN0aW9uIEcodCxlKXtzKHRoaXMsRyksdGhpcy5yPU1hdGguYWJzKHQpfHwwLHRoaXMudGhhPWV8fDB9dmFyIFg9e2NyZWF0ZTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgRmxvYXQzMkFycmF5KDkpO3JldHVybiB0JiZ0aGlzLnNldCh0LGUpLGV9LHNldDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8OTtpKyspZVtpXT10W2ldO3JldHVybiBlfSxtdWx0aXBseTpmdW5jdGlvbih0LGUsaSl7dmFyIGE9dFswXSxyPXRbMV0sbj10WzJdLHM9dFszXSxvPXRbNF0saD10WzZdLGw9dFs3XSx1PWVbMF0sYz1lWzFdLGQ9ZVsyXSx5PWVbM10scD1lWzRdLGY9ZVs2XSx2PWVbN107cmV0dXJuIGlbMF09dSphK2MqcyxpWzFdPXUqcitjKm8saVsyXT1uKmQsaVszXT15KmErcCpzLGlbNF09eSpyK3AqbyxpWzZdPWYqYSt2KnMraCxpWzddPWYqcit2Km8rbCxpfSxpbnZlcnNlOmZ1bmN0aW9uKHQsZSl7dmFyIGksYT10WzBdLHI9dFsxXSxuPXRbM10scz10WzRdLG89dFs2XSxoPXRbN10sbD1zLHU9LW4sYz1oKm4tcypvO3JldHVybiBpPTEvKGEqbCtyKnUpLGVbMF09bCppLGVbMV09LXIqaSxlWzNdPXUqaSxlWzRdPWEqaSxlWzZdPWMqaSxlWzddPSgtaCphK3IqbykqaSxlfSxtdWx0aXBseVZlYzI6ZnVuY3Rpb24odCxlLGkpe3ZhciBhPWVbMF0scj1lWzFdO3JldHVybiBpWzBdPWEqdFswXStyKnRbM10rdFs2XSxpWzFdPWEqdFsxXStyKnRbNF0rdFs3XSxpfX0sWT0ocihXLG4pLHQoVyxbe2tleTpcImdldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1QLmdldFJhbmRGcm9tQXJyYXkodGhpcy5fYXJyKTtyZXR1cm5cInJhbmRvbVwiPT09dHx8XCJSYW5kb21cIj09PXQ/aC5yYW5kb21Db2xvcigpOnR9fV0sW3trZXk6XCJjcmVhdGVBcnJheVNwYW5cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD90IGluc3RhbmNlb2YgVz90Om5ldyBXKHQpOm51bGx9fV0pLFcpO2Z1bmN0aW9uIFcodCl7cyh0aGlzLFcpO3ZhciBlPWwodGhpcywoVy5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihXKSkuY2FsbCh0aGlzKSk7cmV0dXJuIGUuX2Fycj1QLnRvQXJyYXkodCksZX12YXIgWj0odChRLFt7a2V5OlwiY29udGFpbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0PD10aGlzLnJpZ2h0JiZ0Pj10aGlzLngmJmU8PXRoaXMuYm90dG9tJiZlPj10aGlzLnl9fV0pLFEpO2Z1bmN0aW9uIFEodCxlLGksYSl7cyh0aGlzLFEpLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1hLHRoaXMuYm90dG9tPXRoaXMueSt0aGlzLmhlaWdodCx0aGlzLnJpZ2h0PXRoaXMueCt0aGlzLndpZHRofXZhciBLPSh0KEosW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXJ0VGltZT0wLHRoaXMubmV4dFRpbWU9dGhpcy50aW1lUGFuLmdldFZhbHVlKCl9fSx7a2V5OlwiZ2V0VmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFydFRpbWUrPXQsdGhpcy5zdGFydFRpbWU+PXRoaXMubmV4dFRpbWU/KHRoaXMuc3RhcnRUaW1lPTAsdGhpcy5uZXh0VGltZT10aGlzLnRpbWVQYW4uZ2V0VmFsdWUoKSwxPT09dGhpcy5udW1QYW4uYj8uNTx0aGlzLm51bVBhbi5nZXRWYWx1ZSghMSk/MTowOnRoaXMubnVtUGFuLmdldFZhbHVlKCEwKSk6MH19XSksSik7ZnVuY3Rpb24gSih0LGUpe3ModGhpcyxKKSx0aGlzLm51bVBhbj1uLnNldFNwYW5WYWx1ZShQLmluaXRWYWx1ZSh0LDEpKSx0aGlzLnRpbWVQYW49bi5zZXRTcGFuVmFsdWUoUC5pbml0VmFsdWUoZSwxKSksdGhpcy5zdGFydFRpbWU9MCx0aGlzLm5leHRUaW1lPTAsdGhpcy5pbml0KCl9dmFyICQ9KHQodHQsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2U/dGhpcy5pbml0aWFsaXplKGUpOnRoaXMuaW5pdGlhbGl6ZSh0KX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fV0pLHR0KTtmdW5jdGlvbiB0dCgpe3ModGhpcyx0dCl9dmFyIGV0PShyKGl0LCQpLHQoaXQsW3trZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5saWZlUGFuLmE9PT0xLzA/dC5saWZlPTEvMDp0LmxpZmU9dGhpcy5saWZlUGFuLmdldFZhbHVlKCl9fV0pLGl0KTtmdW5jdGlvbiBpdCh0LGUsaSl7cyh0aGlzLGl0KTt2YXIgYT1sKHRoaXMsKGl0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGl0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIGEubGlmZVBhbj1uLnNldFNwYW5WYWx1ZSh0LGUsaSksYS5uYW1lPVwiTGlmZVwiLGF9dmFyIGF0PSh0KHJ0LFt7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJjcm9zc2luZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSxydCk7ZnVuY3Rpb24gcnQoKXtzKHRoaXMscnQpLHRoaXMudmVjdG9yPW5ldyBGKDAsMCksdGhpcy5yYW5kb209MCx0aGlzLmNyb3NzVHlwZT1cImRlYWRcIix0aGlzLmFsZXJ0PSEwfXZhciBudD0ocihzdCxhdCksdChzdCxbe2tleTpcImdldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZWN0b3IueD10aGlzLngsdGhpcy52ZWN0b3IueT10aGlzLnksdGhpcy52ZWN0b3J9fSx7a2V5OlwiY3Jvc3NpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYWxlcnQmJihjb25zb2xlLmVycm9yKFwiU29ycnksIFBvaW50Wm9uZSBkb2VzIG5vdCBzdXBwb3J0IGNyb3NzaW5nIG1ldGhvZCFcIiksdGhpcy5hbGVydD0hMSl9fV0pLHN0KTtmdW5jdGlvbiBzdCh0LGUpe3ModGhpcyxzdCk7dmFyIGk9bCh0aGlzLChzdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihzdCkpLmNhbGwodGhpcykpO3JldHVybiBpLng9dCxpLnk9ZSxpfXZhciBvdD0ocihodCwkKSx0KGh0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnpvbmU9UC5pbml0VmFsdWUodCxuZXcgbnQpfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnpvbmUuZ2V0UG9zaXRpb24oKSx0LnAueD10aGlzLnpvbmUudmVjdG9yLngsdC5wLnk9dGhpcy56b25lLnZlY3Rvci55fX1dKSxodCk7ZnVuY3Rpb24gaHQodCl7cyh0aGlzLGh0KTt2YXIgZT1sKHRoaXMsKGh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGh0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIGUuem9uZT1QLmluaXRWYWx1ZSh0LG5ldyBudCksZS5uYW1lPVwiUG9zaXRpb25cIixlfXZhciBsdD0ocih1dCwkKSx0KHV0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5yUGFuPW4uc2V0U3BhblZhbHVlKHQpLHRoaXMudGhhUGFuPW4uc2V0U3BhblZhbHVlKGUpLHRoaXMudHlwZT1QLmluaXRWYWx1ZShpLFwidmVjdG9yXCIpfX0se2tleTpcIm5vcm1hbGl6ZVZlbG9jaXR5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQqVi5NRUFTVVJFfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihcInBcIj09PXRoaXMudHlwZXx8XCJQXCI9PT10aGlzLnR5cGV8fFwicG9sYXJcIj09PXRoaXMudHlwZSl7dmFyIGU9bmV3IHEodGhpcy5ub3JtYWxpemVWZWxvY2l0eSh0aGlzLnJQYW4uZ2V0VmFsdWUoKSksdGhpcy50aGFQYW4uZ2V0VmFsdWUoKSpoLlBJXzE4MCk7dC52Lng9ZS5nZXRYKCksdC52Lnk9ZS5nZXRZKCl9ZWxzZSB0LnYueD10aGlzLm5vcm1hbGl6ZVZlbG9jaXR5KHRoaXMuclBhbi5nZXRWYWx1ZSgpKSx0LnYueT10aGlzLm5vcm1hbGl6ZVZlbG9jaXR5KHRoaXMudGhhUGFuLmdldFZhbHVlKCkpfX1dKSx1dCk7ZnVuY3Rpb24gdXQodCxlLGkpe3ModGhpcyx1dCk7dmFyIGE9bCh0aGlzLCh1dC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih1dCkpLmNhbGwodGhpcykpO3JldHVybiBhLnJQYW49bi5zZXRTcGFuVmFsdWUodCksYS50aGFQYW49bi5zZXRTcGFuVmFsdWUoZSksYS50eXBlPVAuaW5pdFZhbHVlKGksXCJ2ZWN0b3JcIiksYS5uYW1lPVwiVmVsb2NpdHlcIixhfXZhciBjdD0ocihkdCwkKSx0KGR0LFt7a2V5OlwiaW5pdGlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QubWFzcz10aGlzLm1hc3NQYW4uZ2V0VmFsdWUoKX19XSksZHQpO2Z1bmN0aW9uIGR0KHQsZSxpKXtzKHRoaXMsZHQpO3ZhciBhPWwodGhpcywoZHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZHQpKS5jYWxsKHRoaXMpKTtyZXR1cm4gYS5tYXNzUGFuPW4uc2V0U3BhblZhbHVlKHQsZSxpKSxhLm5hbWU9XCJNYXNzXCIsYX12YXIgeXQ9KHIocHQsJCksdChwdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMucmFkaXVzPW4uc2V0U3BhblZhbHVlKHQsZSxpKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5yYWRpdXM9dGhpcy5yYWRpdXMuZ2V0VmFsdWUoKSx0LmRhdGEub2xkUmFkaXVzPXQucmFkaXVzfX1dKSxwdCk7ZnVuY3Rpb24gcHQodCxlLGkpe3ModGhpcyxwdCk7dmFyIGE9bCh0aGlzLChwdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihwdCkpLmNhbGwodGhpcykpO3JldHVybiBhLnJhZGl1cz1uLnNldFNwYW5WYWx1ZSh0LGUsaSksYS5uYW1lPVwiUmFkaXVzXCIsYX12YXIgZnQ9KHIodnQsJCksdCh2dCxbe2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmltYWdlLmdldFZhbHVlKCk7dC5ib2R5PVwic3RyaW5nXCI9PXR5cGVvZiBlP3t3aWR0aDp0aGlzLncsaGVpZ2h0OnRoaXMuaCxzcmM6ZSxpc0lubmVyOiEwLGlubmVyOiEwfTplfX0se2tleTpcInNldFNwYW5WYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgWT90Om5ldyBZKHQpfX1dKSx2dCk7ZnVuY3Rpb24gdnQodCxlLGkpe3ModGhpcyx2dCk7dmFyIGE9bCh0aGlzLCh2dC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih2dCkpLmNhbGwodGhpcykpO3JldHVybiBhLmltYWdlPWEuc2V0U3BhblZhbHVlKHQpLGEudz1QLmluaXRWYWx1ZShlLDIwKSxhLmg9UC5pbml0VmFsdWUoaSxhLncpLGEubmFtZT1cIkJvZHlcIixhfXZhciBndD0odChtdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmxpZmU9UC5pbml0VmFsdWUodCwxLzApLHRoaXMuZWFzaW5nPVUuZ2V0RWFzaW5nKGUpfX0se2tleTpcIm5vcm1hbGl6ZUZvcmNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubXVsdGlwbHlTY2FsYXIoVi5NRUFTVVJFKX19LHtrZXk6XCJub3JtYWxpemVWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0KlYuTUVBU1VSRX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiY2FsY3VsYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmFnZSs9ZSx0aGlzLmFnZT49dGhpcy5saWZlfHx0aGlzLmRlYWQpdGhpcy5lbmVyZ3k9MCx0aGlzLmRlYWQ9ITAsdGhpcy5kZXN0cm95KCk7ZWxzZXt2YXIgaT10aGlzLmVhc2luZyh0LmFnZS90LmxpZmUpO3RoaXMuZW5lcmd5PU1hdGgubWF4KDEtaSwwKX19fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGFyZW50cy5sZW5ndGg7dC0tOyl0aGlzLnBhcmVudHNbdF0ucmVtb3ZlQmVoYXZpb3VyKHRoaXMpO3RoaXMucGFyZW50cy5sZW5ndGg9MH19XSksbXQpO2Z1bmN0aW9uIG10KHQsZSl7cyh0aGlzLG10KSx0aGlzLmxpZmU9UC5pbml0VmFsdWUodCwxLzApLHRoaXMuZWFzaW5nPVUuZ2V0RWFzaW5nKGUpLHRoaXMuYWdlPTAsdGhpcy5lbmVyZ3k9MSx0aGlzLmRlYWQ9ITEsdGhpcy5wYXJlbnRzPVtdLHRoaXMuaWQ9XCJCZWhhdmlvdXJfXCIrbXQuaWQrKyx0aGlzLm5hbWU9XCJCZWhhdmlvdXJcIn1ndC5pZD0wO3ZhciBidD0ocihfdCxndCksdChfdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSl7dGhpcy5mb3JjZT10aGlzLm5vcm1hbGl6ZUZvcmNlKG5ldyBGKHQsZSkpLGkmJm8oX3QucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKF90LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxpLGEpfX0se2tleTpcImFwcGx5QmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuY2FsY3VsYXRlKHQsZSxpKSx0LmEuYWRkKHRoaXMuZm9yY2UpfX1dKSxfdCk7ZnVuY3Rpb24gX3QodCxlLGksYSl7cyh0aGlzLF90KTt2YXIgcj1sKHRoaXMsKF90Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKF90KSkuY2FsbCh0aGlzLGksYSkpO3JldHVybiByLmZvcmNlPXIubm9ybWFsaXplRm9yY2UobmV3IEYodCxlKSksci5uYW1lPVwiRm9yY2VcIixyfXZhciB4dD0ocihrdCxndCksdChrdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSxyKXt0aGlzLnRhcmdldFBvc2l0aW9uPVAuaW5pdFZhbHVlKHQsbmV3IEYpLHRoaXMucmFkaXVzPVAuaW5pdFZhbHVlKGksMWUzKSx0aGlzLmZvcmNlPVAuaW5pdFZhbHVlKHRoaXMubm9ybWFsaXplVmFsdWUoZSksMTAwKSx0aGlzLnJhZGl1c1NxPXRoaXMucmFkaXVzKnRoaXMucmFkaXVzLHRoaXMuYXR0cmFjdGlvbkZvcmNlPW5ldyBGLHRoaXMubGVuZ3RoU3E9MCxhJiZvKGt0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihrdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsYSxyKX19LHtrZXk6XCJhcHBseUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNhbGN1bGF0ZSh0LGUsaSksdGhpcy5hdHRyYWN0aW9uRm9yY2UuY29weSh0aGlzLnRhcmdldFBvc2l0aW9uKSx0aGlzLmF0dHJhY3Rpb25Gb3JjZS5zdWIodC5wKSx0aGlzLmxlbmd0aFNxPXRoaXMuYXR0cmFjdGlvbkZvcmNlLmxlbmd0aFNxKCksNGUtNTx0aGlzLmxlbmd0aFNxJiZ0aGlzLmxlbmd0aFNxPHRoaXMucmFkaXVzU3EmJih0aGlzLmF0dHJhY3Rpb25Gb3JjZS5ub3JtYWxpemUoKSx0aGlzLmF0dHJhY3Rpb25Gb3JjZS5tdWx0aXBseVNjYWxhcigxLXRoaXMubGVuZ3RoU3EvdGhpcy5yYWRpdXNTcSksdGhpcy5hdHRyYWN0aW9uRm9yY2UubXVsdGlwbHlTY2FsYXIodGhpcy5mb3JjZSksdC5hLmFkZCh0aGlzLmF0dHJhY3Rpb25Gb3JjZSkpfX1dKSxrdCk7ZnVuY3Rpb24ga3QodCxlLGksYSxyKXtzKHRoaXMsa3QpO3ZhciBuPWwodGhpcywoa3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2Yoa3QpKS5jYWxsKHRoaXMsYSxyKSk7cmV0dXJuIG4udGFyZ2V0UG9zaXRpb249UC5pbml0VmFsdWUodCxuZXcgRiksbi5yYWRpdXM9UC5pbml0VmFsdWUoaSwxZTMpLG4uZm9yY2U9UC5pbml0VmFsdWUobi5ub3JtYWxpemVWYWx1ZShlKSwxMDApLG4ucmFkaXVzU3E9bi5yYWRpdXMqbi5yYWRpdXMsbi5hdHRyYWN0aW9uRm9yY2U9bmV3IEYsbi5sZW5ndGhTcT0wLG4ubmFtZT1cIkF0dHJhY3Rpb25cIixufXZhciBQdD0ocihFdCxndCksdChFdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSxyKXt0aGlzLnBhbkZvY2U9bmV3IEYodCxlKSx0aGlzLnBhbkZvY2U9dGhpcy5ub3JtYWxpemVGb3JjZSh0aGlzLnBhbkZvY2UpLHRoaXMuZGVsYXk9aSxhJiZvKEV0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihFdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsYSxyKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5kYXRhLnRpbWU9MH19LHtrZXk6XCJhcHBseUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNhbGN1bGF0ZSh0LGUsaSksdC5kYXRhLnRpbWUrPWUsdC5kYXRhLnRpbWU+PXRoaXMuZGVsYXkmJih0LmEuYWRkWFkoaC5yYW5kb21BVG9CKC10aGlzLnBhbkZvY2UueCx0aGlzLnBhbkZvY2UueCksaC5yYW5kb21BVG9CKC10aGlzLnBhbkZvY2UueSx0aGlzLnBhbkZvY2UueSkpLHQuZGF0YS50aW1lPTApfX1dKSxFdCk7ZnVuY3Rpb24gRXQodCxlLGksYSxyKXtzKHRoaXMsRXQpO3ZhciBuPWwodGhpcywoRXQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoRXQpKS5jYWxsKHRoaXMsYSxyKSk7cmV0dXJuIG4ucmVzZXQodCxlLGkpLG4udGltZT0wLG4ubmFtZT1cIlJhbmRvbURyaWZ0XCIsbn12YXIgQXQ9KHIoVHQsYnQpLHQoVHQsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtvKFR0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihUdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsMCx0LGUsaSl9fV0pLFR0KTtmdW5jdGlvbiBUdCh0LGUsaSl7cyh0aGlzLFR0KTt2YXIgYT1sKHRoaXMsKFR0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFR0KSkuY2FsbCh0aGlzLDAsdCxlLGkpKTtyZXR1cm4gYS5uYW1lPVwiR3Jhdml0eVwiLGF9dmFyIFJ0PShyKE90LGd0KSx0KE90LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhLHIpe3RoaXMuZW1pdHRlcj1QLmluaXRWYWx1ZSh0LG51bGwpLHRoaXMubWFzcz1QLmluaXRWYWx1ZShlLCEwKSx0aGlzLmNhbGxiYWNrPVAuaW5pdFZhbHVlKGksbnVsbCksdGhpcy5jb2xsaXNpb25Qb29sPVtdLHRoaXMuZGVsdGE9bmV3IEYsYSYmbyhPdC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoT3QucHJvdG90eXBlKSxcInJlc2V0XCIsdGhpcykuY2FsbCh0aGlzLGEscil9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIGE9dGhpcy5lbWl0dGVyP3RoaXMuZW1pdHRlci5wYXJ0aWNsZXMuc2xpY2UoaSk6dGhpcy5wb29sLnNsaWNlKGkpLHI9YS5sZW5ndGgsbj12b2lkIDAscz12b2lkIDAsbz12b2lkIDAsaD12b2lkIDAsbD12b2lkIDAsdT12b2lkIDAsYz12b2lkIDA7Zm9yKGM9MDtjPHI7YysrKWlmKChuPWFbY10pIT09dCl7dGhpcy5kZWx0YS5jb3B5KG4ucCksdGhpcy5kZWx0YS5zdWIodC5wKSxzPXRoaXMuZGVsdGEubGVuZ3RoU3EoKTt2YXIgZD10LnJhZGl1cytuLnJhZGl1cztzPD1kKmQmJihvPWQtTWF0aC5zcXJ0KHMpLG8rPS41LGg9dC5tYXNzK24ubWFzcyxsPXRoaXMubWFzcz9uLm1hc3MvaDouNSx1PXRoaXMubWFzcz90Lm1hc3MvaDouNSx0LnAuYWRkKHRoaXMuZGVsdGEuY2xvbmUoKS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihvKi1sKSksbi5wLmFkZCh0aGlzLmRlbHRhLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKG8qdSkpLHRoaXMuY2FsbGJhY2smJnRoaXMuY2FsbGJhY2sodCxuKSl9fX1dKSxPdCk7ZnVuY3Rpb24gT3QodCxlLGksYSxyKXtzKHRoaXMsT3QpO3ZhciBuPWwodGhpcywoT3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoT3QpKS5jYWxsKHRoaXMsYSxyKSk7cmV0dXJuIG4ucmVzZXQodCxlLGkpLG4ubmFtZT1cIkNvbGxpc2lvblwiLG59dmFyIHd0PShyKEN0LGd0KSx0KEN0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhKXt0aGlzLnpvbmU9dCx0aGlzLnpvbmUuY3Jvc3NUeXBlPVAuaW5pdFZhbHVlKGUsXCJkZWFkXCIpLGkmJm8oQ3QucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEN0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxpLGEpfX0se2tleTpcImFwcGx5QmVoYXZpb3VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuY2FsY3VsYXRlKHQsZSxpKSx0aGlzLnpvbmUuY3Jvc3NpbmcodCl9fV0pLEN0KTtmdW5jdGlvbiBDdCh0LGUsaSxhKXtzKHRoaXMsQ3QpO3ZhciByPWwodGhpcywoQ3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ3QpKS5jYWxsKHRoaXMsaSxhKSk7cmV0dXJuIHIucmVzZXQodCxlKSxyLm5hbWU9XCJDcm9zc1pvbmVcIixyfXZhciBTdD0ocihJdCxndCksdChJdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSl7dGhpcy5zYW1lPW51bGw9PWUsdGhpcy5hPW4uc2V0U3BhblZhbHVlKFAuaW5pdFZhbHVlKHQsMSkpLHRoaXMuYj1uLnNldFNwYW5WYWx1ZShlKSxpJiZvKEl0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihJdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsaSxhKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5kYXRhLmFscGhhQT10aGlzLmEuZ2V0VmFsdWUoKSx0aGlzLnNhbWU/dC5kYXRhLmFscGhhQj10LmRhdGEuYWxwaGFBOnQuZGF0YS5hbHBoYUI9dGhpcy5iLmdldFZhbHVlKCl9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5jYWxjdWxhdGUodCxlLGkpLHQuYWxwaGE9dC5kYXRhLmFscGhhQisodC5kYXRhLmFscGhhQS10LmRhdGEuYWxwaGFCKSp0aGlzLmVuZXJneSx0LmFscGhhPC4wMDEmJih0LmFscGhhPTApfX1dKSxJdCk7ZnVuY3Rpb24gSXQodCxlLGksYSl7cyh0aGlzLEl0KTt2YXIgcj1sKHRoaXMsKEl0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEl0KSkuY2FsbCh0aGlzLGksYSkpO3JldHVybiByLnJlc2V0KHQsZSksci5uYW1lPVwiQWxwaGFcIixyfXZhciBEdD0ocihWdCxndCksdChWdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSl7dGhpcy5zYW1lPW51bGw9PWUsdGhpcy5hPW4uc2V0U3BhblZhbHVlKFAuaW5pdFZhbHVlKHQsMSkpLHRoaXMuYj1uLnNldFNwYW5WYWx1ZShlKSxpJiZvKFZ0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihWdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsaSxhKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5kYXRhLnNjYWxlQT10aGlzLmEuZ2V0VmFsdWUoKSx0LmRhdGEub2xkUmFkaXVzPXQucmFkaXVzLHQuZGF0YS5zY2FsZUI9dGhpcy5zYW1lP3QuZGF0YS5zY2FsZUE6dGhpcy5iLmdldFZhbHVlKCl9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5jYWxjdWxhdGUodCxlLGkpLHQuc2NhbGU9dC5kYXRhLnNjYWxlQisodC5kYXRhLnNjYWxlQS10LmRhdGEuc2NhbGVCKSp0aGlzLmVuZXJneSx0LnNjYWxlPDFlLTQmJih0LnNjYWxlPTApLHQucmFkaXVzPXQuZGF0YS5vbGRSYWRpdXMqdC5zY2FsZX19XSksVnQpO2Z1bmN0aW9uIFZ0KHQsZSxpLGEpe3ModGhpcyxWdCk7dmFyIHI9bCh0aGlzLChWdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihWdCkpLmNhbGwodGhpcyxpLGEpKTtyZXR1cm4gci5yZXNldCh0LGUpLHIubmFtZT1cIlNjYWxlXCIscn12YXIgTXQ9KHIoQnQsZ3QpLHQoQnQsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLGEscil7dGhpcy5zYW1lPW51bGw9PWUsdGhpcy5hPW4uc2V0U3BhblZhbHVlKFAuaW5pdFZhbHVlKHQsXCJWZWxvY2l0eVwiKSksdGhpcy5iPW4uc2V0U3BhblZhbHVlKFAuaW5pdFZhbHVlKGUsMCkpLHRoaXMuc3R5bGU9UC5pbml0VmFsdWUoaSxcInRvXCIpLGEmJm8oQnQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJ0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxhLHIpfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnJvdGF0aW9uPXRoaXMuYS5nZXRWYWx1ZSgpLHQuZGF0YS5yb3RhdGlvbkE9dGhpcy5hLmdldFZhbHVlKCksdGhpcy5zYW1lfHwodC5kYXRhLnJvdGF0aW9uQj10aGlzLmIuZ2V0VmFsdWUoKSl9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5jYWxjdWxhdGUodCxlLGkpLHRoaXMuc2FtZT9cIlZcIiE9PXRoaXMuYS5hJiZcIlZlbG9jaXR5XCIhPT10aGlzLmEuYSYmXCJ2XCIhPT10aGlzLmEuYXx8KHQucm90YXRpb249dC5nZXREaXJlY3Rpb24oKSk6XCJ0b1wiPT09dGhpcy5zdHlsZXx8XCJUT1wiPT09dGhpcy5zdHlsZXx8XCJfXCI9PT10aGlzLnN0eWxlP3Qucm90YXRpb24rPXQuZGF0YS5yb3RhdGlvbkIrKHQuZGF0YS5yb3RhdGlvbkEtdC5kYXRhLnJvdGF0aW9uQikqdGhpcy5lbmVyZ3k6dC5yb3RhdGlvbis9dC5kYXRhLnJvdGF0aW9uQn19XSksQnQpO2Z1bmN0aW9uIEJ0KHQsZSxpLGEscil7cyh0aGlzLEJ0KTt2YXIgbj1sKHRoaXMsKEJ0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEJ0KSkuY2FsbCh0aGlzLGEscikpO3JldHVybiBuLnJlc2V0KHQsZSxpKSxuLm5hbWU9XCJSb3RhdGVcIixufXZhciBMdD0ocihVdCxndCksdChVdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSl7dGhpcy5hPVkuY3JlYXRlQXJyYXlTcGFuKHQpLHRoaXMuYj1ZLmNyZWF0ZUFycmF5U3BhbihlKSxpJiZvKFV0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihVdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsaSxhKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5jb2xvcj10aGlzLmEuZ2V0VmFsdWUoKSx0LmRhdGEuY29sb3JBPUguaGV4VG9SZ2IodC5jb2xvciksdGhpcy5iJiYodC5kYXRhLmNvbG9yQj1ILmhleFRvUmdiKHRoaXMuYi5nZXRWYWx1ZSgpKSl9fSx7a2V5OlwiYXBwbHlCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5iPyh0aGlzLmNhbGN1bGF0ZSh0LGUsaSksdC5yZ2Iucj10LmRhdGEuY29sb3JCLnIrKHQuZGF0YS5jb2xvckEuci10LmRhdGEuY29sb3JCLnIpKnRoaXMuZW5lcmd5LHQucmdiLmc9dC5kYXRhLmNvbG9yQi5nKyh0LmRhdGEuY29sb3JBLmctdC5kYXRhLmNvbG9yQi5nKSp0aGlzLmVuZXJneSx0LnJnYi5iPXQuZGF0YS5jb2xvckIuYisodC5kYXRhLmNvbG9yQS5iLXQuZGF0YS5jb2xvckIuYikqdGhpcy5lbmVyZ3ksdC5yZ2Iucj1NYXRoLmZsb29yKHQucmdiLnIpLHQucmdiLmc9TWF0aC5mbG9vcih0LnJnYi5nKSx0LnJnYi5iPU1hdGguZmxvb3IodC5yZ2IuYikpOih0LnJnYi5yPXQuZGF0YS5jb2xvckEucix0LnJnYi5nPXQuZGF0YS5jb2xvckEuZyx0LnJnYi5iPXQuZGF0YS5jb2xvckEuYil9fV0pLFV0KTtmdW5jdGlvbiBVdCh0LGUsaSxhKXtzKHRoaXMsVXQpO3ZhciByPWwodGhpcywoVXQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoVXQpKS5jYWxsKHRoaXMsaSxhKSk7cmV0dXJuIHIucmVzZXQodCxlKSxyLm5hbWU9XCJDb2xvclwiLHJ9dmFyIEZ0PVwiY2hhbmdpbmdcIix6dD0ocihqdCxndCksdChqdCxbe2tleTpcInNldEFuZ2xlQW5kRm9yY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZm9yY2U9RnQsdGhpcy5hbmdsZT1oLlBJLzIsXCJyaWdodFwiPT09dD90aGlzLmFuZ2xlPWguUEkvMjpcImxlZnRcIj09PXQ/dGhpcy5hbmdsZT0taC5QSS8yOlwicmFuZG9tXCI9PT10P3RoaXMuYW5nbGU9XCJyYW5kb21cIjp0IGluc3RhbmNlb2Ygbj8odGhpcy5hbmdsZT1cInNwYW5cIix0aGlzLnNwYW49dCk6dCYmKHRoaXMuYW5nbGU9dCksXCJjaGFuZ2luZ1wiPT09U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCl8fFwiY2hhbmdcIj09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpfHxcImF1dG9cIj09PVN0cmluZyhlKS50b0xvd2VyQ2FzZSgpP3RoaXMuZm9yY2U9RnQ6ZSYmKHRoaXMuZm9yY2U9ZSl9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhKXt0aGlzLmFuZ2xlPWguUEkvMix0aGlzLnNldEFuZ2xlQW5kRm9yY2UodCxlKSxpJiZvKGp0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihqdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsaSxhKX19LHtrZXk6XCJpbml0aWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7XCJyYW5kb21cIj09PXRoaXMuYW5nbGU/dC5kYXRhLmNhbmdsZT1oLnJhbmRvbUFUb0IoLWguUEksaC5QSSk6XCJzcGFuXCI9PT10aGlzLmFuZ2xlJiYodC5kYXRhLmNhbmdsZT10aGlzLnNwYW4uZ2V0VmFsdWUoKSksdC5kYXRhLmN5Y2xvbmU9bmV3IEYoMCwwKX19LHtrZXk6XCJhcHBseUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmNhbGN1bGF0ZSh0LGUsaSk7dmFyIGE9dm9pZCAwLHI9dC52LmdldEdyYWRpZW50KCk7XCJyYW5kb21cIj09PXRoaXMuYW5nbGV8fFwic3BhblwiPT09dGhpcy5hbmdsZT9yKz10LmRhdGEuY2FuZ2xlOnIrPXRoaXMuYW5nbGUsYT10aGlzLmZvcmNlPT09RnQ/dC52Lmxlbmd0aCgpLzEwMDp0aGlzLmZvcmNlLHQuZGF0YS5jeWNsb25lLng9YSpNYXRoLmNvcyhyKSx0LmRhdGEuY3ljbG9uZS55PWEqTWF0aC5zaW4ociksdC5kYXRhLmN5Y2xvbmU9dGhpcy5ub3JtYWxpemVGb3JjZSh0LmRhdGEuY3ljbG9uZSksdC5hLmFkZCh0LmRhdGEuY3ljbG9uZSl9fV0pLGp0KTtmdW5jdGlvbiBqdCh0LGUsaSxhKXtzKHRoaXMsanQpO3ZhciByPWwodGhpcywoanQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoanQpKS5jYWxsKHRoaXMsaSxhKSk7cmV0dXJuIHIuc2V0QW5nbGVBbmRGb3JjZSh0LGUpLHIubmFtZT1cIkN5Y2xvbmVcIixyfXZhciBOdD0ocihIdCx4dCksdChIdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSxyKXtvKEh0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihIdC5wcm90b3R5cGUpLFwicmVzZXRcIix0aGlzKS5jYWxsKHRoaXMsdCxlLGksYSxyKSx0aGlzLmZvcmNlKj0tMX19XSksSHQpO2Z1bmN0aW9uIEh0KHQsZSxpLGEscil7cyh0aGlzLEh0KTt2YXIgbj1sKHRoaXMsKEh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEh0KSkuY2FsbCh0aGlzLHQsZSxpLGEscikpO3JldHVybiBuLmZvcmNlKj0tMSxuLm5hbWU9XCJSZXB1bHNpb25cIixufXZhciBxdD0ocihHdCxndCksdChHdCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSl7dGhpcy5kaXN0YW5jZVZlYz1uZXcgRix0aGlzLmNlbnRlclBvaW50PVAuaW5pdFZhbHVlKHQsbmV3IEYpLHRoaXMuZm9yY2U9UC5pbml0VmFsdWUodGhpcy5ub3JtYWxpemVWYWx1ZShlKSwxMDApLGkmJm8oR3QucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEd0LnByb3RvdHlwZSksXCJyZXNldFwiLHRoaXMpLmNhbGwodGhpcyxpLGEpfX0se2tleTpcImluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJhcHBseUJlaGF2aW91clwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5kaXN0YW5jZVZlYy5zZXQodGhpcy5jZW50ZXJQb2ludC54LXQucC54LHRoaXMuY2VudGVyUG9pbnQueS10LnAueSk7dmFyIGk9dGhpcy5kaXN0YW5jZVZlYy5sZW5ndGhTcSgpO2lmKDAhPT1pKXt2YXIgYT10aGlzLmRpc3RhbmNlVmVjLmxlbmd0aCgpLHI9dGhpcy5mb3JjZSplLyhpKmEpO3Qudi54Kz1yKnRoaXMuZGlzdGFuY2VWZWMueCx0LnYueSs9cip0aGlzLmRpc3RhbmNlVmVjLnl9fX1dKSxHdCk7ZnVuY3Rpb24gR3QodCxlLGksYSl7cyh0aGlzLEd0KTt2YXIgcj1sKHRoaXMsKEd0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEd0KSkuY2FsbCh0aGlzLGksYSkpO3JldHVybiByLmRpc3RhbmNlVmVjPW5ldyBGLHIuY2VudGVyUG9pbnQ9UC5pbml0VmFsdWUodCxuZXcgRiksci5mb3JjZT1QLmluaXRWYWx1ZShyLm5vcm1hbGl6ZVZhbHVlKGUpLDEwMCksci5uYW1lPVwiR3Jhdml0eVdlbGxcIixyfXZhciBYdD17aW5pdGlhbGl6ZTpmdW5jdGlvbih0LGUsaSl7dmFyIGE9aS5sZW5ndGgscj12b2lkIDA7Zm9yKHI9MDtyPGE7cisrKWlbcl1pbnN0YW5jZW9mICQ/aVtyXS5pbml0KHQsZSk6dGhpcy5pbml0KHQsZSxpW3JdKTt0aGlzLmJpbmRFbWl0dGVyKHQsZSl9LGluaXQ6ZnVuY3Rpb24odCxlLGkpe1Auc2V0UHJvcChlLGkpLFAuc2V0VmVjdG9yVmFsKGUsaSl9LGJpbmRFbWl0dGVyOmZ1bmN0aW9uKHQsZSl7dC5iaW5kRW1pdHRlciYmKGUucC5hZGQodC5wKSxlLnYuYWRkKHQudiksZS5hLmFkZCh0LmEpLGUudi5yb3RhdGUoaC5kZWdyZWVUcmFuc2Zvcm0odC5yb3RhdGlvbikpKX19LFl0PShyKFd0LGopLHQoV3QsW3trZXk6XCJlbWl0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnN0b3BlZD0hMSx0aGlzLmVtaXRUaW1lPTAsdGhpcy50b3RhbFRpbWU9UC5pbml0VmFsdWUodCwxLzApLCEwPT09ZXx8XCJsaWZlXCI9PT1lfHxcImRlc3Ryb3lcIj09PWU/dGhpcy5saWZlPVwib25jZVwiPT09dD8xOnRoaXMudG90YWxUaW1lOmlzTmFOKGUpfHwodGhpcy5saWZlPWUpLHRoaXMucmF0ZS5pbml0KCl9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50b3RhbFRpbWU9LTEsdGhpcy5lbWl0VGltZT0wLHRoaXMuc3RvcGVkPSEwfX0se2tleTpcInByZUVtaXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3BlZCxpPXRoaXMuZW1pdFRpbWUsYT10aGlzLnRvdGFsVGltZTtmb3IodGhpcy5zdG9wZWQ9ITEsdGhpcy5lbWl0VGltZT0wLHRoaXMudG90YWxUaW1lPXQsdGhpcy5yYXRlLmluaXQoKTsuMDE2Nzx0Oyl0LT0uMDE2Nyx0aGlzLnVwZGF0ZSguMDE2Nyk7dGhpcy5zdG9wZWQ9ZSx0aGlzLmVtaXRUaW1lPWkrTWF0aC5tYXgodCwwKSx0aGlzLnRvdGFsVGltZT1hfX0se2tleTpcInJlbW92ZUFsbFBhcnRpY2xlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMucGFydGljbGVzLmxlbmd0aDt0LS07KXRoaXMucGFydGljbGVzW3RdLmRlYWQ9ITB9fSx7a2V5OlwiYWRkU2VsZkluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmluaXQ/dC5pbml0KHRoaXMpOnRoaXMuaW5pdEFsbCgpfX0se2tleTpcImFkZEluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT1hcmd1bWVudHNbaV07Zm9yKHZhciBhPWUubGVuZ3RoO2EtLTspdGhpcy5pbml0aWFsaXplcy5wdXNoKGVbYV0pfX0se2tleTpcInJlbW92ZUluaXRpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmluaXRpYWxpemVzLmluZGV4T2YodCk7LTE8ZSYmdGhpcy5pbml0aWFsaXplcy5zcGxpY2UoZSwxKX19LHtrZXk6XCJyZW1vdmVBbGxJbml0aWFsaXplcnNcIix2YWx1ZTpmdW5jdGlvbigpe1AuZW1wdHlBcnJheSh0aGlzLmluaXRpYWxpemVzKX19LHtrZXk6XCJhZGRCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT1hcmd1bWVudHNbaV07Zm9yKHZhciBhPWFyZ3VtZW50cy5sZW5ndGg7YS0tOyl7dmFyIHI9ZVthXTt0aGlzLmJlaGF2aW91cnMucHVzaChyKSxyLnBhcmVudHMmJnIucGFyZW50cy5wdXNoKHRoaXMpfX19LHtrZXk6XCJyZW1vdmVCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJlaGF2aW91cnMuaW5kZXhPZih0KTtyZXR1cm4gdGhpcy5iZWhhdmlvdXJzLnNwbGljZShlLDEpLHQucGFyZW50cyYmKGU9dC5wYXJlbnRzLmluZGV4T2YodCksdC5wYXJlbnRzLnNwbGljZShlLDEpKSxlfX0se2tleTpcInJlbW92ZUFsbEJlaGF2aW91cnNcIix2YWx1ZTpmdW5jdGlvbigpe1AuZW1wdHlBcnJheSh0aGlzLmJlaGF2aW91cnMpfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYWdlKz10LCh0aGlzLmFnZT49dGhpcy5saWZlfHx0aGlzLmRlYWQpJiZ0aGlzLmRlc3Ryb3koKSx0aGlzLmVtaXR0aW5nKHQpLHRoaXMuaW50ZWdyYXRlKHQpfX0se2tleTpcImludGVncmF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMucGFyZW50KXt2YXIgZT0xLXRoaXMuZGFtcGluZzt0aGlzLnBhcmVudC5pbnRlZ3JhdG9yLmNhbGN1bGF0ZSh0aGlzLHQsZSk7dmFyIGk9dm9pZCAwLGE9dm9pZCAwO2ZvcihpPXRoaXMucGFydGljbGVzLmxlbmd0aC0xOzA8PWk7aS0tKShhPXRoaXMucGFydGljbGVzW2ldKS51cGRhdGUodCxpKSx0aGlzLnBhcmVudC5pbnRlZ3JhdG9yLmNhbGN1bGF0ZShhLHQsZSksdGhpcy5kaXNwYXRjaChcIlBBUlRJQ0xFX1VQREFURVwiLGEpLGEuZGVhZCYmKHRoaXMuZGlzcGF0Y2goXCJQQVJUSUNMRV9ERUFEXCIsYSksdGhpcy5wYXJlbnQucG9vbC5leHBpcmUoYSksdGhpcy5wYXJ0aWNsZXMuc3BsaWNlKGksMSkpfX19LHtrZXk6XCJkaXNwYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmRpc3BhdGNoRXZlbnQodCxlKSx0aGlzLmJpbmRFdmVudCYmdGhpcy5kaXNwYXRjaEV2ZW50KHQsZSl9fSx7a2V5OlwiZW1pdHRpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihcIm9uY2VcIj09PXRoaXMudG90YWxUaW1lKXt2YXIgZT12b2lkIDAsaT10aGlzLnJhdGUuZ2V0VmFsdWUoOTk5OTkpO2ZvcigwPGkmJih0aGlzLmVtaXRTcGVlZD1pKSxlPTA7ZTxpO2UrKyl0aGlzLmNyZWF0ZVBhcnRpY2xlKCk7dGhpcy50b3RhbFRpbWU9XCJub25lXCJ9ZWxzZSBpZih0aGlzLmVtaXRUaW1lKz10LHRoaXMuZW1pdFRpbWU8dGhpcy50b3RhbFRpbWUpe3ZhciBhPXRoaXMucmF0ZS5nZXRWYWx1ZSh0KSxyPXZvaWQgMDtmb3IoMDxhJiYodGhpcy5lbWl0U3BlZWQ9YSkscj0wO3I8YTtyKyspdGhpcy5jcmVhdGVQYXJ0aWNsZSgpfX19LHtrZXk6XCJjcmVhdGVQYXJ0aWNsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5wYXJlbnQucG9vbC5nZXQoaik7cmV0dXJuIHRoaXMuc2V0dXBQYXJ0aWNsZShpLHQsZSksdGhpcy5kaXNwYXRjaChcIlBBUlRJQ0xFX0NSRUFURURcIixpKSxpfX0se2tleTpcInNldHVwUGFydGljbGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIGE9dGhpcy5pbml0aWFsaXplcyxyPXRoaXMuYmVoYXZpb3VycztlJiYoYT1QLnRvQXJyYXkoZSkpLGkmJihyPVAudG9BcnJheShpKSksdC5yZXNldCgpLFh0LmluaXRpYWxpemUodGhpcyx0LGEpLHQuYWRkQmVoYXZpb3VycyhyKSwodC5wYXJlbnQ9dGhpcykucGFydGljbGVzLnB1c2godCl9fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKSxQLmRlc3Ryb3lBbGwodGhpcy5wYXJ0aWNsZXMpfX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGVhZD0hMCx0aGlzLnJlbW92ZSgpLHRoaXMucmVtb3ZlQWxsSW5pdGlhbGl6ZXJzKCksdGhpcy5yZW1vdmVBbGxCZWhhdmlvdXJzKCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LnJlbW92ZUVtaXR0ZXIodGhpcyl9fV0pLFd0KTtmdW5jdGlvbiBXdCgpe3ZhciB0PTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtzKHRoaXMsV3QpO3ZhciBlPWwodGhpcywoV3QuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoV3QpKS5jYWxsKHRoaXMsdCkpO3JldHVybiBlLnBhcnRpY2xlcz1bXSxlLmJlaGF2aW91cnM9W10sZS5pbml0aWFsaXplcz1bXSxlLmVtaXRUaW1lPTAsZS5lbWl0U3BlZWQ9MCxlLnRvdGFsVGltZT0tMSxlLmRhbXBpbmc9LjAwNixlLmJpbmRFbWl0dGVyPSEwLGUucmF0ZT1uZXcgSygxLC4xKSxlLm5hbWU9XCJFbWl0dGVyXCIsZS5pZD1BLmlkKGUubmFtZSksZX1DLmJpbmQoWXQpO3ZhciBadD0ocihRdCxZdCksdChRdCxbe2tleTpcImFkZFNlbGZCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT1hcmd1bWVudHNbaV07dmFyIGE9dm9pZCAwLHI9ZS5sZW5ndGg7Zm9yKGE9MDthPHI7YSsrKXt2YXIgbj1lW2FdO3RoaXMuc2VsZkJlaGF2aW91cnMucHVzaChuKSxuLmluaXRpYWxpemUodGhpcyl9fX0se2tleTpcInJlbW92ZVNlbGZCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNlbGZCZWhhdmlvdXJzLmluZGV4T2YodCk7LTE8ZSYmdGhpcy5zZWxmQmVoYXZpb3Vycy5zcGxpY2UoZSwxKX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihvKFF0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihRdC5wcm90b3R5cGUpLFwidXBkYXRlXCIsdGhpcykuY2FsbCh0aGlzLHQpLCF0aGlzLnNsZWVwKXt2YXIgZT10aGlzLnNlbGZCZWhhdmlvdXJzLmxlbmd0aCxpPXZvaWQgMDtmb3IoaT0wO2k8ZTtpKyspdGhpcy5zZWxmQmVoYXZpb3Vyc1tpXS5hcHBseUJlaGF2aW91cih0aGlzLHQsaSl9fX1dKSxRdCk7ZnVuY3Rpb24gUXQodCl7cyh0aGlzLFF0KTt2YXIgZT1sKHRoaXMsKFF0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFF0KSkuY2FsbCh0aGlzLHQpKTtyZXR1cm4gZS5zZWxmQmVoYXZpb3Vycz1bXSxlfXZhciBLdD0ocihKdCxZdCksdChKdCxbe2tleTpcImluaXRFdmVudEhhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tb3VzZW1vdmVIYW5kbGVyPWZ1bmN0aW9uKHQpe3JldHVybiBlLm1vdXNlbW92ZS5jYWxsKGUsdCl9LHRoaXMubW91c2Vkb3duSGFuZGxlcj1mdW5jdGlvbih0KXtyZXR1cm4gZS5tb3VzZWRvd24uY2FsbChlLHQpfSx0aGlzLm1vdXNldXBIYW5kbGVyPWZ1bmN0aW9uKHQpe3JldHVybiBlLm1vdXNldXAuY2FsbChlLHQpfSx0aGlzLm1vdXNlVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZUhhbmRsZXIsITEpfX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2FsbG93RW1pdHRpbmc9ITB9fSx7a2V5Olwic3RvcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fYWxsb3dFbWl0dGluZz0hMX19LHtrZXk6XCJtb3VzZW1vdmVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmxheWVyWHx8MD09PXQubGF5ZXJYPyh0aGlzLnAueCs9KHQubGF5ZXJYLXRoaXMucC54KSp0aGlzLmVhc2UsdGhpcy5wLnkrPSh0LmxheWVyWS10aGlzLnAueSkqdGhpcy5lYXNlKTohdC5vZmZzZXRYJiYwIT09dC5vZmZzZXRYfHwodGhpcy5wLngrPSh0Lm9mZnNldFgtdGhpcy5wLngpKnRoaXMuZWFzZSx0aGlzLnAueSs9KHQub2Zmc2V0WS10aGlzLnAueSkqdGhpcy5lYXNlKSx0aGlzLl9hbGxvd0VtaXR0aW5nJiZvKEp0LnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihKdC5wcm90b3R5cGUpLFwiZW1pdFwiLHRoaXMpLmNhbGwodGhpcyxcIm9uY2VcIil9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7byhKdC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoSnQucHJvdG90eXBlKSxcImRlc3Ryb3lcIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMubW91c2VUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW91c2Vtb3ZlSGFuZGxlciwhMSl9fV0pLEp0KTtmdW5jdGlvbiBKdCh0LGUsaSl7cyh0aGlzLEp0KTt2YXIgYT1sKHRoaXMsKEp0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEp0KSkuY2FsbCh0aGlzLGkpKTtyZXR1cm4gYS5tb3VzZVRhcmdldD1QLmluaXRWYWx1ZSh0LHdpbmRvdyksYS5lYXNlPVAuaW5pdFZhbHVlKGUsLjcpLGEuX2FsbG93RW1pdHRpbmc9ITEsYS5pbml0RXZlbnRIYW5kbGVyKCksYX12YXIgJHQ9KHQodGUsW3trZXk6XCJzZXRTdHJva2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dD90OlwiIzAwMDAwMFwiLGE9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6MTt0aGlzLnN0cm9rZT17Y29sb3I6aSx0aGlua25lc3M6YX19fSx7a2V5OlwiaW5pdEhhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fcHJvdG9uVXBkYXRlSGFuZGxlcj1mdW5jdGlvbigpe2Uub25Qcm90b25VcGRhdGUuY2FsbChlKX0sdGhpcy5fcHJvdG9uVXBkYXRlQWZ0ZXJIYW5kbGVyPWZ1bmN0aW9uKCl7ZS5vblByb3RvblVwZGF0ZUFmdGVyLmNhbGwoZSl9LHRoaXMuX2VtaXR0ZXJBZGRlZEhhbmRsZXI9ZnVuY3Rpb24odCl7ZS5vbkVtaXR0ZXJBZGRlZC5jYWxsKGUsdCl9LHRoaXMuX2VtaXR0ZXJSZW1vdmVkSGFuZGxlcj1mdW5jdGlvbih0KXtlLm9uRW1pdHRlclJlbW92ZWQuY2FsbChlLHQpfSx0aGlzLl9wYXJ0aWNsZUNyZWF0ZWRIYW5kbGVyPWZ1bmN0aW9uKHQpe2Uub25QYXJ0aWNsZUNyZWF0ZWQuY2FsbChlLHQpfSx0aGlzLl9wYXJ0aWNsZVVwZGF0ZUhhbmRsZXI9ZnVuY3Rpb24odCl7ZS5vblBhcnRpY2xlVXBkYXRlLmNhbGwoZSx0KX0sdGhpcy5fcGFydGljbGVEZWFkSGFuZGxlcj1mdW5jdGlvbih0KXtlLm9uUGFydGljbGVEZWFkLmNhbGwoZSx0KX19fSx7a2V5OlwiaW5pdFwiLHZhbHVlOmZ1bmN0aW9uKHQpeyh0aGlzLnBhcmVudD10KS5hZGRFdmVudExpc3RlbmVyKFwiUFJPVE9OX1VQREFURVwiLHRoaXMuX3Byb3RvblVwZGF0ZUhhbmRsZXIpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIlBST1RPTl9VUERBVEVfQUZURVJcIix0aGlzLl9wcm90b25VcGRhdGVBZnRlckhhbmRsZXIpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIkVNSVRURVJfQURERURcIix0aGlzLl9lbWl0dGVyQWRkZWRIYW5kbGVyKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJFTUlUVEVSX1JFTU9WRURcIix0aGlzLl9lbWl0dGVyUmVtb3ZlZEhhbmRsZXIpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIlBBUlRJQ0xFX0NSRUFURURcIix0aGlzLl9wYXJ0aWNsZUNyZWF0ZWRIYW5kbGVyKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJQQVJUSUNMRV9VUERBVEVcIix0aGlzLl9wYXJ0aWNsZVVwZGF0ZUhhbmRsZXIpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIlBBUlRJQ0xFX0RFQURcIix0aGlzLl9wYXJ0aWNsZURlYWRIYW5kbGVyKX19LHtrZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIlBST1RPTl9VUERBVEVcIix0aGlzLl9wcm90b25VcGRhdGVIYW5kbGVyKSx0aGlzLnBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiUFJPVE9OX1VQREFURV9BRlRFUlwiLHRoaXMuX3Byb3RvblVwZGF0ZUFmdGVySGFuZGxlciksdGhpcy5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkVNSVRURVJfQURERURcIix0aGlzLl9lbWl0dGVyQWRkZWRIYW5kbGVyKSx0aGlzLnBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRU1JVFRFUl9SRU1PVkVEXCIsdGhpcy5fZW1pdHRlclJlbW92ZWRIYW5kbGVyKSx0aGlzLnBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiUEFSVElDTEVfQ1JFQVRFRFwiLHRoaXMuX3BhcnRpY2xlQ3JlYXRlZEhhbmRsZXIpLHRoaXMucGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJQQVJUSUNMRV9VUERBVEVcIix0aGlzLl9wYXJ0aWNsZVVwZGF0ZUhhbmRsZXIpLHRoaXMucGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJQQVJUSUNMRV9ERUFEXCIsdGhpcy5fcGFydGljbGVEZWFkSGFuZGxlciksdGhpcy5wYXJlbnQ9bnVsbH19LHtrZXk6XCJvblByb3RvblVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIm9uUHJvdG9uVXBkYXRlQWZ0ZXJcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvbkVtaXR0ZXJBZGRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIm9uRW1pdHRlclJlbW92ZWRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvblBhcnRpY2xlQ3JlYXRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIm9uUGFydGljbGVVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvblBhcnRpY2xlRGVhZFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX1dKSx0ZSk7ZnVuY3Rpb24gdGUodCxlKXtzKHRoaXMsdGUpLHRoaXMucG9vbD1uZXcgVCx0aGlzLmVsZW1lbnQ9dCx0aGlzLnN0cm9rZT1lLHRoaXMuY2lyY2xlQ29uZj17aXNDaXJjbGU6ITB9LHRoaXMuaW5pdEhhbmRsZXIoKSx0aGlzLm5hbWU9XCJCYXNlUmVuZGVyZXJcIn12YXIgZWU9KHIoaWUsJHQpLHQoaWUsW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZWxlbWVudC53aWR0aD10LHRoaXMuZWxlbWVudC5oZWlnaHQ9ZX19LHtrZXk6XCJvblByb3RvblVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5lbGVtZW50LndpZHRoLHRoaXMuZWxlbWVudC5oZWlnaHQpfX0se2tleTpcIm9uUGFydGljbGVDcmVhdGVkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5P3godC5ib2R5LHRoaXMuYWRkSW1nMkJvZHksdCk6dC5jb2xvcj10LmNvbG9yfHxcIiNmZjAwMDBcIn19LHtrZXk6XCJvblBhcnRpY2xlVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5P3QuYm9keSBpbnN0YW5jZW9mIEltYWdlJiZ0aGlzLmRyYXdJbWFnZSh0KTp0aGlzLmRyYXdDaXJjbGUodCl9fSx7a2V5Olwib25QYXJ0aWNsZURlYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmJvZHk9bnVsbH19LHtrZXk6XCJhZGRJbWcyQm9keVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZS5ib2R5PXR9fSx7a2V5OlwiZHJhd0ltYWdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5ib2R5LndpZHRoKnQuc2NhbGV8MCxpPXQuYm9keS5oZWlnaHQqdC5zY2FsZXwwLGE9dC5wLngtZS8yLHI9dC5wLnktaS8yO2lmKHQuY29sb3Ipe3QuZGF0YS5idWZmZXJ8fCh0LmRhdGEuYnVmZmVyPXRoaXMuY3JlYXRlQnVmZmVyKHQuYm9keSkpO3ZhciBuPXQuZGF0YS5idWZmZXIuZ2V0Q29udGV4dChcIjJkXCIpO24uY2xlYXJSZWN0KDAsMCx0LmRhdGEuYnVmZmVyLndpZHRoLHQuZGF0YS5idWZmZXIuaGVpZ2h0KSxuLmdsb2JhbEFscGhhPXQuYWxwaGEsbi5kcmF3SW1hZ2UodC5ib2R5LDAsMCksbi5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJzb3VyY2UtYXRvcFwiLG4uZmlsbFN0eWxlPUgucmdiVG9IZXgodC5yZ2IpLG4uZmlsbFJlY3QoMCwwLHQuZGF0YS5idWZmZXIud2lkdGgsdC5kYXRhLmJ1ZmZlci5oZWlnaHQpLG4uZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwic291cmNlLW92ZXJcIixuLmdsb2JhbEFscGhhPTEsdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0LmRhdGEuYnVmZmVyLDAsMCx0LmRhdGEuYnVmZmVyLndpZHRoLHQuZGF0YS5idWZmZXIuaGVpZ2h0LGEscixlLGkpfWVsc2UgdGhpcy5jb250ZXh0LnNhdmUoKSx0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE9dC5hbHBoYSx0aGlzLmNvbnRleHQudHJhbnNsYXRlKHQucC54LHQucC55KSx0aGlzLmNvbnRleHQucm90YXRlKGguZGVncmVlVHJhbnNmb3JtKHQucm90YXRpb24pKSx0aGlzLmNvbnRleHQudHJhbnNsYXRlKC10LnAueCwtdC5wLnkpLHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodC5ib2R5LDAsMCx0LmJvZHkud2lkdGgsdC5ib2R5LmhlaWdodCxhLHIsZSxpKSx0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE9MSx0aGlzLmNvbnRleHQucmVzdG9yZSgpfX0se2tleTpcImRyYXdDaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnJnYj90aGlzLmNvbnRleHQuZmlsbFN0eWxlPVwicmdiYShcIit0LnJnYi5yK1wiLFwiK3QucmdiLmcrXCIsXCIrdC5yZ2IuYitcIixcIit0LmFscGhhK1wiKVwiOnRoaXMuY29udGV4dC5maWxsU3R5bGU9dC5jb2xvcix0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jb250ZXh0LmFyYyh0LnAueCx0LnAueSx0LnJhZGl1cywwLDIqTWF0aC5QSSwhMCksdGhpcy5zdHJva2UmJih0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9dGhpcy5zdHJva2UuY29sb3IsdGhpcy5jb250ZXh0LmxpbmVXaWR0aD10aGlzLnN0cm9rZS50aGlua25lc3MsdGhpcy5jb250ZXh0LnN0cm9rZSgpKSx0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5jb250ZXh0LmZpbGwoKX19LHtrZXk6XCJjcmVhdGVCdWZmZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgSW1hZ2Upe3ZhciBlPXQud2lkdGgrXCJfXCIrdC5oZWlnaHQsaT10aGlzLmJ1ZmZlckNhY2hlW2VdO3JldHVybiBpfHwoKGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSkud2lkdGg9dC53aWR0aCxpLmhlaWdodD10LmhlaWdodCx0aGlzLmJ1ZmZlckNhY2hlW2VdPWkpLGl9fX1dKSxpZSk7ZnVuY3Rpb24gaWUodCl7cyh0aGlzLGllKTt2YXIgZT1sKHRoaXMsKGllLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGllKSkuY2FsbCh0aGlzLHQpKTtyZXR1cm4gZS5zdHJva2U9bnVsbCxlLmNvbnRleHQ9ZS5lbGVtZW50LmdldENvbnRleHQoXCIyZFwiKSxlLmJ1ZmZlckNhY2hlPXt9LGUubmFtZT1cIkNhbnZhc1JlbmRlcmVyXCIsZX12YXIgYWU9KHIocmUsJHQpLHQocmUsW3trZXk6XCJvblBhcnRpY2xlQ3JlYXRlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYm9keT94KHQuYm9keSx0aGlzLmFkZEltZzJCb2R5LHQpOih0LmJvZHk9dGhpcy5wb29sLmdldCh0aGlzLmNpcmNsZUNvbmYsdCksdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHQuYm9keSkpfX0se2tleTpcIm9uUGFydGljbGVVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmJvZHlSZWFkeSh0KSYmKHRoaXMudHJhbnNmb3JtM2Q/di50cmFuc2Zvcm0zZCh0LmJvZHksdC5wLngsdC5wLnksdC5zY2FsZSx0LnJvdGF0aW9uKTp2LnRyYW5zZm9ybSh0LmJvZHksdC5wLngsdC5wLnksdC5zY2FsZSx0LnJvdGF0aW9uKSx0LmJvZHkuc3R5bGUub3BhY2l0eT10LmFscGhhLHQuYm9keS5pc0NpcmNsZSYmKHQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dC5jb2xvcnx8XCIjZmYwMDAwXCIpKX19LHtrZXk6XCJvblBhcnRpY2xlRGVhZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYm9keVJlYWR5KHQpJiYodGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHQuYm9keSksdGhpcy5wb29sLmV4cGlyZSh0LmJvZHkpLHQuYm9keT1udWxsKX19LHtrZXk6XCJib2R5UmVhZHlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT09aSh0LmJvZHkpJiZ0LmJvZHkmJiF0LmJvZHkuaXNJbm5lcn19LHtrZXk6XCJhZGRJbWcyQm9keVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZS5kZWFkfHwoZS5ib2R5PXRoaXMucG9vbC5nZXQodCxlKSx2LnJlc2l6ZShlLmJvZHksdC53aWR0aCx0LmhlaWdodCksdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGUuYm9keSkpfX0se2tleTpcImNyZWF0ZUJvZHlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmlzQ2lyY2xlP3RoaXMuY3JlYXRlQ2lyY2xlKGUpOnRoaXMuY3JlYXRlU3ByaXRlKHQsZSl9fSx7a2V5OlwiY3JlYXRlQ2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9di5jcmVhdGVEaXYodC5pZCtcIl9kb21cIiwyKnQucmFkaXVzLDIqdC5yYWRpdXMpO3JldHVybiBlLnN0eWxlLmJvcmRlclJhZGl1cz10LnJhZGl1cytcInB4XCIsdGhpcy5zdHJva2UmJihlLnN0eWxlLmJvcmRlckNvbG9yPXRoaXMuc3Ryb2tlLmNvbG9yLGUuc3R5bGUuYm9yZGVyV2lkdGg9dGhpcy5zdHJva2UudGhpbmtuZXNzK1wicHhcIiksZS5pc0NpcmNsZT0hMCxlfX0se2tleTpcImNyZWF0ZVNwcml0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LnNyYyxhPXYuY3JlYXRlRGl2KGUuaWQrXCJfZG9tXCIsdC53aWR0aCx0LmhlaWdodCk7cmV0dXJuIGEuc3R5bGUuYmFja2dyb3VuZEltYWdlPVwidXJsKFwiK2krXCIpXCIsYX19XSkscmUpO2Z1bmN0aW9uIHJlKHQpe3ModGhpcyxyZSk7dmFyIGk9bCh0aGlzLChyZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihyZSkpLmNhbGwodGhpcyx0KSk7cmV0dXJuIGkuc3Ryb2tlPW51bGwsaS5wb29sLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBpLmNyZWF0ZUJvZHkodCxlKX0saS5hZGRJbWcyQm9keT1pLmFkZEltZzJCb2R5LmJpbmQoaSksaS50cmFuc2Zvcm0zZD0hMSxpLm5hbWU9XCJEb21SZW5kZXJlclwiLGl9dmFyIG5lPShyKHNlLCR0KSx0KHNlLFt7a2V5Olwib25QYXJ0aWNsZUNyZWF0ZWRcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmJvZHk/dGhpcy5jcmVhdGVTcHJpdGUodCk6dGhpcy5jcmVhdGVDaXJjbGUodCksdGhpcy5lbGVtZW50LmFkZENoaWxkKHQuYm9keSl9fSx7a2V5Olwib25QYXJ0aWNsZVVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYm9keSYmKHQuYm9keS54PXQucC54LHQuYm9keS55PXQucC55LHQuYm9keS5hbHBoYT10LmFscGhhLHQuYm9keS5zY2FsZVg9dC5ib2R5LnNjYWxlWT10LnNjYWxlLHQuYm9keS5yb3RhdGlvbj10LnJvdGF0aW9uKX19LHtrZXk6XCJvblBhcnRpY2xlRGVhZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYm9keSYmKHQuYm9keS5wYXJlbnQmJnQuYm9keS5wYXJlbnQucmVtb3ZlQ2hpbGQodC5ib2R5KSx0aGlzLnBvb2wuZXhwaXJlKHQuYm9keSksdC5ib2R5PW51bGwpLHQuZ3JhcGhpY3MmJnRoaXMucG9vbC5leHBpcmUodC5ncmFwaGljcyl9fSx7a2V5OlwiY3JlYXRlU3ByaXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5PXRoaXMucG9vbC5nZXQodC5ib2R5KSx0LmJvZHkucGFyZW50fHx0LmJvZHkuaW1hZ2UmJih0LmJvZHkucmVnWD10LmJvZHkuaW1hZ2Uud2lkdGgvMix0LmJvZHkucmVnWT10LmJvZHkuaW1hZ2UuaGVpZ2h0LzIpfX0se2tleTpcImNyZWF0ZUNpcmNsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9vbC5nZXQoY3JlYXRlanMuR3JhcGhpY3MpO3RoaXMuc3Ryb2tlJiYodGhpcy5zdHJva2UgaW5zdGFuY2VvZiBTdHJpbmc/ZS5iZWdpblN0cm9rZSh0aGlzLnN0cm9rZSk6ZS5iZWdpblN0cm9rZShcIiMwMDAwMDBcIikpLGUuYmVnaW5GaWxsKHQuY29sb3J8fFwiI2ZmMDAwMFwiKS5kcmF3Q2lyY2xlKDAsMCx0LnJhZGl1cyk7dmFyIGk9dGhpcy5wb29sLmdldChjcmVhdGVqcy5TaGFwZSxbZV0pO3QuYm9keT1pLHQuZ3JhcGhpY3M9ZX19XSksc2UpO2Z1bmN0aW9uIHNlKHQsZSl7cyh0aGlzLHNlKTt2YXIgaT1sKHRoaXMsKHNlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHNlKSkuY2FsbCh0aGlzLHQpKTtyZXR1cm4gaS5zdHJva2U9ZSxpLm5hbWU9XCJFYXNlbFJlbmRlcmVyXCIsaX12YXIgb2U9KHIoaGUsJHQpLHQoaGUsW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZWxlbWVudC53aWR0aD10LHRoaXMuZWxlbWVudC5oZWlnaHQ9ZX19LHtrZXk6XCJjcmVhdGVJbWFnZURhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlY3RhbmdsZT10fHxuZXcgWigwLDAsdGhpcy5lbGVtZW50LndpZHRoLHRoaXMuZWxlbWVudC5oZWlnaHQpLHRoaXMuaW1hZ2VEYXRhPXRoaXMuY29udGV4dC5jcmVhdGVJbWFnZURhdGEodGhpcy5yZWN0YW5nbGUud2lkdGgsdGhpcy5yZWN0YW5nbGUuaGVpZ2h0KSx0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLHRoaXMucmVjdGFuZ2xlLngsdGhpcy5yZWN0YW5nbGUueSl9fSx7a2V5Olwib25Qcm90b25VcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29udGV4dC5jbGVhclJlY3QodGhpcy5yZWN0YW5nbGUueCx0aGlzLnJlY3RhbmdsZS55LHRoaXMucmVjdGFuZ2xlLndpZHRoLHRoaXMucmVjdGFuZ2xlLmhlaWdodCksdGhpcy5pbWFnZURhdGE9dGhpcy5jb250ZXh0LmdldEltYWdlRGF0YSh0aGlzLnJlY3RhbmdsZS54LHRoaXMucmVjdGFuZ2xlLnksdGhpcy5yZWN0YW5nbGUud2lkdGgsdGhpcy5yZWN0YW5nbGUuaGVpZ2h0KX19LHtrZXk6XCJvblByb3RvblVwZGF0ZUFmdGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLHRoaXMucmVjdGFuZ2xlLngsdGhpcy5yZWN0YW5nbGUueSl9fSx7a2V5Olwib25QYXJ0aWNsZUNyZWF0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvblBhcnRpY2xlVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZURhdGEmJnRoaXMuc2V0UGl4ZWwodGhpcy5pbWFnZURhdGEsTWF0aC5mbG9vcih0LnAueC10aGlzLnJlY3RhbmdsZS54KSxNYXRoLmZsb29yKHQucC55LXRoaXMucmVjdGFuZ2xlLnkpLHQpfX0se2tleTpcInNldFBpeGVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksYSl7dmFyIHI9YS5yZ2I7aWYoIShlPDB8fGU+dGhpcy5lbGVtZW50LndpZHRofHxpPDB8fGk+dGhpcy5lbGVtZW50d2lkdGgpKXt2YXIgbj00KigoaT4+MCkqdC53aWR0aCsoZT4+MCkpO3QuZGF0YVtuXT1yLnIsdC5kYXRhWzErbl09ci5nLHQuZGF0YVsyK25dPXIuYix0LmRhdGFbMytuXT0yNTUqYS5hbHBoYX19fSx7a2V5Olwib25QYXJ0aWNsZURlYWRcIix2YWx1ZTpmdW5jdGlvbigpe319XSksaGUpO2Z1bmN0aW9uIGhlKHQsZSl7cyh0aGlzLGhlKTt2YXIgaT1sKHRoaXMsKGhlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGhlKSkuY2FsbCh0aGlzLHQpKTtyZXR1cm4gaS5jb250ZXh0PWkuZWxlbWVudC5nZXRDb250ZXh0KFwiMmRcIiksaS5pbWFnZURhdGE9bnVsbCxpLnJlY3RhbmdsZT1udWxsLGkucmVjdGFuZ2xlPWUsaS5jcmVhdGVJbWFnZURhdGEoZSksaS5uYW1lPVwiUGl4ZWxSZW5kZXJlclwiLGl9dmFyIGxlPXZvaWQgMCx1ZT0ocihjZSwkdCksdChjZSxbe2tleTpcInNldFBJWElcIix2YWx1ZTpmdW5jdGlvbih0KXt0cnl7bGU9dHx8e1Nwcml0ZTp7fX0sdGhpcy5jcmVhdGVGcm9tSW1hZ2U9bGUuU3ByaXRlLmZyb218fGxlLlNwcml0ZS5mcm9tSW1hZ2V9Y2F0Y2godCl7fX19LHtrZXk6XCJvblByb3RvblVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcIm9uUGFydGljbGVDcmVhdGVkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5ib2R5P3QuYm9keT10aGlzLnBvb2wuZ2V0KHQuYm9keSx0KTp0LmJvZHk9dGhpcy5wb29sLmdldCh0aGlzLmNpcmNsZUNvbmYsdCksdGhpcy5ibGVuZE1vZGUmJih0LmJvZHkuYmxlbmRNb2RlPXRoaXMuYmxlbmRNb2RlKSx0aGlzLmVsZW1lbnQuYWRkQ2hpbGQodC5ib2R5KX19LHtrZXk6XCJvblBhcnRpY2xlVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy50cmFuc2Zvcm0odCx0LmJvZHkpLCEwIT09dGhpcy5zZXRDb2xvciYmITAhPT10aGlzLmNvbG9yfHwodC5ib2R5LnRpbnQ9SC5nZXRIZXgxNkZyb21QYXJ0aWNsZSh0KSl9fSx7a2V5Olwib25QYXJ0aWNsZURlYWRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodC5ib2R5KSx0aGlzLnBvb2wuZXhwaXJlKHQuYm9keSksdC5ib2R5PW51bGx9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKHQpe28oY2UucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGNlLnByb3RvdHlwZSksXCJkZXN0cm95XCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLnBvb2wuZGVzdHJveSgpO2Zvcih2YXIgZT10Lmxlbmd0aDtlLS07KXt2YXIgaT10W2VdO2kuYm9keSYmdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKGkuYm9keSl9fX0se2tleTpcInRyYW5zZm9ybVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZS54PXQucC54LGUueT10LnAueSxlLmFscGhhPXQuYWxwaGEsZS5zY2FsZS54PXQuc2NhbGUsZS5zY2FsZS55PXQuc2NhbGUsZS5yb3RhdGlvbj10LnJvdGF0aW9uKmguUElfMTgwfX0se2tleTpcImNyZWF0ZUJvZHlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmlzQ2lyY2xlP3RoaXMuY3JlYXRlQ2lyY2xlKGUpOnRoaXMuY3JlYXRlU3ByaXRlKHQpfX0se2tleTpcImNyZWF0ZVNwcml0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuaXNJbm5lcj90aGlzLmNyZWF0ZUZyb21JbWFnZSh0LnNyYyk6bmV3IGxlLlNwcml0ZSh0KTtyZXR1cm4gZS5hbmNob3IueD0uNSxlLmFuY2hvci55PS41LGV9fSx7a2V5OlwiY3JlYXRlQ2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGxlLkdyYXBoaWNzO2lmKHRoaXMuc3Ryb2tlKXt2YXIgaT10aGlzLnN0cm9rZSBpbnN0YW5jZW9mIFN0cmluZz90aGlzLnN0cm9rZTowO2UuYmVnaW5TdHJva2UoaSl9cmV0dXJuIGUuYmVnaW5GaWxsKHQuY29sb3J8fDM2MDc3KSxlLmRyYXdDaXJjbGUoMCwwLHQucmFkaXVzKSxlLmVuZEZpbGwoKSxlfX1dKSxjZSk7ZnVuY3Rpb24gY2UodCxlKXtzKHRoaXMsY2UpO3ZhciBpPWwodGhpcywoY2UuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2UpKS5jYWxsKHRoaXMsdCkpO3JldHVybiBpLnN0cm9rZT1lLGkuY29sb3I9ITEsaS5zZXRDb2xvcj0hMSxpLmJsZW5kTW9kZT1udWxsLGkucG9vbC5jcmVhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5jcmVhdGVCb2R5KHQsZSl9LGkuc2V0UElYSSh3aW5kb3cuUElYSSksaS5uYW1lPVwiUGl4aVJlbmRlcmVyXCIsaX12YXIgZGU9KHQoeWUsW3trZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpezA9PT1lP1guc2V0KHQsdGhpcy5tYXRzWzBdKTpYLm11bHRpcGx5KHRoaXMubWF0c1tlLTFdLHQsdGhpcy5tYXRzW2VdKSx0aGlzLnNpemU9TWF0aC5tYXgodGhpcy5zaXplLGUrMSl9fSx7a2V5OlwicHVzaFwiLHZhbHVlOmZ1bmN0aW9uKHQpezA9PT10aGlzLnNpemU/WC5zZXQodCx0aGlzLm1hdHNbMF0pOlgubXVsdGlwbHkodGhpcy5tYXRzW3RoaXMuc2l6ZS0xXSx0LHRoaXMubWF0c1t0aGlzLnNpemVdKSx0aGlzLnNpemUrK319LHtrZXk6XCJwb3BcIix2YWx1ZTpmdW5jdGlvbigpezA8dGhpcy5zaXplJiZ0aGlzLnNpemUtLX19LHtrZXk6XCJ0b3BcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hdHNbdGhpcy5zaXplLTFdfX1dKSx5ZSk7ZnVuY3Rpb24geWUoKXtzKHRoaXMseWUpLHRoaXMubWF0cz1bXTtmb3IodmFyIHQ9dGhpcy5zaXplPTA7dDwyMDt0KyspdGhpcy5tYXRzLnB1c2goWC5jcmVhdGUoWzAsMCwwLDAsMCwwLDAsMCwwXSkpfXZhciBwZT0ocihmZSwkdCksdChmZSxbe2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtvKGZlLnByb3RvdHlwZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihmZS5wcm90b3R5cGUpLFwiaW5pdFwiLHRoaXMpLmNhbGwodGhpcyx0KSx0aGlzLnJlc2l6ZSh0aGlzLmVsZW1lbnQud2lkdGgsdGhpcy5lbGVtZW50LmhlaWdodCl9fSx7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnVtYXRbNF09LTIsdGhpcy51bWF0WzddPTEsdGhpcy5zbWF0WzBdPTEvdCx0aGlzLnNtYXRbNF09MS9lLHRoaXMubXN0YWNrLnNldCh0aGlzLnVtYXQsMCksdGhpcy5tc3RhY2suc2V0KHRoaXMuc21hdCwxKSx0aGlzLmdsLnZpZXdwb3J0KDAsMCx0LGUpLHRoaXMuZWxlbWVudC53aWR0aD10LHRoaXMuZWxlbWVudC5oZWlnaHQ9ZX19LHtrZXk6XCJzZXRNYXhSYWRpdXNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNpcmNsZUNhbnZhc1VSTD10aGlzLmNyZWF0ZUNpcmNsZSh0KX19LHtrZXk6XCJnZXRWZXJ0ZXhTaGFkZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybltcInVuaWZvcm0gdmVjMiB2aWV3cG9ydDtcIixcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XCIsXCJ1bmlmb3JtIG1hdDMgdE1hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCBhbHBoYTtcIixcInZvaWQgbWFpbigpIHtcIixcInZlYzMgdiA9IHRNYXQgKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKTtcIixcImdsX1Bvc2l0aW9uID0gdmVjNCh2LngsIHYueSwgMCwgMSk7XCIsXCJ2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcIixcImFscGhhID0gdE1hdFswXVsyXTtcIixcIn1cIl0uam9pbihcIlxcblwiKX19LHtrZXk6XCJnZXRGcmFnbWVudFNoYWRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuW1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgYWxwaGE7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInVuaWZvcm0gdmVjNCBjb2xvcjtcIixcInVuaWZvcm0gYm9vbCB1c2VUZXh0dXJlO1wiLFwidW5pZm9ybSB2ZWMzIHVDb2xvcjtcIixcInZvaWQgbWFpbigpIHtcIixcInZlYzQgdGV4dHVyZUNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcIixcImdsX0ZyYWdDb2xvciA9IHRleHR1cmVDb2xvciAqIHZlYzQodUNvbG9yLCAxLjApO1wiLFwiZ2xfRnJhZ0NvbG9yLncgKj0gYWxwaGE7XCIsXCJ9XCJdLmpvaW4oXCJcXG5cIil9fSx7a2V5OlwiaW5pdFZhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5tc3RhY2s9bmV3IGRlLHRoaXMudW1hdD1YLmNyZWF0ZShbMiwwLDEsMCwtMiwwLC0xLDEsMV0pLHRoaXMuc21hdD1YLmNyZWF0ZShbLjAxLDAsMSwwLC4wMSwwLDAsMCwxXSksdGhpcy50ZXh0dXJlYnVmZmVycz17fX19LHtrZXk6XCJibGVuZEVxdWF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5nbC5ibGVuZEVxdWF0aW9uKHRoaXMuZ2xbdF0pfX0se2tleTpcImJsZW5kRnVuY1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5nbC5ibGVuZEZ1bmModGhpcy5nbFt0XSx0aGlzLmdsW2VdKX19LHtrZXk6XCJnZXRTaGFkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIGE9aT90LmNyZWF0ZVNoYWRlcih0LkZSQUdNRU5UX1NIQURFUik6dC5jcmVhdGVTaGFkZXIodC5WRVJURVhfU0hBREVSKTtyZXR1cm4gdC5zaGFkZXJTb3VyY2UoYSxlKSx0LmNvbXBpbGVTaGFkZXIoYSksdC5nZXRTaGFkZXJQYXJhbWV0ZXIoYSx0LkNPTVBJTEVfU1RBVFVTKT9hOihhbGVydCh0LmdldFNoYWRlckluZm9Mb2coYSkpLG51bGwpfX0se2tleTpcImluaXRTaGFkZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNoYWRlcih0aGlzLmdsLHRoaXMuZ2V0RnJhZ21lbnRTaGFkZXIoKSwhMCksZT10aGlzLmdldFNoYWRlcih0aGlzLmdsLHRoaXMuZ2V0VmVydGV4U2hhZGVyKCksITEpO3RoaXMuc3Byb2dyYW09dGhpcy5nbC5jcmVhdGVQcm9ncmFtKCksdGhpcy5nbC5hdHRhY2hTaGFkZXIodGhpcy5zcHJvZ3JhbSxlKSx0aGlzLmdsLmF0dGFjaFNoYWRlcih0aGlzLnNwcm9ncmFtLHQpLHRoaXMuZ2wubGlua1Byb2dyYW0odGhpcy5zcHJvZ3JhbSksdGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHRoaXMuc3Byb2dyYW0sdGhpcy5nbC5MSU5LX1NUQVRVUyl8fGFsZXJ0KFwiQ291bGQgbm90IGluaXRpYWxpc2Ugc2hhZGVyc1wiKSx0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5zcHJvZ3JhbSksdGhpcy5zcHJvZ3JhbS52cGE9dGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnNwcm9ncmFtLFwiYVZlcnRleFBvc2l0aW9uXCIpLHRoaXMuc3Byb2dyYW0udGNhPXRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5zcHJvZ3JhbSxcImFUZXh0dXJlQ29vcmRcIiksdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnNwcm9ncmFtLnRjYSksdGhpcy5nbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLnNwcm9ncmFtLnZwYSksdGhpcy5zcHJvZ3JhbS50TWF0VW5pZm9ybT10aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNwcm9ncmFtLFwidE1hdFwiKSx0aGlzLnNwcm9ncmFtLnNhbXBsZXJVbmlmb3JtPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc3Byb2dyYW0sXCJ1U2FtcGxlclwiKSx0aGlzLnNwcm9ncmFtLnVzZVRleD10aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNwcm9ncmFtLFwidXNlVGV4dHVyZVwiKSx0aGlzLnNwcm9ncmFtLmNvbG9yPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc3Byb2dyYW0sXCJ1Q29sb3JcIiksdGhpcy5nbC51bmlmb3JtMWkodGhpcy5zcHJvZ3JhbS51c2VUZXgsMSl9fSx7a2V5OlwiaW5pdEJ1ZmZlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXZvaWQgMDt0aGlzLnVuaXRJQnVmZmVyPXRoaXMuZ2wuY3JlYXRlQnVmZmVyKCksdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy51bml0SUJ1ZmZlciksdGhpcy5nbC5idWZmZXJEYXRhKHRoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsbmV3IFVpbnQxNkFycmF5KFswLDMsMSwwLDIsM10pLHRoaXMuZ2wuU1RBVElDX0RSQVcpO3ZhciBlPXZvaWQgMCxpPVtdO2ZvcihlPTA7ZTwxMDA7ZSsrKWkucHVzaChlKTtmb3IodD1uZXcgVWludDE2QXJyYXkoaSksdGhpcy51bml0STMzPXRoaXMuZ2wuY3JlYXRlQnVmZmVyKCksdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy51bml0STMzKSx0aGlzLmdsLmJ1ZmZlckRhdGEodGhpcy5nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0LHRoaXMuZ2wuU1RBVElDX0RSQVcpLGk9W10sZT0wO2U8MTAwO2UrKylpLnB1c2goZSxlKzEsZSsyKTt0PW5ldyBVaW50MTZBcnJheShpKSx0aGlzLnN0cmlwQnVmZmVyPXRoaXMuZ2wuY3JlYXRlQnVmZmVyKCksdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5zdHJpcEJ1ZmZlciksdGhpcy5nbC5idWZmZXJEYXRhKHRoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdCx0aGlzLmdsLlNUQVRJQ19EUkFXKX19LHtrZXk6XCJjcmVhdGVDaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNpcmNsZUNhbnZhc1JhZGl1cz1jKFAuaW5pdFZhbHVlKHQsMzIpKTt2YXIgZT12LmNyZWF0ZUNhbnZhcyhcImNpcmNsZV9jYW52YXNcIiwyKnRoaXMuY2lyY2xlQ2FudmFzUmFkaXVzLDIqdGhpcy5jaXJjbGVDYW52YXNSYWRpdXMpLGk9ZS5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIGkuYmVnaW5QYXRoKCksaS5hcmModGhpcy5jaXJjbGVDYW52YXNSYWRpdXMsdGhpcy5jaXJjbGVDYW52YXNSYWRpdXMsdGhpcy5jaXJjbGVDYW52YXNSYWRpdXMsMCwyKk1hdGguUEksITApLGkuY2xvc2VQYXRoKCksaS5maWxsU3R5bGU9XCIjRkZGXCIsaS5maWxsKCksZS50b0RhdGFVUkwoKX19LHtrZXk6XCJkcmF3SW1nMkNhbnZhc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9keS53aWR0aCxpPXQuYm9keS5oZWlnaHQsYT1jKHQuYm9keS53aWR0aCkscj1jKHQuYm9keS5oZWlnaHQpLG49dC5ib2R5LndpZHRoL2Escz10LmJvZHkuaGVpZ2h0L3I7dGhpcy50ZXh0dXJlYnVmZmVyc1t0LmRhdGEuc3JjXXx8KHRoaXMudGV4dHVyZWJ1ZmZlcnNbdC5kYXRhLnNyY109W3RoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMuZ2wuY3JlYXRlQnVmZmVyKCksdGhpcy5nbC5jcmVhdGVCdWZmZXIoKV0pLHQuZGF0YS50ZXh0dXJlPXRoaXMudGV4dHVyZWJ1ZmZlcnNbdC5kYXRhLnNyY11bMF0sdC5kYXRhLnZjQnVmZmVyPXRoaXMudGV4dHVyZWJ1ZmZlcnNbdC5kYXRhLnNyY11bMV0sdC5kYXRhLnRjQnVmZmVyPXRoaXMudGV4dHVyZWJ1ZmZlcnNbdC5kYXRhLnNyY11bMl0sdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLHQuZGF0YS50Y0J1ZmZlciksdGhpcy5nbC5idWZmZXJEYXRhKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoWzAsMCxuLDAsMCxzLHMsc10pLHRoaXMuZ2wuU1RBVElDX0RSQVcpLHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUix0LmRhdGEudmNCdWZmZXIpLHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFswLDAsZSwwLDAsaSxlLGldKSx0aGlzLmdsLlNUQVRJQ19EUkFXKTt2YXIgbz10LmRhdGEuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5nZXRJbWFnZURhdGEoMCwwLGEscik7dGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsdC5kYXRhLnRleHR1cmUpLHRoaXMuZ2wudGV4SW1hZ2UyRCh0aGlzLmdsLlRFWFRVUkVfMkQsMCx0aGlzLmdsLlJHQkEsdGhpcy5nbC5SR0JBLHRoaXMuZ2wuVU5TSUdORURfQllURSxvKSx0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELHRoaXMuZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuZ2wuTElORUFSKSx0aGlzLmdsLnRleFBhcmFtZXRlcmkodGhpcy5nbC5URVhUVVJFXzJELHRoaXMuZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKSx0aGlzLmdsLmdlbmVyYXRlTWlwbWFwKHRoaXMuZ2wuVEVYVFVSRV8yRCksdC5kYXRhLnRleHR1cmVMb2FkZWQ9ITAsdC5kYXRhLnRleHR1cmVXaWR0aD1lLHQuZGF0YS50ZXh0dXJlSGVpZ2h0PWl9fSx7a2V5Olwib25Qcm90b25VcGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJvblBhcnRpY2xlQ3JlYXRlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuZGF0YS50ZXh0dXJlTG9hZGVkPSExLHQuZGF0YS50bWF0PVguY3JlYXRlKCksdC5kYXRhLnRtYXRbOF09MSx0LmRhdGEuaW1hdD1YLmNyZWF0ZSgpLHQuZGF0YS5pbWF0WzhdPTEsdC5ib2R5P3godC5ib2R5LHRoaXMuYWRkSW1nMkJvZHksdCk6KHgodGhpcy5jaXJjbGVDYW52YXNVUkwsdGhpcy5hZGRJbWcyQm9keSx0KSx0LmRhdGEub2xkU2NhbGU9dC5yYWRpdXMvdGhpcy5jaXJjbGVDYW52YXNSYWRpdXMpfX0se2tleTpcImFkZEltZzJCb2R5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlLmRlYWR8fChlLmJvZHk9dCxlLmRhdGEuc3JjPXQuc3JjLGUuZGF0YS5jYW52YXM9ayh0KSxlLmRhdGEub2xkU2NhbGU9MSx0aGlzLmRyYXdJbWcyQ2FudmFzKGUpKX19LHtrZXk6XCJvblBhcnRpY2xlVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5kYXRhLnRleHR1cmVMb2FkZWQmJih0aGlzLnVwZGF0ZU1hdHJpeCh0KSx0aGlzLmdsLnVuaWZvcm0zZih0aGlzLnNwcm9ncmFtLmNvbG9yLHQucmdiLnIvMjU1LHQucmdiLmcvMjU1LHQucmdiLmIvMjU1KSx0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5zcHJvZ3JhbS50TWF0VW5pZm9ybSwhMSx0aGlzLm1zdGFjay50b3AoKSksdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLHQuZGF0YS52Y0J1ZmZlciksdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc3Byb2dyYW0udnBhLDIsdGhpcy5nbC5GTE9BVCwhMSwwLDApLHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUix0LmRhdGEudGNCdWZmZXIpLHRoaXMuZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnNwcm9ncmFtLnRjYSwyLHRoaXMuZ2wuRkxPQVQsITEsMCwwKSx0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV8yRCx0LmRhdGEudGV4dHVyZSksdGhpcy5nbC51bmlmb3JtMWkodGhpcy5zcHJvZ3JhbS5zYW1wbGVyVW5pZm9ybSwwKSx0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLnVuaXRJQnVmZmVyKSx0aGlzLmdsLmRyYXdFbGVtZW50cyh0aGlzLmdsLlRSSUFOR0xFUyw2LHRoaXMuZ2wuVU5TSUdORURfU0hPUlQsMCksdGhpcy5tc3RhY2sucG9wKCkpfX0se2tleTpcIm9uUGFydGljbGVEZWFkXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwidXBkYXRlTWF0cml4XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ZCgtdC5kYXRhLnRleHR1cmVXaWR0aC8yLC10LmRhdGEudGV4dHVyZUhlaWdodC8yKSxpPWQodC5wLngsdC5wLnkpLGE9dC5yb3RhdGlvbipoLlBJXzE4MCxyPXkoYSksbj10LnNjYWxlKnQuZGF0YS5vbGRTY2FsZSxzPXAobixuKSxvPWYoZSxzKTtvPWYobyxyKSxvPWYobyxpKSxYLmludmVyc2Uobyx0LmRhdGEuaW1hdCksb1syXT10LmFscGhhLHRoaXMubXN0YWNrLnB1c2gobyl9fV0pLGZlKTtmdW5jdGlvbiBmZSh0KXtzKHRoaXMsZmUpO3ZhciBlPWwodGhpcywoZmUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZmUpKS5jYWxsKHRoaXMsdCkpO3JldHVybiBlLmdsPWUuZWxlbWVudC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIse2FudGlhbGlhczohMCxzdGVuY2lsOiExLGRlcHRoOiExfSksZS5nbHx8YWxlcnQoXCJTb3JyeSB5b3VyIGJyb3dzZXIgZG8gbm90IHN1cHBlc3QgV2ViR0whXCIpLGUuaW5pdFZhcigpLGUuc2V0TWF4UmFkaXVzKCksZS5pbml0U2hhZGVycygpLGUuaW5pdEJ1ZmZlcnMoKSxlLmdsLmJsZW5kRXF1YXRpb24oZS5nbC5GVU5DX0FERCksZS5nbC5ibGVuZEZ1bmMoZS5nbC5TUkNfQUxQSEEsZS5nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSxlLmdsLmVuYWJsZShlLmdsLkJMRU5EKSxlLmFkZEltZzJCb2R5PWUuYWRkSW1nMkJvZHkuYmluZChlKSxlLm5hbWU9XCJXZWJHTFJlbmRlcmVyXCIsZX12YXIgdmU9KHIoZ2UsJHQpLGdlKTtmdW5jdGlvbiBnZSh0KXtzKHRoaXMsZ2UpO3ZhciBlPWwodGhpcywoZ2UuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2UpKS5jYWxsKHRoaXMsdCkpO3JldHVybiBlLm5hbWU9XCJDdXN0b21SZW5kZXJlclwiLGV9dmFyIG1lPShyKGJlLGF0KSx0KGJlLFt7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmRvbT1NYXRoLnJhbmRvbSgpLHRoaXMudmVjdG9yLng9dGhpcy54MSt0aGlzLnJhbmRvbSp0aGlzLmxlbmd0aCpNYXRoLmNvcyh0aGlzLmdyYWRpZW50KSx0aGlzLnZlY3Rvci55PXRoaXMueTErdGhpcy5yYW5kb20qdGhpcy5sZW5ndGgqTWF0aC5zaW4odGhpcy5ncmFkaWVudCksdGhpcy52ZWN0b3J9fSx7a2V5OlwiZ2V0RGlyZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmR5LGE9LXRoaXMuZHg7cmV0dXJuIDA8KGkqdCthKmUrdGhpcy5kb3QpKigwPT1hPzE6YSl9fSx7a2V5OlwiZ2V0RGlzdGFuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybih0aGlzLmR5KnQrLXRoaXMuZHgqZSt0aGlzLmRvdCkvTWF0aC5zcXJ0KHRoaXMueHh5eSl9fSx7a2V5OlwiZ2V0U3ltbWV0cmljXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRHcmFkaWVudCgpLGk9MioodGhpcy5nZXRHcmFkaWVudCgpLWUpLGE9dC54LHI9dC55O3JldHVybiB0Lng9YSpNYXRoLmNvcyhpKS1yKk1hdGguc2luKGkpLHQueT1hKk1hdGguc2luKGkpK3IqTWF0aC5jb3MoaSksdH19LHtrZXk6XCJnZXRHcmFkaWVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy5keSx0aGlzLmR4KX19LHtrZXk6XCJyYW5nZU91dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKE1hdGguYWJzKHRoaXMuZ2V0R3JhZGllbnQoKSk8PWguUEkvNCl7aWYodC5wLng8PXRoaXMubWF4eCYmdC5wLng+PXRoaXMubWlueClyZXR1cm4hMH1lbHNlIGlmKHQucC55PD10aGlzLm1heHkmJnQucC55Pj10aGlzLm1pbnkpcmV0dXJuITA7cmV0dXJuITF9fSx7a2V5OlwiZ2V0TGVuZ3RoXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZHgqdGhpcy5keCt0aGlzLmR5KnRoaXMuZHkpfX0se2tleTpcImNyb3NzaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJkZWFkXCI9PT10aGlzLmNyb3NzVHlwZSlpZihcIj5cIj09PXRoaXMuZGlyZWN0aW9ufHxcIlJcIj09PXRoaXMuZGlyZWN0aW9ufHxcInJpZ2h0XCI9PT10aGlzLmRpcmVjdGlvbnx8XCJkb3duXCI9PT10aGlzLmRpcmVjdGlvbil7aWYoIXRoaXMucmFuZ2VPdXQodCkpcmV0dXJuO3RoaXMuZ2V0RGlyZWN0aW9uKHQucC54LHQucC55KSYmKHQuZGVhZD0hMCl9ZWxzZXtpZighdGhpcy5yYW5nZU91dCh0KSlyZXR1cm47dGhpcy5nZXREaXJlY3Rpb24odC5wLngsdC5wLnkpfHwodC5kZWFkPSEwKX1lbHNlIGlmKFwiYm91bmRcIj09PXRoaXMuY3Jvc3NUeXBlKXtpZighdGhpcy5yYW5nZU91dCh0KSlyZXR1cm47dGhpcy5nZXREaXN0YW5jZSh0LnAueCx0LnAueSk8PXQucmFkaXVzJiYoMD09PXRoaXMuZHg/dC52LngqPS0xOjA9PT10aGlzLmR5P3Qudi55Kj0tMTp0aGlzLmdldFN5bW1ldHJpYyh0LnYpKX1lbHNlXCJjcm9zc1wiPT09dGhpcy5jcm9zc1R5cGUmJnRoaXMuYWxlcnQmJihjb25zb2xlLmVycm9yKFwiU29ycnksIExpbmVab25lIGRvZXMgbm90IHN1cHBvcnQgY3Jvc3MgbWV0aG9kIVwiKSx0aGlzLmFsZXJ0PSExKX19XSksYmUpO2Z1bmN0aW9uIGJlKHQsZSxpLGEscil7cyh0aGlzLGJlKTt2YXIgbj1sKHRoaXMsKGJlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGJlKSkuY2FsbCh0aGlzKSk7cmV0dXJuIDA8PWktdD8obi54MT10LG4ueTE9ZSxuLngyPWksbi55Mj1hKToobi54MT1pLG4ueTE9YSxuLngyPXQsbi55Mj1lKSxuLmR4PW4ueDItbi54MSxuLmR5PW4ueTItbi55MSxuLm1pbng9TWF0aC5taW4obi54MSxuLngyKSxuLm1pbnk9TWF0aC5taW4obi55MSxuLnkyKSxuLm1heHg9TWF0aC5tYXgobi54MSxuLngyKSxuLm1heHk9TWF0aC5tYXgobi55MSxuLnkyKSxuLmRvdD1uLngyKm4ueTEtbi54MSpuLnkyLG4ueHh5eT1uLmR4Km4uZHgrbi5keSpuLmR5LG4uZ3JhZGllbnQ9bi5nZXRHcmFkaWVudCgpLG4ubGVuZ3RoPW4uZ2V0TGVuZ3RoKCksbi5kaXJlY3Rpb249UC5pbml0VmFsdWUocixcIj5cIiksbn12YXIgX2U9KHIoeGUsYXQpLHQoeGUsW3trZXk6XCJnZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYW5nbGU9aC5QSXgyKk1hdGgucmFuZG9tKCksdGhpcy5yYW5kb21SYWRpdXM9TWF0aC5yYW5kb20oKSp0aGlzLnJhZGl1cyx0aGlzLnZlY3Rvci54PXRoaXMueCt0aGlzLnJhbmRvbVJhZGl1cypNYXRoLmNvcyh0aGlzLmFuZ2xlKSx0aGlzLnZlY3Rvci55PXRoaXMueSt0aGlzLnJhbmRvbVJhZGl1cypNYXRoLnNpbih0aGlzLmFuZ2xlKSx0aGlzLnZlY3Rvcn19LHtrZXk6XCJzZXRDZW50ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuY2VudGVyLng9dCx0aGlzLmNlbnRlci55PWV9fSx7a2V5OlwiY3Jvc3NpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnAuZGlzdGFuY2VUbyh0aGlzLmNlbnRlcik7XCJkZWFkXCI9PT10aGlzLmNyb3NzVHlwZT9lLXQucmFkaXVzPnRoaXMucmFkaXVzJiYodC5kZWFkPSEwKTpcImJvdW5kXCI9PT10aGlzLmNyb3NzVHlwZT9lK3QucmFkaXVzPj10aGlzLnJhZGl1cyYmdGhpcy5nZXRTeW1tZXRyaWModCk6XCJjcm9zc1wiPT09dGhpcy5jcm9zc1R5cGUmJnRoaXMuYWxlcnQmJihjb25zb2xlLmVycm9yKFwiU29ycnksIENpcmNsZVpvbmUgZG9lcyBub3Qgc3VwcG9ydCBjcm9zcyBtZXRob2QhXCIpLHRoaXMuYWxlcnQ9ITEpfX0se2tleTpcImdldFN5bW1ldHJpY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQudi5nZXRHcmFkaWVudCgpLGk9MioodGhpcy5nZXRHcmFkaWVudCh0KS1lKSxhPXQudi54LHI9dC52Lnk7dC52Lng9YSpNYXRoLmNvcyhpKS1yKk1hdGguc2luKGkpLHQudi55PWEqTWF0aC5zaW4oaSkrcipNYXRoLmNvcyhpKX19LHtrZXk6XCJnZXRHcmFkaWVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybi1oLlBJXzIrTWF0aC5hdGFuMih0LnAueS10aGlzLmNlbnRlci55LHQucC54LXRoaXMuY2VudGVyLngpfX1dKSx4ZSk7ZnVuY3Rpb24geGUodCxlLGkpe3ModGhpcyx4ZSk7dmFyIGE9bCh0aGlzLCh4ZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih4ZSkpLmNhbGwodGhpcykpO3JldHVybiBhLng9dCxhLnk9ZSxhLnJhZGl1cz1pLGEuYW5nbGU9MCxhLmNlbnRlcj17eDp0LHk6ZX0sYX12YXIga2U9KHIoUGUsYXQpLHQoUGUsW3trZXk6XCJnZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVjdG9yLng9dGhpcy54K01hdGgucmFuZG9tKCkqdGhpcy53aWR0aCx0aGlzLnZlY3Rvci55PXRoaXMueStNYXRoLnJhbmRvbSgpKnRoaXMuaGVpZ2h0LHRoaXMudmVjdG9yfX0se2tleTpcImNyb3NzaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7XCJkZWFkXCI9PT10aGlzLmNyb3NzVHlwZT8odC5wLngrdC5yYWRpdXM8dGhpcy54P3QuZGVhZD0hMDp0LnAueC10LnJhZGl1cz50aGlzLngrdGhpcy53aWR0aCYmKHQuZGVhZD0hMCksdC5wLnkrdC5yYWRpdXM8dGhpcy55P3QuZGVhZD0hMDp0LnAueS10LnJhZGl1cz50aGlzLnkrdGhpcy5oZWlnaHQmJih0LmRlYWQ9ITApKTpcImJvdW5kXCI9PT10aGlzLmNyb3NzVHlwZT8odC5wLngtdC5yYWRpdXM8dGhpcy54Pyh0LnAueD10aGlzLngrdC5yYWRpdXMsdC52LngqPS0xKTp0LnAueCt0LnJhZGl1cz50aGlzLngrdGhpcy53aWR0aCYmKHQucC54PXRoaXMueCt0aGlzLndpZHRoLXQucmFkaXVzLHQudi54Kj0tMSksdC5wLnktdC5yYWRpdXM8dGhpcy55Pyh0LnAueT10aGlzLnkrdC5yYWRpdXMsdC52LnkqPS0xKTp0LnAueSt0LnJhZGl1cz50aGlzLnkrdGhpcy5oZWlnaHQmJih0LnAueT10aGlzLnkrdGhpcy5oZWlnaHQtdC5yYWRpdXMsdC52LnkqPS0xKSk6XCJjcm9zc1wiPT09dGhpcy5jcm9zc1R5cGUmJih0LnAueCt0LnJhZGl1czx0aGlzLngmJnQudi54PD0wP3QucC54PXRoaXMueCt0aGlzLndpZHRoK3QucmFkaXVzOnQucC54LXQucmFkaXVzPnRoaXMueCt0aGlzLndpZHRoJiYwPD10LnYueCYmKHQucC54PXRoaXMueC10LnJhZGl1cyksdC5wLnkrdC5yYWRpdXM8dGhpcy55JiZ0LnYueTw9MD90LnAueT10aGlzLnkrdGhpcy5oZWlnaHQrdC5yYWRpdXM6dC5wLnktdC5yYWRpdXM+dGhpcy55K3RoaXMuaGVpZ2h0JiYwPD10LnYueSYmKHQucC55PXRoaXMueS10LnJhZGl1cykpfX1dKSxQZSk7ZnVuY3Rpb24gUGUodCxlLGksYSl7cyh0aGlzLFBlKTt2YXIgcj1sKHRoaXMsKFBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFBlKSkuY2FsbCh0aGlzKSk7cmV0dXJuIHIueD10LHIueT1lLHIud2lkdGg9aSxyLmhlaWdodD1hLHJ9dmFyIEVlPShyKEFlLGF0KSx0KEFlLFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxhKXt0aGlzLmltYWdlRGF0YT10LHRoaXMueD1QLmluaXRWYWx1ZShlLDApLHRoaXMueT1QLmluaXRWYWx1ZShpLDApLHRoaXMuZD1QLmluaXRWYWx1ZShhLDIpLHRoaXMudmVjdG9ycz1bXSx0aGlzLnNldFZlY3RvcnMoKX19LHtrZXk6XCJzZXRWZWN0b3JzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD12b2lkIDAsZT12b2lkIDAsaT10aGlzLmltYWdlRGF0YS53aWR0aCxhPXRoaXMuaW1hZ2VEYXRhLmhlaWdodDtmb3IodD0wO3Q8aTt0Kz10aGlzLmQpZm9yKGU9MDtlPGE7ZSs9dGhpcy5kKXt2YXIgcj00KigoZT4+MCkqaSsodD4+MCkpOzA8dGhpcy5pbWFnZURhdGEuZGF0YVszK3JdJiZ0aGlzLnZlY3RvcnMucHVzaCh7eDp0K3RoaXMueCx5OmUrdGhpcy55fSl9cmV0dXJuIHRoaXMudmVjdG9yfX0se2tleTpcImdldEJvdW5kXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT00KigoZT4+MCkqdGhpcy5pbWFnZURhdGEud2lkdGgrKHQ+PjApKTtyZXR1cm4gMDx0aGlzLmltYWdlRGF0YS5kYXRhWzMraV19fSx7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVAuZ2V0UmFuZEZyb21BcnJheSh0aGlzLnZlY3RvcnMpO3JldHVybiB0aGlzLnZlY3Rvci5jb3B5KHQpfX0se2tleTpcImdldENvbG9yXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LT10aGlzLng7dmFyIGk9NCooKChlLT10aGlzLnkpPj4wKSp0aGlzLmltYWdlRGF0YS53aWR0aCsodD4+MCkpO3JldHVybntyOnRoaXMuaW1hZ2VEYXRhLmRhdGFbaV0sZzp0aGlzLmltYWdlRGF0YS5kYXRhWzEraV0sYjp0aGlzLmltYWdlRGF0YS5kYXRhWzIraV0sYTp0aGlzLmltYWdlRGF0YS5kYXRhWzMraV19fX0se2tleTpcImNyb3NzaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7XCJkZWFkXCI9PT10aGlzLmNyb3NzVHlwZT90aGlzLmdldEJvdW5kKHQucC54LXRoaXMueCx0LnAueS10aGlzLnkpP3QuZGVhZD0hMDp0LmRlYWQ9ITE6XCJib3VuZFwiPT09dGhpcy5jcm9zc1R5cGUmJih0aGlzLmdldEJvdW5kKHQucC54LXRoaXMueCx0LnAueS10aGlzLnkpfHx0LnYubmVnYXRlKCkpfX1dKSxBZSk7ZnVuY3Rpb24gQWUodCxlLGksYSl7cyh0aGlzLEFlKTt2YXIgcj1sKHRoaXMsKEFlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKEFlKSkuY2FsbCh0aGlzKSk7cmV0dXJuIHIucmVzZXQodCxlLGksYSkscn12YXIgVGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlKXt0LmFkZEV2ZW50TGlzdGVuZXIoXCJQUk9UT05fVVBEQVRFX0FGVEVSXCIsZnVuY3Rpb24oKXtyZXR1cm4gZSgpfSl9LGdldFN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBlPUguaGV4VG9SZ2IoMDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6XCIjZmYwMDAwXCIpO3JldHVyblwicmdiYShcIitlLnIrXCIsIFwiK2UuZytcIiwgXCIrZS5iK1wiLCAwLjUpXCJ9LGRyYXdab25lOmZ1bmN0aW9uKHQsZSxpLGEpe3ZhciByPWUuZ2V0Q29udGV4dChcIjJkXCIpLG49dGhpcy5nZXRTdHlsZSgpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcih0LGZ1bmN0aW9uKCl7YSYmci5jbGVhclJlY3QoMCwwLGUud2lkdGgsZS5oZWlnaHQpLGkgaW5zdGFuY2VvZiBudD8oci5iZWdpblBhdGgoKSxyLmZpbGxTdHlsZT1uLHIuYXJjKGkueCxpLnksMTAsMCwyKk1hdGguUEksITApLHIuZmlsbCgpLHIuY2xvc2VQYXRoKCkpOmkgaW5zdGFuY2VvZiBtZT8oci5iZWdpblBhdGgoKSxyLnN0cm9rZVN0eWxlPW4sci5tb3ZlVG8oaS54MSxpLnkxKSxyLmxpbmVUbyhpLngyLGkueTIpLHIuc3Ryb2tlKCksci5jbG9zZVBhdGgoKSk6aSBpbnN0YW5jZW9mIGtlPyhyLmJlZ2luUGF0aCgpLHIuc3Ryb2tlU3R5bGU9bixyLmRyYXdSZWN0KGkueCxpLnksaS53aWR0aCxpLmhlaWdodCksci5zdHJva2UoKSxyLmNsb3NlUGF0aCgpKTppIGluc3RhbmNlb2YgX2UmJihyLmJlZ2luUGF0aCgpLHIuc3Ryb2tlU3R5bGU9bixyLmFyYyhpLngsaS55LGkucmFkaXVzLDAsMipNYXRoLlBJLCEwKSxyLnN0cm9rZSgpLHIuY2xvc2VQYXRoKCkpfSl9LGRyYXdFbWl0dGVyOmZ1bmN0aW9uKHQsZSxpLGEpe3ZhciByPWUuZ2V0Q29udGV4dChcIjJkXCIpLG49dGhpcy5nZXRTdHlsZSgpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcih0LGZ1bmN0aW9uKCl7YSYmci5jbGVhclJlY3QoMCwwLGUud2lkdGgsZS5oZWlnaHQpLHIuYmVnaW5QYXRoKCksci5maWxsU3R5bGU9bixyLmFyYyhpLnAueCxpLnAueSwxMCwwLDIqTWF0aC5QSSwhMCksci5maWxsKCksci5jbG9zZVBhdGgoKX0pfX07cmV0dXJuIFYuUGFydGljbGU9Vi5QPWosVi5Qb29sPVQsVi5VdGlsPVAsVi5Db2xvclV0aWw9SCxWLk1hdGhVdGlsPWgsVi5WZWN0b3IyRD1WLlZlY3Rvcj1GLFYuUG9sYXIyRD1WLlBvbGFyPXEsVi5BcnJheVNwYW49WSxWLlJlY3RhbmdsZT1aLFYuUmF0ZT1LLFYuZWFzZT1VLFYuU3Bhbj1uLFYuTWF0Mz1YLFYuZ2V0U3Bhbj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBuKHQsZSxpKX0sVi5jcmVhdGVBcnJheVNwYW49WS5jcmVhdGVBcnJheVNwYW4sVi5Jbml0aWFsaXplPVYuSW5pdD0kLFYuTGlmZT1WLkw9ZXQsVi5Qb3NpdGlvbj1WLlA9b3QsVi5WZWxvY2l0eT1WLlY9bHQsVi5NYXNzPVYuTT1jdCxWLlJhZGl1cz1WLlI9eXQsVi5Cb2R5PVYuQj1mdCxWLkJlaGF2aW91cj1ndCxWLkZvcmNlPVYuRj1idCxWLkF0dHJhY3Rpb249Vi5BPXh0LFYuUmFuZG9tRHJpZnQ9Vi5SRD1QdCxWLkdyYXZpdHk9Vi5HPUF0LFYuQ29sbGlzaW9uPVJ0LFYuQ3Jvc3Nab25lPXd0LFYuQWxwaGE9Vi5BPVN0LFYuU2NhbGU9Vi5TPUR0LFYuUm90YXRlPU10LFYuQ29sb3I9THQsVi5SZXB1bHNpb249TnQsVi5DeWNsb25lPXp0LFYuR3Jhdml0eVdlbGw9cXQsVi5FbWl0dGVyPVl0LFYuQmVoYXZpb3VyRW1pdHRlcj1adCxWLkZvbGxvd0VtaXR0ZXI9S3QsVi5ab25lPWF0LFYuTGluZVpvbmU9bWUsVi5DaXJjbGVab25lPV9lLFYuUG9pbnRab25lPW50LFYuUmVjdFpvbmU9a2UsVi5JbWFnZVpvbmU9RWUsVi5DYW52YXNSZW5kZXJlcj1lZSxWLkRvbVJlbmRlcmVyPWFlLFYuRWFzZWxSZW5kZXJlcj1uZSxWLlBpeGlSZW5kZXJlcj11ZSxWLlBpeGVsUmVuZGVyZXI9b2UsVi5XZWJHTFJlbmRlcmVyPVYuV2ViR2xSZW5kZXJlcj1wZSxWLkN1c3RvbVJlbmRlcmVyPXZlLFYuRGVidWc9VGUsUC5hc3NpZ24oVixVKSxWfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm90b24ubWluLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/proton-engine/build/proton.min.js\n");

/***/ }),

/***/ "./node_modules/raf-manager/build/RAFManager.min.js":
/*!**********************************************************!*\
  !*** ./node_modules/raf-manager/build/RAFManager.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*!\n* RAFManager v0.1.0\n*\n* Copyright 2018-2018, ajiemath <ajiemath@gmail.com>\n* Licensed under the MIT license\n* http://www.opensource.org/licenses/mit-license\n*\n*/\n!function(t,i){ true?module.exports=i():undefined}(this,function(){\"use strict\";return function(){for(var t=[\"ms\",\"moz\",\"webkit\",\"o\"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[t[i]+\"CancelAnimationFrame\"]||window[t[i]+\"CancelRequestAnimationFrame\"]}(),{timer:0,state:\"stop\",animations:[],add:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,n={callback:t,fps:i,n:60/i,param:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i:0};return this.animations.push(n),this.animations.length>=1&&this.start(),this},getIndex:function(t){for(var i=0;i<this.animations.length;i++){if(this.animations[i].callback===t)return i}return-1},remove:function(t){if(!(this.getIndex(t)<0))return this.deleteMap(t),0===this.animations.length&&this.stop(),this},deleteMap:function(t){var i=this.getIndex(t),n=this.animations[i];for(var e in n)delete n[e];this.animations.splice(i,1)},start:function(){if(\"start\"!==this.state)return this.state=\"start\",this.tick(),this},stop:function(){if(\"stop\"!==this.state)return this.state=\"stop\",cancelAnimationFrame(this.timer),this},tick:function(){var t=this;this.timer=requestAnimationFrame(function(){t.tick()});for(var i=0;i<this.animations.length;i++){var n=this.animations[i],e=n.callback,a=n.param;n.i++,n.i>=n.n&&(e(a),n.i=0)}}}});\n//# sourceMappingURL=RAFManager.min.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmFmLW1hbmFnZXIvYnVpbGQvUkFGTWFuYWdlci5taW4uanM/YjRlNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxLQUFvRCxvQkFBb0IsU0FBZ0UsQ0FBQyxpQkFBaUIsYUFBYSxrQkFBa0Isd0NBQXdDLDBDQUEwQyxrTEFBa0wsSUFBSSxtREFBbUQsbUVBQW1FLCtGQUErRiw0RUFBNEUsc0JBQXNCLFlBQVkseUJBQXlCLEtBQUssNENBQTRDLFNBQVMsb0JBQW9CLCtGQUErRix1QkFBdUIsNENBQTRDLDJCQUEyQiw0QkFBNEIsa0JBQWtCLG1FQUFtRSxpQkFBaUIsc0ZBQXNGLGlCQUFpQixXQUFXLDRDQUE0QyxTQUFTLEVBQUUsWUFBWSx5QkFBeUIsS0FBSyxnREFBZ0QsZ0NBQWdDO0FBQzU5QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9yYWYtbWFuYWdlci9idWlsZC9SQUZNYW5hZ2VyLm1pbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuKiBSQUZNYW5hZ2VyIHYwLjEuMFxuKlxuKiBDb3B5cmlnaHQgMjAxOC0yMDE4LCBhamllbWF0aCA8YWppZW1hdGhAZ21haWwuY29tPlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuKlxuKi9cbiFmdW5jdGlvbih0LGkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWkoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGkpOnQuUkFGTWFuYWdlcj1pKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9W1wibXNcIixcIm1velwiLFwid2Via2l0XCIsXCJvXCJdLGk9MDtpPHQubGVuZ3RoJiYhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsrK2kpd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT13aW5kb3dbdFtpXStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9d2luZG93W3RbaV0rXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8d2luZG93W3RbaV0rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl19KCkse3RpbWVyOjAsc3RhdGU6XCJzdG9wXCIsYW5pbWF0aW9uczpbXSxhZGQ6ZnVuY3Rpb24odCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjYwLG49e2NhbGxiYWNrOnQsZnBzOmksbjo2MC9pLHBhcmFtOmFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsLGk6MH07cmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5wdXNoKG4pLHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg+PTEmJnRoaXMuc3RhcnQoKSx0aGlzfSxnZXRJbmRleDpmdW5jdGlvbih0KXtmb3IodmFyIGk9MDtpPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXtpZih0aGlzLmFuaW1hdGlvbnNbaV0uY2FsbGJhY2s9PT10KXJldHVybiBpfXJldHVybi0xfSxyZW1vdmU6ZnVuY3Rpb24odCl7aWYoISh0aGlzLmdldEluZGV4KHQpPDApKXJldHVybiB0aGlzLmRlbGV0ZU1hcCh0KSwwPT09dGhpcy5hbmltYXRpb25zLmxlbmd0aCYmdGhpcy5zdG9wKCksdGhpc30sZGVsZXRlTWFwOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuZ2V0SW5kZXgodCksbj10aGlzLmFuaW1hdGlvbnNbaV07Zm9yKHZhciBlIGluIG4pZGVsZXRlIG5bZV07dGhpcy5hbmltYXRpb25zLnNwbGljZShpLDEpfSxzdGFydDpmdW5jdGlvbigpe2lmKFwic3RhcnRcIiE9PXRoaXMuc3RhdGUpcmV0dXJuIHRoaXMuc3RhdGU9XCJzdGFydFwiLHRoaXMudGljaygpLHRoaXN9LHN0b3A6ZnVuY3Rpb24oKXtpZihcInN0b3BcIiE9PXRoaXMuc3RhdGUpcmV0dXJuIHRoaXMuc3RhdGU9XCJzdG9wXCIsY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aW1lciksdGhpc30sdGljazpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy50aW1lcj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXt0LnRpY2soKX0pO2Zvcih2YXIgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuYW5pbWF0aW9uc1tpXSxlPW4uY2FsbGJhY2ssYT1uLnBhcmFtO24uaSsrLG4uaT49bi5uJiYoZShhKSxuLmk9MCl9fX19KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJBRk1hbmFnZXIubWluLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/raf-manager/build/RAFManager.min.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return App; });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bootstrap/dist/css/bootstrap.min.css */ \"./node_modules/bootstrap/dist/css/bootstrap.min.css\");\n/* harmony import */ var bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _assets_index_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../assets/index.scss */ \"./assets/index.scss\");\n/* harmony import */ var _assets_index_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_assets_index_scss__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ \"./node_modules/framer-motion/dist/framer-motion.es.js\");\n/* harmony import */ var particles_bg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! particles-bg */ \"./node_modules/particles-bg/dist/index.es.js\");\n/* harmony import */ var _components_Header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Header */ \"./components/Header.js\");\n\nvar _jsxFileName = \"/Users/user/Documents/domains/vkovalov/pages/_app.js\";\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement;\n\n\n\n\n\n // This default export is required in a new `pages/_app.js` file.\n\nfunction App(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n  return __jsx(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, __jsx(_components_Header__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }\n  }), __jsx(\"main\", {\n    id: \"page-content\",\n    className: \"d-flex flex-column justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, __jsx(framer_motion__WEBPACK_IMPORTED_MODULE_4__[\"AnimatePresence\"], {\n    exitBeforeEnter: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }\n  }, __jsx(Component, Object(_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 15\n    }\n  }))))));\n}\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports_1 = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports_1, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports_1)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports_1;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports_1)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9fYXBwLmpzP2Q1MzAiXSwibmFtZXMiOlsiQXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0NBR0E7O0FBQ2UsU0FBU0EsR0FBVCxPQUF1QztBQUFBLE1BQXhCQyxTQUF3QixRQUF4QkEsU0FBd0I7QUFBQSxNQUFiQyxTQUFhLFFBQWJBLFNBQWE7QUFDcEQsU0FDSSxtRUFDRSxNQUFDLDBEQUFEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFERixFQUVFO0FBQU0sTUFBRSxFQUFDLGNBQVQ7QUFBd0IsYUFBUyxFQUFDLDhEQUFsQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQ0UsTUFBQyw2REFBRDtBQUFpQixtQkFBZSxNQUFoQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQ0U7QUFBSyxhQUFTLEVBQUMsU0FBZjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQ0UsTUFBQyxTQUFELHlGQUFlQSxTQUFmO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FERixDQURGLENBREYsQ0FGRixDQURKO0FBWUQ7S0FidUJGLEciLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnXG5pbXBvcnQgJy4uL2Fzc2V0cy9pbmRleC5zY3NzJ1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIlxuaW1wb3J0IFBhcnRpY2xlc0JnIGZyb20gXCJwYXJ0aWNsZXMtYmdcIjtcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXInXG5cbi8vIFRoaXMgZGVmYXVsdCBleHBvcnQgaXMgcmVxdWlyZWQgaW4gYSBuZXcgYHBhZ2VzL19hcHAuanNgIGZpbGUuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9KSB7XG4gIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8SGVhZGVyIC8+XG4gICAgICAgIDxtYWluIGlkPVwicGFnZS1jb250ZW50XCIgY2xhc3NOYW1lPVwiZC1mbGV4IGZsZXgtY29sdW1uIGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZSBleGl0QmVmb3JlRW50ZXI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIDwvbWFpbj5cbiAgICAgIDwvPlxuICAgIClcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ })

})